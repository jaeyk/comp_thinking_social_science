<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4.2 Base R data structure | Computational Thinking for Social Scientists</title>
  <meta name="description" content="4.2 Base R data structure | Computational Thinking for Social Scientists. An online textbook for teaching computational tools and techniques to social scientists." />
  <meta name="generator" content="bookdown 0.43 and GitBook 2.6.7" />

  <meta property="og:title" content="4.2 Base R data structure | Computational Thinking for Social Scientists" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="4.2 Base R data structure | Computational Thinking for Social Scientists. An online textbook for teaching computational tools and techniques to social scientists." />
  <meta name="github-repo" content="jaeyk/PS239T" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4.2 Base R data structure | Computational Thinking for Social Scientists" />
  <meta name="twitter:site" content="@JaeJaeykim2" />
  <meta name="twitter:description" content="4.2 Base R data structure | Computational Thinking for Social Scientists. An online textbook for teaching computational tools and techniques to social scientists." />
  

<meta name="author" content="Jae Yeon Kim" />


<meta name="date" content="2025-04-19" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="setup-2.html"/>
<link rel="next" href="tidyverse.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/tabwid-1.1.3/tabwid.css" rel="stylesheet" />
<script src="libs/tabwid-1.1.3/tabwid.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Computational Thinking for Social Scientists</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Hello, World</a>
<ul>
<li class="chapter" data-level="1.1" data-path="part-i-fundamentals.html"><a href="part-i-fundamentals.html"><i class="fa fa-check"></i><b>1.1</b> Part I: Fundamentals</a></li>
<li class="chapter" data-level="1.2" data-path="part-ii-applications.html"><a href="part-ii-applications.html"><i class="fa fa-check"></i><b>1.2</b> Part II: Applications</a></li>
<li class="chapter" data-level="1.3" data-path="special-thanks.html"><a href="special-thanks.html"><i class="fa fa-check"></i><b>1.3</b> Special Thanks</a></li>
<li class="chapter" data-level="1.4" data-path="suggestions-questions-or-comments.html"><a href="suggestions-questions-or-comments.html"><i class="fa fa-check"></i><b>1.4</b> Suggestions, Questions, or Comments</a></li>
<li class="chapter" data-level="1.5" data-path="license.html"><a href="license.html"><i class="fa fa-check"></i><b>1.5</b> License</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="motivation.html"><a href="motivation.html"><i class="fa fa-check"></i><b>2</b> Computational Thinking</a>
<ul>
<li class="chapter" data-level="2.1" data-path="why-computational-thinking.html"><a href="why-computational-thinking.html"><i class="fa fa-check"></i><b>2.1</b> Why computational thinking</a></li>
<li class="chapter" data-level="2.2" data-path="computational-thinking-in-the-age-of-generative-ai.html"><a href="computational-thinking-in-the-age-of-generative-ai.html"><i class="fa fa-check"></i><b>2.2</b> Computational thinking in the age of generative AI</a></li>
<li class="chapter" data-level="2.3" data-path="how-to-teach-and-learn-computational-thinking.html"><a href="how-to-teach-and-learn-computational-thinking.html"><i class="fa fa-check"></i><b>2.3</b> How to teach and learn computational thinking</a></li>
<li class="chapter" data-level="2.4" data-path="computational-thinking-and-a-career-in-computational-social-science.html"><a href="computational-thinking-and-a-career-in-computational-social-science.html"><i class="fa fa-check"></i><b>2.4</b> Computational thinking and a career in computational social science</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="git_bash.html"><a href="git_bash.html"><i class="fa fa-check"></i><b>3</b> Managing data and code</a>
<ul>
<li class="chapter" data-level="3.1" data-path="the-command-line.html"><a href="the-command-line.html"><i class="fa fa-check"></i><b>3.1</b> The Command Line</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="the-command-line.html"><a href="the-command-line.html#the-big-picture"><i class="fa fa-check"></i><b>3.1.1</b> The Big Picture</a></li>
<li class="chapter" data-level="3.1.2" data-path="the-command-line.html"><a href="the-command-line.html#why-bother-using-the-command-line"><i class="fa fa-check"></i><b>3.1.2</b> Why bother using the command line?</a></li>
<li class="chapter" data-level="3.1.3" data-path="the-command-line.html"><a href="the-command-line.html#unix-shell"><i class="fa fa-check"></i><b>3.1.3</b> UNIX Shell</a></li>
<li class="chapter" data-level="3.1.4" data-path="the-command-line.html"><a href="the-command-line.html#references"><i class="fa fa-check"></i><b>3.1.4</b> References</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="git-and-github.html"><a href="git-and-github.html"><i class="fa fa-check"></i><b>3.2</b> Git and GitHub</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="git-and-github.html"><a href="git-and-github.html#the-big-picture-1"><i class="fa fa-check"></i><b>3.2.1</b> The Big Picture</a></li>
<li class="chapter" data-level="3.2.2" data-path="git-and-github.html"><a href="git-and-github.html#version-control-system"><i class="fa fa-check"></i><b>3.2.2</b> Version control system</a></li>
<li class="chapter" data-level="3.2.3" data-path="git-and-github.html"><a href="git-and-github.html#setup"><i class="fa fa-check"></i><b>3.2.3</b> Setup</a></li>
<li class="chapter" data-level="3.2.4" data-path="git-and-github.html"><a href="git-and-github.html#cloning-a-repository"><i class="fa fa-check"></i><b>3.2.4</b> Cloning a repository</a></li>
<li class="chapter" data-level="3.2.5" data-path="git-and-github.html"><a href="git-and-github.html#making-a-repository"><i class="fa fa-check"></i><b>3.2.5</b> Making a repository</a></li>
<li class="chapter" data-level="3.2.6" data-path="git-and-github.html"><a href="git-and-github.html#commit-changes"><i class="fa fa-check"></i><b>3.2.6</b> Commit changes</a></li>
<li class="chapter" data-level="3.2.7" data-path="git-and-github.html"><a href="git-and-github.html#push-and-pull-or-fetch"><i class="fa fa-check"></i><b>3.2.7</b> Push and pull (or fetch)</a></li>
<li class="chapter" data-level="3.2.8" data-path="git-and-github.html"><a href="git-and-github.html#branching"><i class="fa fa-check"></i><b>3.2.8</b> Branching</a></li>
<li class="chapter" data-level="3.2.9" data-path="git-and-github.html"><a href="git-and-github.html#other-useful-commands"><i class="fa fa-check"></i><b>3.2.9</b> Other useful commands</a></li>
<li class="chapter" data-level="3.2.10" data-path="git-and-github.html"><a href="git-and-github.html#collaborations"><i class="fa fa-check"></i><b>3.2.10</b> Collaborations</a></li>
<li class="chapter" data-level="3.2.11" data-path="git-and-github.html"><a href="git-and-github.html#deployment-github-pages"><i class="fa fa-check"></i><b>3.2.11</b> Deployment: GitHub Pages</a></li>
<li class="chapter" data-level="3.2.12" data-path="git-and-github.html"><a href="git-and-github.html#tracking-progress-github-issues"><i class="fa fa-check"></i><b>3.2.12</b> Tracking progress: GitHub Issues</a></li>
<li class="chapter" data-level="3.2.13" data-path="git-and-github.html"><a href="git-and-github.html#project-management-github-dashboards"><i class="fa fa-check"></i><b>3.2.13</b> Project management: GitHub Dashboards</a></li>
<li class="chapter" data-level="3.2.14" data-path="git-and-github.html"><a href="git-and-github.html#using-git-clients"><i class="fa fa-check"></i><b>3.2.14</b> Using Git clients</a></li>
<li class="chapter" data-level="3.2.15" data-path="git-and-github.html"><a href="git-and-github.html#the-big-picture-2"><i class="fa fa-check"></i><b>3.2.15</b> The Big Picture</a></li>
<li class="chapter" data-level="3.2.16" data-path="git-and-github.html"><a href="git-and-github.html#rstudio"><i class="fa fa-check"></i><b>3.2.16</b> RStudio</a></li>
<li class="chapter" data-level="3.2.17" data-path="git-and-github.html"><a href="git-and-github.html#basic-syntax"><i class="fa fa-check"></i><b>3.2.17</b> Basic Syntax</a></li>
<li class="chapter" data-level="3.2.18" data-path="git-and-github.html"><a href="git-and-github.html#environment"><i class="fa fa-check"></i><b>3.2.18</b> Environment</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="project-oriented-research.html"><a href="project-oriented-research.html"><i class="fa fa-check"></i><b>3.3</b> Project-oriented research</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="project-oriented-research.html"><a href="project-oriented-research.html#the-big-picture-3"><i class="fa fa-check"></i><b>3.3.1</b> The Big Picture</a></li>
<li class="chapter" data-level="3.3.2" data-path="project-oriented-research.html"><a href="project-oriented-research.html#references-1"><i class="fa fa-check"></i><b>3.3.2</b> References</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="writing-code-how-to-code-like-a-professional.html"><a href="writing-code-how-to-code-like-a-professional.html"><i class="fa fa-check"></i><b>3.4</b> Writing code: How to code like a professional</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="writing-code-how-to-code-like-a-professional.html"><a href="writing-code-how-to-code-like-a-professional.html#the-big-picture-4"><i class="fa fa-check"></i><b>3.4.1</b> The Big Picture</a></li>
<li class="chapter" data-level="3.4.2" data-path="writing-code-how-to-code-like-a-professional.html"><a href="writing-code-how-to-code-like-a-professional.html#write-readable-code"><i class="fa fa-check"></i><b>3.4.2</b> Write readable code</a></li>
<li class="chapter" data-level="3.4.3" data-path="writing-code-how-to-code-like-a-professional.html"><a href="writing-code-how-to-code-like-a-professional.html#write-reusable-code"><i class="fa fa-check"></i><b>3.4.3</b> Write reusable code</a></li>
<li class="chapter" data-level="3.4.4" data-path="writing-code-how-to-code-like-a-professional.html"><a href="writing-code-how-to-code-like-a-professional.html#test-your-code-systematically"><i class="fa fa-check"></i><b>3.4.4</b> Test your code systematically</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="run-tests.html"><a href="run-tests.html"><i class="fa fa-check"></i><b>3.5</b> Run tests</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="run-tests.html"><a href="run-tests.html#asking-questions-minimal-reproducible-example"><i class="fa fa-check"></i><b>3.5.1</b> Asking questions: Minimal reproducible example</a></li>
<li class="chapter" data-level="3.5.2" data-path="run-tests.html"><a href="run-tests.html#references-2"><i class="fa fa-check"></i><b>3.5.2</b> References</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tidy_data.html"><a href="tidy_data.html"><i class="fa fa-check"></i><b>4</b> Tidy data and its friends</a>
<ul>
<li class="chapter" data-level="4.1" data-path="setup-2.html"><a href="setup-2.html"><i class="fa fa-check"></i><b>4.1</b> Setup</a></li>
<li class="chapter" data-level="4.2" data-path="base-r-data-structure.html"><a href="base-r-data-structure.html"><i class="fa fa-check"></i><b>4.2</b> Base R data structure</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="base-r-data-structure.html"><a href="base-r-data-structure.html#d-data-vectors"><i class="fa fa-check"></i><b>4.2.1</b> 1D data: Vectors</a></li>
<li class="chapter" data-level="4.2.2" data-path="base-r-data-structure.html"><a href="base-r-data-structure.html#data-structures"><i class="fa fa-check"></i><b>4.2.2</b> Data structures</a></li>
<li class="chapter" data-level="4.2.3" data-path="base-r-data-structure.html"><a href="base-r-data-structure.html#attributes"><i class="fa fa-check"></i><b>4.2.3</b> Attributes</a></li>
<li class="chapter" data-level="4.2.4" data-path="base-r-data-structure.html"><a href="base-r-data-structure.html#d-data-matrices-and-dataframes"><i class="fa fa-check"></i><b>4.2.4</b> 2D data: Matrices and dataframes</a></li>
<li class="chapter" data-level="4.2.5" data-path="base-r-data-structure.html"><a href="base-r-data-structure.html#subset"><i class="fa fa-check"></i><b>4.2.5</b> Subset</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>4.3</b> Tidyverse</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="tidyverse.html"><a href="tidyverse.html#the-big-picture-5"><i class="fa fa-check"></i><b>4.3.1</b> The Big Picture</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="tidying-tidyr.html"><a href="tidying-tidyr.html"><i class="fa fa-check"></i><b>4.4</b> Tidying (tidyr)</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="tidying-tidyr.html"><a href="tidying-tidyr.html#reshaping"><i class="fa fa-check"></i><b>4.4.1</b> Reshaping</a></li>
<li class="chapter" data-level="4.4.2" data-path="tidying-tidyr.html"><a href="tidying-tidyr.html#filling"><i class="fa fa-check"></i><b>4.4.2</b> Filling</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="manipulating-dplyr.html"><a href="manipulating-dplyr.html"><i class="fa fa-check"></i><b>4.5</b> Manipulating (dplyr)</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="manipulating-dplyr.html"><a href="manipulating-dplyr.html#rearranging"><i class="fa fa-check"></i><b>4.5.1</b> Rearranging</a></li>
<li class="chapter" data-level="4.5.2" data-path="manipulating-dplyr.html"><a href="manipulating-dplyr.html#subset-observations-rows"><i class="fa fa-check"></i><b>4.5.2</b> Subset observations (rows)</a></li>
<li class="chapter" data-level="4.5.3" data-path="manipulating-dplyr.html"><a href="manipulating-dplyr.html#subset-variables-columns"><i class="fa fa-check"></i><b>4.5.3</b> Subset variables (columns)</a></li>
<li class="chapter" data-level="4.5.4" data-path="manipulating-dplyr.html"><a href="manipulating-dplyr.html#create-variables"><i class="fa fa-check"></i><b>4.5.4</b> Create variables</a></li>
<li class="chapter" data-level="4.5.5" data-path="manipulating-dplyr.html"><a href="manipulating-dplyr.html#counting"><i class="fa fa-check"></i><b>4.5.5</b> Counting</a></li>
<li class="chapter" data-level="4.5.6" data-path="manipulating-dplyr.html"><a href="manipulating-dplyr.html#summarizing"><i class="fa fa-check"></i><b>4.5.6</b> Summarizing</a></li>
<li class="chapter" data-level="4.5.7" data-path="manipulating-dplyr.html"><a href="manipulating-dplyr.html#grouping"><i class="fa fa-check"></i><b>4.5.7</b> Grouping</a></li>
<li class="chapter" data-level="4.5.8" data-path="manipulating-dplyr.html"><a href="manipulating-dplyr.html#joining"><i class="fa fa-check"></i><b>4.5.8</b> Joining</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="modeling-broom.html"><a href="modeling-broom.html"><i class="fa fa-check"></i><b>4.6</b> Modeling (broom)</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="modeling-broom.html"><a href="modeling-broom.html#nesting"><i class="fa fa-check"></i><b>4.6.1</b> Nesting</a></li>
<li class="chapter" data-level="4.6.2" data-path="modeling-broom.html"><a href="modeling-broom.html#mapping"><i class="fa fa-check"></i><b>4.6.2</b> Mapping</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="visualizing-ggplot2.html"><a href="visualizing-ggplot2.html"><i class="fa fa-check"></i><b>4.7</b> Visualizing (ggplot2)</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="visualizing-ggplot2.html"><a href="visualizing-ggplot2.html#motivation-2"><i class="fa fa-check"></i><b>4.7.1</b> Motivation</a></li>
<li class="chapter" data-level="4.7.2" data-path="visualizing-ggplot2.html"><a href="visualizing-ggplot2.html#the-grammar-of-graphics"><i class="fa fa-check"></i><b>4.7.2</b> The grammar of graphics</a></li>
<li class="chapter" data-level="4.7.3" data-path="visualizing-ggplot2.html"><a href="visualizing-ggplot2.html#mapping-and-geom"><i class="fa fa-check"></i><b>4.7.3</b> mapping and geom</a></li>
<li class="chapter" data-level="4.7.4" data-path="visualizing-ggplot2.html"><a href="visualizing-ggplot2.html#basic-aes-x-y"><i class="fa fa-check"></i><b>4.7.4</b> basic aes (x , y)</a></li>
<li class="chapter" data-level="4.7.5" data-path="visualizing-ggplot2.html"><a href="visualizing-ggplot2.html#univariate-distribution"><i class="fa fa-check"></i><b>4.7.5</b> Univariate distribution</a></li>
<li class="chapter" data-level="4.7.6" data-path="visualizing-ggplot2.html"><a href="visualizing-ggplot2.html#advanced-aes-size-color"><i class="fa fa-check"></i><b>4.7.6</b> Advanced aes (size, color)</a></li>
<li class="chapter" data-level="4.7.7" data-path="visualizing-ggplot2.html"><a href="visualizing-ggplot2.html#co-ordinates-and-scales"><i class="fa fa-check"></i><b>4.7.7</b> Co-ordinates and scales</a></li>
<li class="chapter" data-level="4.7.8" data-path="visualizing-ggplot2.html"><a href="visualizing-ggplot2.html#labels-and-guides"><i class="fa fa-check"></i><b>4.7.8</b> Labels and guides</a></li>
<li class="chapter" data-level="4.7.9" data-path="visualizing-ggplot2.html"><a href="visualizing-ggplot2.html#ggsave"><i class="fa fa-check"></i><b>4.7.9</b> ggsave</a></li>
<li class="chapter" data-level="4.7.10" data-path="visualizing-ggplot2.html"><a href="visualizing-ggplot2.html#many-plots"><i class="fa fa-check"></i><b>4.7.10</b> Many plots</a></li>
<li class="chapter" data-level="4.7.11" data-path="visualizing-ggplot2.html"><a href="visualizing-ggplot2.html#transforming"><i class="fa fa-check"></i><b>4.7.11</b> Transforming</a></li>
<li class="chapter" data-level="4.7.12" data-path="visualizing-ggplot2.html"><a href="visualizing-ggplot2.html#ploting-models"><i class="fa fa-check"></i><b>4.7.12</b> Ploting models</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="functional_programming.html"><a href="functional_programming.html"><i class="fa fa-check"></i><b>5</b> Automating repeated things</a>
<ul>
<li class="chapter" data-level="5.1" data-path="the-big-picture-6.html"><a href="the-big-picture-6.html"><i class="fa fa-check"></i><b>5.1</b> The Big Picture</a></li>
<li class="chapter" data-level="5.2" data-path="objectives.html"><a href="objectives.html"><i class="fa fa-check"></i><b>5.2</b> Objectives</a></li>
<li class="chapter" data-level="5.3" data-path="setup-3.html"><a href="setup-3.html"><i class="fa fa-check"></i><b>5.3</b> Setup</a></li>
<li class="chapter" data-level="5.4" data-path="flow.html"><a href="flow.html"><i class="fa fa-check"></i><b>5.4</b> Flow control</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="flow.html"><a href="flow.html#if-one-condition"><i class="fa fa-check"></i><b>5.4.1</b> if (one condition)</a></li>
<li class="chapter" data-level="5.4.2" data-path="flow.html"><a href="flow.html#if-else-two-conditions"><i class="fa fa-check"></i><b>5.4.2</b> if + else (two conditions)</a></li>
<li class="chapter" data-level="5.4.3" data-path="flow.html"><a href="flow.html#if-else-if-else-three-conditions"><i class="fa fa-check"></i><b>5.4.3</b> if + else if + else (three conditions)</a></li>
<li class="chapter" data-level="5.4.4" data-path="flow.html"><a href="flow.html#functions"><i class="fa fa-check"></i><b>5.4.4</b> Functions</a></li>
<li class="chapter" data-level="5.4.5" data-path="flow.html"><a href="flow.html#for-loop"><i class="fa fa-check"></i><b>5.4.5</b> for loop</a></li>
<li class="chapter" data-level="5.4.6" data-path="flow.html"><a href="flow.html#apply-family"><i class="fa fa-check"></i><b>5.4.6</b> apply family</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="purrr.html"><a href="purrr.html"><i class="fa fa-check"></i><b>5.5</b> purrr</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="purrr.html"><a href="purrr.html#why-map"><i class="fa fa-check"></i><b>5.5.1</b> Why map?</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="map2.html"><a href="map2.html"><i class="fa fa-check"></i><b>5.6</b> Automate 2 or 2+ tasks</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="map2.html"><a href="map2.html#objectives-2"><i class="fa fa-check"></i><b>5.6.1</b> Objectives</a></li>
<li class="chapter" data-level="5.6.2" data-path="map2.html"><a href="map2.html#problem"><i class="fa fa-check"></i><b>5.6.2</b> Problem</a></li>
<li class="chapter" data-level="5.6.3" data-path="map2.html"><a href="map2.html#for-loop-1"><i class="fa fa-check"></i><b>5.6.3</b> For loop</a></li>
<li class="chapter" data-level="5.6.4" data-path="map2.html"><a href="map2.html#map2-pmap"><i class="fa fa-check"></i><b>5.6.4</b> map2 &amp; pmap</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="glue.html"><a href="glue.html"><i class="fa fa-check"></i><b>5.7</b> Automate plotting</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="glue.html"><a href="glue.html#objective"><i class="fa fa-check"></i><b>5.7.1</b> Objective</a></li>
<li class="chapter" data-level="5.7.2" data-path="glue.html"><a href="glue.html#problem-1"><i class="fa fa-check"></i><b>5.7.2</b> Problem</a></li>
<li class="chapter" data-level="5.7.3" data-path="glue.html"><a href="glue.html#solution"><i class="fa fa-check"></i><b>5.7.3</b> Solution</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="reduce.html"><a href="reduce.html"><i class="fa fa-check"></i><b>5.8</b> Automate joining</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="reduce.html"><a href="reduce.html#objective-1"><i class="fa fa-check"></i><b>5.8.1</b> Objective</a></li>
<li class="chapter" data-level="5.8.2" data-path="reduce.html"><a href="reduce.html#problem-2"><i class="fa fa-check"></i><b>5.8.2</b> Problem</a></li>
<li class="chapter" data-level="5.8.3" data-path="reduce.html"><a href="reduce.html#copy-and-paste"><i class="fa fa-check"></i><b>5.8.3</b> Copy and paste</a></li>
<li class="chapter" data-level="5.8.4" data-path="reduce.html"><a href="reduce.html#reduce-1"><i class="fa fa-check"></i><b>5.8.4</b> reduce</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="speed.html"><a href="speed.html"><i class="fa fa-check"></i><b>5.9</b> Make automation slower or faster</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="speed.html"><a href="speed.html#objectives-3"><i class="fa fa-check"></i><b>5.9.1</b> Objectives</a></li>
<li class="chapter" data-level="5.9.2" data-path="speed.html"><a href="speed.html#how-to-make-automation-slower"><i class="fa fa-check"></i><b>5.9.2</b> How to Make Automation Slower</a></li>
<li class="chapter" data-level="5.9.3" data-path="speed.html"><a href="speed.html#how-to-make-automation-faster"><i class="fa fa-check"></i><b>5.9.3</b> How to Make Automation Faster</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="robustness.html"><a href="robustness.html"><i class="fa fa-check"></i><b>5.10</b> Make error handling easier</a>
<ul>
<li class="chapter" data-level="5.10.1" data-path="robustness.html"><a href="robustness.html#learning-objective"><i class="fa fa-check"></i><b>5.10.1</b> Learning objective</a></li>
<li class="chapter" data-level="5.10.2" data-path="robustness.html"><a href="robustness.html#solution-1"><i class="fa fa-check"></i><b>5.10.2</b> Solution</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="products.html"><a href="products.html"><i class="fa fa-check"></i><b>6</b> Developing data products</a>
<ul>
<li class="chapter" data-level="6.1" data-path="developing-r-packages.html"><a href="developing-r-packages.html"><i class="fa fa-check"></i><b>6.1</b> Developing R packages</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="developing-r-packages.html"><a href="developing-r-packages.html#the-big-picture-7"><i class="fa fa-check"></i><b>6.1.1</b> The Big Picture</a></li>
<li class="chapter" data-level="6.1.2" data-path="developing-r-packages.html"><a href="developing-r-packages.html#workflow"><i class="fa fa-check"></i><b>6.1.2</b> Workflow</a></li>
<li class="chapter" data-level="6.1.3" data-path="developing-r-packages.html"><a href="developing-r-packages.html#required-components"><i class="fa fa-check"></i><b>6.1.3</b> Required Components</a></li>
<li class="chapter" data-level="6.1.4" data-path="developing-r-packages.html"><a href="developing-r-packages.html#optional-components"><i class="fa fa-check"></i><b>6.1.4</b> Optional Components</a></li>
<li class="chapter" data-level="6.1.5" data-path="developing-r-packages.html"><a href="developing-r-packages.html#building-an-r-package"><i class="fa fa-check"></i><b>6.1.5</b> Building an R package</a></li>
<li class="chapter" data-level="6.1.6" data-path="developing-r-packages.html"><a href="developing-r-packages.html#distributing-an-r-package"><i class="fa fa-check"></i><b>6.1.6</b> Distributing an R package</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="developing-shiny-apps.html"><a href="developing-shiny-apps.html"><i class="fa fa-check"></i><b>6.2</b> Developing Shiny apps</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="developing-shiny-apps.html"><a href="developing-shiny-apps.html#workflow-1"><i class="fa fa-check"></i><b>6.2.1</b> Workflow</a></li>
<li class="chapter" data-level="6.2.2" data-path="developing-shiny-apps.html"><a href="developing-shiny-apps.html#app.r"><i class="fa fa-check"></i><b>6.2.2</b> app.r</a></li>
<li class="chapter" data-level="6.2.3" data-path="developing-shiny-apps.html"><a href="developing-shiny-apps.html#deployment"><i class="fa fa-check"></i><b>6.2.3</b> Deployment</a></li>
<li class="chapter" data-level="6.2.4" data-path="developing-shiny-apps.html"><a href="developing-shiny-apps.html#references-3"><i class="fa fa-check"></i><b>6.2.4</b> References</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="other-useful-data-products.html"><a href="other-useful-data-products.html"><i class="fa fa-check"></i><b>6.3</b> Other useful data products</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="semi_structured_data.html"><a href="semi_structured_data.html"><i class="fa fa-check"></i><b>7</b> Semi-structured data</a>
<ul>
<li class="chapter" data-level="7.1" data-path="setup-4.html"><a href="setup-4.html"><i class="fa fa-check"></i><b>7.1</b> Setup</a></li>
<li class="chapter" data-level="7.2" data-path="the-big-picture-8.html"><a href="the-big-picture-8.html"><i class="fa fa-check"></i><b>7.2</b> The Big Picture</a></li>
<li class="chapter" data-level="7.3" data-path="what-is-semi-structured-data.html"><a href="what-is-semi-structured-data.html"><i class="fa fa-check"></i><b>7.3</b> What is semi-structured data?</a></li>
<li class="chapter" data-level="7.4" data-path="workflow-2.html"><a href="workflow-2.html"><i class="fa fa-check"></i><b>7.4</b> Workflow</a></li>
<li class="chapter" data-level="7.5" data-path="htmlcss-web-scraping.html"><a href="htmlcss-web-scraping.html"><i class="fa fa-check"></i><b>7.5</b> HTML/CSS: web scraping</a></li>
<li class="chapter" data-level="7.6" data-path="xmljson-government-databasesocial-media-scraping.html"><a href="xmljson-government-databasesocial-media-scraping.html"><i class="fa fa-check"></i><b>7.6</b> XML/JSON: government database/social media scraping</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="xmljson-government-databasesocial-media-scraping.html"><a href="xmljson-government-databasesocial-media-scraping.html#governemnt-database-xml"><i class="fa fa-check"></i><b>7.6.1</b> Governemnt database (XML)</a></li>
<li class="chapter" data-level="7.6.2" data-path="xmljson-government-databasesocial-media-scraping.html"><a href="xmljson-government-databasesocial-media-scraping.html#social-media-api-json"><i class="fa fa-check"></i><b>7.6.2</b> Social media API (JSON)</a></li>
<li class="chapter" data-level="7.6.3" data-path="xmljson-government-databasesocial-media-scraping.html"><a href="xmljson-government-databasesocial-media-scraping.html#next-steps"><i class="fa fa-check"></i><b>7.6.3</b> Next steps</a></li>
<li class="chapter" data-level="7.6.4" data-path="xmljson-government-databasesocial-media-scraping.html"><a href="xmljson-government-databasesocial-media-scraping.html#rtweet"><i class="fa fa-check"></i><b>7.6.4</b> rtweet</a></li>
<li class="chapter" data-level="7.6.5" data-path="xmljson-government-databasesocial-media-scraping.html"><a href="xmljson-government-databasesocial-media-scraping.html#hydrating"><i class="fa fa-check"></i><b>7.6.5</b> Hydrating</a></li>
<li class="chapter" data-level="7.6.6" data-path="xmljson-government-databasesocial-media-scraping.html"><a href="xmljson-government-databasesocial-media-scraping.html#parsing-json"><i class="fa fa-check"></i><b>7.6.6</b> Parsing JSON</a></li>
<li class="chapter" data-level="7.6.7" data-path="xmljson-government-databasesocial-media-scraping.html"><a href="xmljson-government-databasesocial-media-scraping.html#getting-api-data-from-scratch"><i class="fa fa-check"></i><b>7.6.7</b> Getting API data from scratch</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="machine_learning.html"><a href="machine_learning.html"><i class="fa fa-check"></i><b>8</b> High-dimensional data</a>
<ul>
<li class="chapter" data-level="8.1" data-path="the-big-picture-9.html"><a href="the-big-picture-9.html"><i class="fa fa-check"></i><b>8.1</b> The Big Picture</a></li>
<li class="chapter" data-level="8.2" data-path="dataset.html"><a href="dataset.html"><i class="fa fa-check"></i><b>8.2</b> Dataset</a></li>
<li class="chapter" data-level="8.3" data-path="workflow-3.html"><a href="workflow-3.html"><i class="fa fa-check"></i><b>8.3</b> Workflow</a></li>
<li class="chapter" data-level="8.4" data-path="tidymodels.html"><a href="tidymodels.html"><i class="fa fa-check"></i><b>8.4</b> tidymodels</a></li>
<li class="chapter" data-level="8.5" data-path="pre-processing.html"><a href="pre-processing.html"><i class="fa fa-check"></i><b>8.5</b> Pre-processing</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="pre-processing.html"><a href="pre-processing.html#regression-setup"><i class="fa fa-check"></i><b>8.5.1</b> Regression setup</a></li>
<li class="chapter" data-level="8.5.2" data-path="pre-processing.html"><a href="pre-processing.html#classification-setup"><i class="fa fa-check"></i><b>8.5.2</b> Classification setup</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="supervised-learning.html"><a href="supervised-learning.html"><i class="fa fa-check"></i><b>8.6</b> Supervised learning</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="supervised-learning.html"><a href="supervised-learning.html#ols-and-lasso"><i class="fa fa-check"></i><b>8.6.1</b> OLS and Lasso</a></li>
<li class="chapter" data-level="8.6.2" data-path="supervised-learning.html"><a href="supervised-learning.html#decision-tree"><i class="fa fa-check"></i><b>8.6.2</b> Decision tree</a></li>
<li class="chapter" data-level="8.6.3" data-path="supervised-learning.html"><a href="supervised-learning.html#bagging-random-forest"><i class="fa fa-check"></i><b>8.6.3</b> Bagging (Random forest)</a></li>
<li class="chapter" data-level="8.6.4" data-path="supervised-learning.html"><a href="supervised-learning.html#boosting-xgboost"><i class="fa fa-check"></i><b>8.6.4</b> Boosting (XGboost)</a></li>
<li class="chapter" data-level="8.6.5" data-path="supervised-learning.html"><a href="supervised-learning.html#stacking-superlearner"><i class="fa fa-check"></i><b>8.6.5</b> Stacking (SuperLearner)</a></li>
<li class="chapter" data-level="8.6.6" data-path="supervised-learning.html"><a href="supervised-learning.html#applications-2"><i class="fa fa-check"></i><b>8.6.6</b> Applications</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html"><i class="fa fa-check"></i><b>8.7</b> Unsupervised learning</a>
<ul>
<li class="chapter" data-level="8.7.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#dimension-reduction"><i class="fa fa-check"></i><b>8.7.1</b> Dimension reduction</a></li>
<li class="chapter" data-level="8.7.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#topic-modeling"><i class="fa fa-check"></i><b>8.7.2</b> Topic modeling</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="references-4.html"><a href="references-4.html"><i class="fa fa-check"></i><b>8.8</b> References</a>
<ul>
<li class="chapter" data-level="8.8.1" data-path="references-4.html"><a href="references-4.html#books"><i class="fa fa-check"></i><b>8.8.1</b> Books</a></li>
<li class="chapter" data-level="8.8.2" data-path="references-4.html"><a href="references-4.html#lecture-slides"><i class="fa fa-check"></i><b>8.8.2</b> Lecture slides</a></li>
<li class="chapter" data-level="8.8.3" data-path="references-4.html"><a href="references-4.html#blog-posts"><i class="fa fa-check"></i><b>8.8.3</b> Blog posts</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="big_data.html"><a href="big_data.html"><i class="fa fa-check"></i><b>9</b> Big data</a>
<ul>
<li class="chapter" data-level="9.1" data-path="the-big-picture-10.html"><a href="the-big-picture-10.html"><i class="fa fa-check"></i><b>9.1</b> The Big Picture</a></li>
<li class="chapter" data-level="9.2" data-path="sql.html"><a href="sql.html"><i class="fa fa-check"></i><b>9.2</b> SQL</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="sql.html"><a href="sql.html#learning-objectives"><i class="fa fa-check"></i><b>9.2.1</b> Learning objectives</a></li>
<li class="chapter" data-level="9.2.2" data-path="sql.html"><a href="sql.html#sql-and-r"><i class="fa fa-check"></i><b>9.2.2</b> SQL and R</a></li>
<li class="chapter" data-level="9.2.3" data-path="sql.html"><a href="sql.html#setup-7"><i class="fa fa-check"></i><b>9.2.3</b> Setup</a></li>
<li class="chapter" data-level="9.2.4" data-path="sql.html"><a href="sql.html#packages-1"><i class="fa fa-check"></i><b>9.2.4</b> Packages</a></li>
<li class="chapter" data-level="9.2.5" data-path="sql.html"><a href="sql.html#nyc-flights-data"><i class="fa fa-check"></i><b>9.2.5</b> NYC flights data</a></li>
<li class="chapter" data-level="9.2.6" data-path="sql.html"><a href="sql.html#workflow-4"><i class="fa fa-check"></i><b>9.2.6</b> Workflow</a></li>
<li class="chapter" data-level="9.2.7" data-path="sql.html"><a href="sql.html#things-we-didnt-cover"><i class="fa fa-check"></i><b>9.2.7</b> Things we didn’t cover</a></li>
<li class="chapter" data-level="9.2.8" data-path="sql.html"><a href="sql.html#references-5"><i class="fa fa-check"></i><b>9.2.8</b> References</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/jaeyk/PS239T" target="_blank">
  Published with <code>{bookdown}</code></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Computational Thinking for Social Scientists</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="base-r-data-structure" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Base R data structure<a href="base-r-data-structure.html#base-r-data-structure" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The rest of the chapter follows the basic structure in <a href="https://rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf">the Data Wrangling Cheat Sheet</a> created by RStudio.</p>
<p>To make the best use of the R language, you’ll need a strong understanding of the basic data types and data structures and how to operate on those. R is an <strong>object-oriented</strong> language, so the importance of this cannot be understated.</p>
<p>It is <strong>critical</strong> to understand because these are the objects you will manipulate on a day-to-day basis in R, and they are not always as easy to work with as they sound at the outset. Dealing with object conversions is one of the most common sources of frustration for beginners.</p>
<blockquote>
<p>To understand computations in R, two slogans are helpful:
- Everything that exists is an object.
- Everything that happens is a function call.</p>
</blockquote>
<blockquote>
<p>__John Chambers__the creator of S (the mother of R)</p>
</blockquote>
<ol style="list-style-type: decimal">
<li><p><a href="#main-classes">Main Classes</a> introduces you to R’s one-dimensional or atomic classes and data structures. R has five basic atomic classes: logical, integer, numeric, complex, character. Social scientists don’t use complex classes.</p></li>
<li><p><a href="base-r-data-structure.html#attributes">Attributes</a> takes a small detour to discuss attributes, R’s flexible metadata specification. Here, you’ll learn about factors, an important data structure created by setting attributes of an atomic vector. R has many data structures: vector, list, matrix, data frame, factors, tables.</p></li>
</ol>
<div class="float">
<img src="https://github.com/rstudio/concept-maps/raw/master/en/data-types.svg" alt="Concept map for data types. By Meghan Sposato, Brendan Cullen, Monica Alonso." />
<div class="figcaption">Concept map for data types. By Meghan Sposato, Brendan Cullen, Monica Alonso.</div>
</div>
<div id="d-data-vectors" class="section level3 hasAnchor" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> 1D data: Vectors<a href="base-r-data-structure.html#d-data-vectors" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="atomic-classes" class="section level4 hasAnchor" number="4.2.1.1">
<h4><span class="header-section-number">4.2.1.1</span> Atomic classes<a href="base-r-data-structure.html#atomic-classes" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>R</code>’s main atomic classes are:</p>
<ul>
<li>character (or a “string” in Python and Stata)</li>
<li>numeric (integer or float)</li>
<li>integer (just integer)</li>
<li>logical (booleans)</li>
</ul>
<table>
<thead>
<tr class="header">
<th>Example</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>“a”, “swc”</td>
<td>character</td>
</tr>
<tr class="even">
<td>2, 15.5</td>
<td>numeric</td>
</tr>
<tr class="odd">
<td>2 (Must add a <code>L</code> at end to denote integer)</td>
<td>integer</td>
</tr>
<tr class="even">
<td><code>TRUE</code>, <code>FALSE</code></td>
<td>logical</td>
</tr>
</tbody>
</table>
<p>Like Python, R is dynamically typed. There are a few differences in terminology, however, that are pertinent.</p>
<ul>
<li>First, “types” in Python are referred to as “classes” in R.</li>
</ul>
<p>What is a class?</p>
<div class="float">
<img src="https://ds055uzetaobb.cloudfront.net/brioche/uploads/pJZt3mh3Ht-prettycars.png?width=2400" alt="from https://brilliant.org/" />
<div class="figcaption">from <a href="https://brilliant.org/" class="uri">https://brilliant.org/</a></div>
</div>
<ul>
<li>Second, R has different names for the types string, integer, and float — specifically <strong>character</strong>, <strong>integer</strong> (not different), and <strong>numeric</strong>. Because there is no “float” class in R, users tend to default to the “numeric” class when working with numerical data.</li>
</ul>
<p>The function for recovering object classes is <code>class()</code>. L suffix to qualify any number with the intent of making it an explicit integer. See more from the <a href="https://cran.r-project.org/doc/manuals/R-lang.html">R language definition</a>.</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="base-r-data-structure.html#cb125-1" tabindex="-1"></a><span class="fu">class</span>(<span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="base-r-data-structure.html#cb127-1" tabindex="-1"></a><span class="fu">class</span>(<span class="dv">3</span><span class="dt">L</span>)</span></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="base-r-data-structure.html#cb129-1" tabindex="-1"></a><span class="fu">class</span>(<span class="st">&quot;Three&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="base-r-data-structure.html#cb131-1" tabindex="-1"></a><span class="fu">class</span>(F)</span></code></pre></div>
<pre><code>## [1] &quot;logical&quot;</code></pre>
</div>
</div>
<div id="data-structures" class="section level3 hasAnchor" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> Data structures<a href="base-r-data-structure.html#data-structures" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>R’s base data structures can be organized by their dimensionality (1d, 2d, or nd) and whether they’re homogeneous (all contents must be of the same type) or heterogeneous (the contents can be of different types). This gives rise to the five data types most often used in data analysis:</p>
<table>
<thead>
<tr class="header">
<th></th>
<th>Homogeneous</th>
<th>Heterogeneous</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1d</td>
<td>Atomic vector</td>
<td>List</td>
</tr>
<tr class="even">
<td>2d</td>
<td>Matrix</td>
<td>Data frame</td>
</tr>
<tr class="odd">
<td>nd</td>
<td>Array</td>
<td></td>
</tr>
</tbody>
</table>
<p>Each data structure has its specifications and behavior. For our purposes, an important thing to remember is that R is always <strong>faster</strong> (more efficient) working with homogeneous (<strong>vectorized</strong>) data.</p>
<div id="vector-properties" class="section level4 hasAnchor" number="4.2.2.1">
<h4><span class="header-section-number">4.2.2.1</span> Vector properties<a href="base-r-data-structure.html#vector-properties" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Vectors have three common properties:</p>
<ul>
<li>Class, <code>class()</code>, or what type of object it is (same as <code>type()</code> in Python).</li>
<li>Length, <code>length()</code>, how many elements it contains (same as <code>len()</code> in Python).</li>
<li>Attributes, <code>attributes()</code>, additional arbitrary metadata.</li>
</ul>
<p>They differ in the types of their elements: all atomic vector elements must be the same type, whereas the elements of a list can have different types.</p>
</div>
<div id="creating-different-types-of-atomic-vectors" class="section level4 hasAnchor" number="4.2.2.2">
<h4><span class="header-section-number">4.2.2.2</span> Creating different types of atomic vectors<a href="base-r-data-structure.html#creating-different-types-of-atomic-vectors" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Remember, there are four common types of vectors:
* <code>logical</code>
* <code>integer</code>
* <code>numeric</code> (same as <code>double</code>)
* <code>character</code>.</p>
<p>You can create an empty vector with <code>vector()</code> (By default, the mode is <code>logical.</code> You can be more explicit as shown in the examples below.) It is more common to use direct constructors such as <code>character()</code>, <code>numeric()</code>, etc.</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="base-r-data-structure.html#cb133-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">vector</span>()</span>
<span id="cb133-2"><a href="base-r-data-structure.html#cb133-2" tabindex="-1"></a></span>
<span id="cb133-3"><a href="base-r-data-structure.html#cb133-3" tabindex="-1"></a><span class="co"># with a length and type</span></span>
<span id="cb133-4"><a href="base-r-data-structure.html#cb133-4" tabindex="-1"></a><span class="fu">vector</span>(<span class="st">&quot;character&quot;</span>, <span class="at">length =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot;</code></pre>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="base-r-data-structure.html#cb135-1" tabindex="-1"></a><span class="do">## character vector of length 5</span></span>
<span id="cb135-2"><a href="base-r-data-structure.html#cb135-2" tabindex="-1"></a><span class="fu">character</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot;</code></pre>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="base-r-data-structure.html#cb137-1" tabindex="-1"></a><span class="fu">numeric</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] 0 0 0 0 0</code></pre>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="base-r-data-structure.html#cb139-1" tabindex="-1"></a><span class="fu">logical</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE FALSE FALSE</code></pre>
<p>Atomic vectors are usually created with <code>c()</code>, which is short for concatenate:</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="base-r-data-structure.html#cb141-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb141-2"><a href="base-r-data-structure.html#cb141-2" tabindex="-1"></a></span>
<span id="cb141-3"><a href="base-r-data-structure.html#cb141-3" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="base-r-data-structure.html#cb143-1" tabindex="-1"></a><span class="fu">length</span>(x)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p><code>x</code> is a numeric vector. These are the most common kind. You can also have logical vectors.</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="base-r-data-structure.html#cb145-1" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb145-2"><a href="base-r-data-structure.html#cb145-2" tabindex="-1"></a></span>
<span id="cb145-3"><a href="base-r-data-structure.html#cb145-3" tabindex="-1"></a>y</span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE FALSE FALSE</code></pre>
<p>Finally, you can have character vectors:</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="base-r-data-structure.html#cb147-1" tabindex="-1"></a>kim_family <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Jae&quot;</span>, <span class="st">&quot;Sun&quot;</span>, <span class="st">&quot;Jane&quot;</span>)</span>
<span id="cb147-2"><a href="base-r-data-structure.html#cb147-2" tabindex="-1"></a></span>
<span id="cb147-3"><a href="base-r-data-structure.html#cb147-3" tabindex="-1"></a><span class="fu">is.integer</span>(kim_family) <span class="co"># integer?</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="base-r-data-structure.html#cb149-1" tabindex="-1"></a><span class="fu">is.character</span>(kim_family) <span class="co"># character?</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="base-r-data-structure.html#cb151-1" tabindex="-1"></a><span class="fu">is.atomic</span>(kim_family) <span class="co"># atomic?</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="base-r-data-structure.html#cb153-1" tabindex="-1"></a><span class="fu">typeof</span>(kim_family) <span class="co"># what&#39;s the type?</span></span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p><strong>Short exercise: Create and examine your vector</strong></p>
<p>Create a character vector called <code>fruit</code> containing 4 of your favorite fruits. Then evaluate its structure using the commands below.</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="base-r-data-structure.html#cb155-1" tabindex="-1"></a><span class="co"># First, create your fruit vector</span></span>
<span id="cb155-2"><a href="base-r-data-structure.html#cb155-2" tabindex="-1"></a><span class="co"># YOUR CODE HERE</span></span>
<span id="cb155-3"><a href="base-r-data-structure.html#cb155-3" tabindex="-1"></a>fruit <span class="ot">&lt;-</span></span>
<span id="cb155-4"><a href="base-r-data-structure.html#cb155-4" tabindex="-1"></a>  <span class="co"># Examine your vector</span></span>
<span id="cb155-5"><a href="base-r-data-structure.html#cb155-5" tabindex="-1"></a>  <span class="fu">length</span>(fruit)</span>
<span id="cb155-6"><a href="base-r-data-structure.html#cb155-6" tabindex="-1"></a><span class="fu">class</span>(fruit)</span>
<span id="cb155-7"><a href="base-r-data-structure.html#cb155-7" tabindex="-1"></a><span class="fu">str</span>(fruit)</span></code></pre></div>
<p><strong>Add elements</strong></p>
<p>You can add elements to the end of a vector by passing the original vector into the <code>c</code> function, like the following:</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="base-r-data-structure.html#cb156-1" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Beyonce&quot;</span>, <span class="st">&quot;Kelly&quot;</span>, <span class="st">&quot;Michelle&quot;</span>, <span class="st">&quot;LeToya&quot;</span>)</span>
<span id="cb156-2"><a href="base-r-data-structure.html#cb156-2" tabindex="-1"></a></span>
<span id="cb156-3"><a href="base-r-data-structure.html#cb156-3" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">c</span>(z, <span class="st">&quot;Farrah&quot;</span>)</span>
<span id="cb156-4"><a href="base-r-data-structure.html#cb156-4" tabindex="-1"></a></span>
<span id="cb156-5"><a href="base-r-data-structure.html#cb156-5" tabindex="-1"></a>z</span></code></pre></div>
<pre><code>## [1] &quot;Beyonce&quot;  &quot;Kelly&quot;    &quot;Michelle&quot; &quot;LeToya&quot;   &quot;Farrah&quot;</code></pre>
<p>More examples of vectors</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="base-r-data-structure.html#cb158-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.5</span>, <span class="fl">0.7</span>)</span>
<span id="cb158-2"><a href="base-r-data-structure.html#cb158-2" tabindex="-1"></a></span>
<span id="cb158-3"><a href="base-r-data-structure.html#cb158-3" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb158-4"><a href="base-r-data-structure.html#cb158-4" tabindex="-1"></a></span>
<span id="cb158-5"><a href="base-r-data-structure.html#cb158-5" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>, <span class="st">&quot;e&quot;</span>)</span>
<span id="cb158-6"><a href="base-r-data-structure.html#cb158-6" tabindex="-1"></a></span>
<span id="cb158-7"><a href="base-r-data-structure.html#cb158-7" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">9</span><span class="sc">:</span><span class="dv">100</span></span></code></pre></div>
<p>You can also create vectors as a sequence of numbers:</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="base-r-data-structure.html#cb159-1" tabindex="-1"></a>series <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb159-2"><a href="base-r-data-structure.html#cb159-2" tabindex="-1"></a></span>
<span id="cb159-3"><a href="base-r-data-structure.html#cb159-3" tabindex="-1"></a>series</span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="base-r-data-structure.html#cb161-1" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="base-r-data-structure.html#cb163-1" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="at">by =</span> <span class="fl">0.1</span>)</span></code></pre></div>
<pre><code>##  [1]  1.0  1.1  1.2  1.3  1.4  1.5  1.6  1.7  1.8  1.9  2.0  2.1  2.2  2.3  2.4
## [16]  2.5  2.6  2.7  2.8  2.9  3.0  3.1  3.2  3.3  3.4  3.5  3.6  3.7  3.8  3.9
## [31]  4.0  4.1  4.2  4.3  4.4  4.5  4.6  4.7  4.8  4.9  5.0  5.1  5.2  5.3  5.4
## [46]  5.5  5.6  5.7  5.8  5.9  6.0  6.1  6.2  6.3  6.4  6.5  6.6  6.7  6.8  6.9
## [61]  7.0  7.1  7.2  7.3  7.4  7.5  7.6  7.7  7.8  7.9  8.0  8.1  8.2  8.3  8.4
## [76]  8.5  8.6  8.7  8.8  8.9  9.0  9.1  9.2  9.3  9.4  9.5  9.6  9.7  9.8  9.9
## [91] 10.0</code></pre>
<p>Atomic vectors are always flat, even if you nest <code>c()</code>’s:</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="base-r-data-structure.html#cb165-1" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>, <span class="fu">c</span>(<span class="dv">2</span>, <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>)))</span></code></pre></div>
<pre><code>## [1] 1 2 3 4</code></pre>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="base-r-data-structure.html#cb167-1" tabindex="-1"></a><span class="co"># the same as</span></span>
<span id="cb167-2"><a href="base-r-data-structure.html#cb167-2" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span></code></pre></div>
<pre><code>## [1] 1 2 3 4</code></pre>
<p><strong>Types and Tests</strong></p>
<p>Given a vector, you can determine its class with <code>class</code>, or check if it’s a specific type with an “is” function: <code>is.character()</code>, <code>is.numeric()</code>, <code>is.integer()</code>, <code>is.logical()</code>, or, more generally, <code>is.atomic()</code>.</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="base-r-data-structure.html#cb169-1" tabindex="-1"></a>char_var <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;harry&quot;</span>, <span class="st">&quot;sally&quot;</span>)</span>
<span id="cb169-2"><a href="base-r-data-structure.html#cb169-2" tabindex="-1"></a></span>
<span id="cb169-3"><a href="base-r-data-structure.html#cb169-3" tabindex="-1"></a><span class="fu">class</span>(char_var)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="base-r-data-structure.html#cb171-1" tabindex="-1"></a><span class="fu">is.character</span>(char_var)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="base-r-data-structure.html#cb173-1" tabindex="-1"></a><span class="fu">is.atomic</span>(char_var)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="base-r-data-structure.html#cb175-1" tabindex="-1"></a>num_var <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="fl">2.5</span>, <span class="fl">4.5</span>)</span>
<span id="cb175-2"><a href="base-r-data-structure.html#cb175-2" tabindex="-1"></a></span>
<span id="cb175-3"><a href="base-r-data-structure.html#cb175-3" tabindex="-1"></a><span class="fu">class</span>(num_var)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="base-r-data-structure.html#cb177-1" tabindex="-1"></a><span class="fu">is.numeric</span>(num_var)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="base-r-data-structure.html#cb179-1" tabindex="-1"></a><span class="fu">is.atomic</span>(num_var)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>NB: <code>is.vector()</code> does not test if an object is a vector. Instead, it returns <code>TRUE</code> only if the object is a vector with no attributes apart from names. Use <code>is.atomic(x) || is.list(x)</code> to test if an object is actually a vector.</p>
<p><strong>Coercion</strong></p>
<p>All atomic vector elements must be the same type, so when you attempt to combine different types, they will be <strong>coerced</strong> to the <strong>most flexible type.</strong> Types from least to most flexible are: logical &gt; integer &gt; double &gt; character.</p>
<p>For example, combining a character and an integer yields a character:</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="base-r-data-structure.html#cb181-1" tabindex="-1"></a><span class="fu">str</span>(<span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="dv">1</span>))</span></code></pre></div>
<pre><code>##  chr [1:2] &quot;a&quot; &quot;1&quot;</code></pre>
<p><strong>Guess what the following do without running them first</strong></p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="base-r-data-structure.html#cb183-1" tabindex="-1"></a><span class="fu">c</span>(<span class="fl">1.7</span>, <span class="st">&quot;a&quot;</span>)</span>
<span id="cb183-2"><a href="base-r-data-structure.html#cb183-2" tabindex="-1"></a></span>
<span id="cb183-3"><a href="base-r-data-structure.html#cb183-3" tabindex="-1"></a><span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="dv">2</span>)</span>
<span id="cb183-4"><a href="base-r-data-structure.html#cb183-4" tabindex="-1"></a></span>
<span id="cb183-5"><a href="base-r-data-structure.html#cb183-5" tabindex="-1"></a><span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="cn">TRUE</span>)</span></code></pre></div>
<p>Notice that when a logical vector is coerced to an integer or double, <code>TRUE</code> becomes 1, and <code>FALSE</code> becomes 0. This is very useful in conjunction with <code>sum()</code> and <code>mean()</code></p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="base-r-data-structure.html#cb184-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb184-2"><a href="base-r-data-structure.html#cb184-2" tabindex="-1"></a></span>
<span id="cb184-3"><a href="base-r-data-structure.html#cb184-3" tabindex="-1"></a><span class="fu">as.numeric</span>(x)</span></code></pre></div>
<pre><code>## [1] 0 0 1</code></pre>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="base-r-data-structure.html#cb186-1" tabindex="-1"></a><span class="co"># Total number of TRUEs</span></span>
<span id="cb186-2"><a href="base-r-data-structure.html#cb186-2" tabindex="-1"></a><span class="fu">sum</span>(x)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="base-r-data-structure.html#cb188-1" tabindex="-1"></a><span class="co"># Proportion that is TRUE</span></span>
<span id="cb188-2"><a href="base-r-data-structure.html#cb188-2" tabindex="-1"></a><span class="fu">mean</span>(x)</span></code></pre></div>
<pre><code>## [1] 0.3333333</code></pre>
<p>Coercion often happens automatically. This is called implicit coercion. Most mathematical functions (<code>+</code>, <code>log</code>, <code>abs</code>, etc.) will coerce to a numeric or integer, and most logical operations (<code>&amp;</code>, <code>|</code>, <code>any</code>, etc) will coerce to a logical. You will usually get a warning message if the coercion might lose information.</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="base-r-data-structure.html#cb190-1" tabindex="-1"></a><span class="dv">1</span> <span class="sc">&lt;</span> <span class="st">&quot;2&quot;</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="base-r-data-structure.html#cb192-1" tabindex="-1"></a><span class="st">&quot;1&quot;</span> <span class="sc">&gt;</span> <span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>You can also coerce vectors explicitly coerce with <code>as.character()</code>, <code>as.numeric()</code>, <code>as.integer()</code>, or <code>as.logical()</code>. Example:</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="base-r-data-structure.html#cb194-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">6</span></span>
<span id="cb194-2"><a href="base-r-data-structure.html#cb194-2" tabindex="-1"></a></span>
<span id="cb194-3"><a href="base-r-data-structure.html#cb194-3" tabindex="-1"></a><span class="fu">as.numeric</span>(x)</span></code></pre></div>
<pre><code>## [1] 0 1 2 3 4 5 6</code></pre>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="base-r-data-structure.html#cb196-1" tabindex="-1"></a><span class="fu">as.logical</span>(x)</span></code></pre></div>
<pre><code>## [1] FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE</code></pre>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="base-r-data-structure.html#cb198-1" tabindex="-1"></a><span class="fu">as.character</span>(x)</span></code></pre></div>
<pre><code>## [1] &quot;0&quot; &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot; &quot;6&quot;</code></pre>
<p>Sometimes coercions, especially nonsensical ones, won’t work.</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="base-r-data-structure.html#cb200-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>)</span>
<span id="cb200-2"><a href="base-r-data-structure.html#cb200-2" tabindex="-1"></a></span>
<span id="cb200-3"><a href="base-r-data-structure.html#cb200-3" tabindex="-1"></a><span class="fu">as.numeric</span>(x)</span></code></pre></div>
<pre><code>## Warning: NAs introduced by coercion</code></pre>
<pre><code>## [1] NA NA NA</code></pre>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="base-r-data-structure.html#cb203-1" tabindex="-1"></a><span class="fu">as.logical</span>(x)</span></code></pre></div>
<pre><code>## [1] NA NA NA</code></pre>
<p><strong>Short Exercise</strong></p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="base-r-data-structure.html#cb205-1" tabindex="-1"></a><span class="co"># 1. Create a vector of a sequence of numbers between 1 to 10.</span></span>
<span id="cb205-2"><a href="base-r-data-structure.html#cb205-2" tabindex="-1"></a></span>
<span id="cb205-3"><a href="base-r-data-structure.html#cb205-3" tabindex="-1"></a><span class="co"># 2. Coerce that vector into a character vector</span></span>
<span id="cb205-4"><a href="base-r-data-structure.html#cb205-4" tabindex="-1"></a></span>
<span id="cb205-5"><a href="base-r-data-structure.html#cb205-5" tabindex="-1"></a><span class="co"># 3. Add the element &quot;11&quot; to the end of the vector</span></span>
<span id="cb205-6"><a href="base-r-data-structure.html#cb205-6" tabindex="-1"></a></span>
<span id="cb205-7"><a href="base-r-data-structure.html#cb205-7" tabindex="-1"></a><span class="co"># 4. Coerce it back to a numeric vector.</span></span></code></pre></div>
</div>
<div id="lists" class="section level4 hasAnchor" number="4.2.2.3">
<h4><span class="header-section-number">4.2.2.3</span> Lists<a href="base-r-data-structure.html#lists" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Lists are also vectors, but different from atomic vectors because their elements can be of any type. In short, they are generic vectors. For example, you construct lists by using <code>list()</code> instead of <code>c()</code>:</p>
<p>Lists are sometimes called recursive vectors, because a list can contain other lists. This makes them fundamentally different from atomic vectors.</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="base-r-data-structure.html#cb206-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span>, <span class="st">&quot;a&quot;</span>, <span class="cn">TRUE</span>, <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>))</span>
<span id="cb206-2"><a href="base-r-data-structure.html#cb206-2" tabindex="-1"></a></span>
<span id="cb206-3"><a href="base-r-data-structure.html#cb206-3" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [[1]]
## [1] 1
## 
## [[2]]
## [1] &quot;a&quot;
## 
## [[3]]
## [1] TRUE
## 
## [[4]]
## [1] 4 5 6</code></pre>
<p>You can coerce other objects using <code>as.list()</code>. You can test for a list with <code>is.list()</code></p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="base-r-data-structure.html#cb208-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb208-2"><a href="base-r-data-structure.html#cb208-2" tabindex="-1"></a></span>
<span id="cb208-3"><a href="base-r-data-structure.html#cb208-3" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">as.list</span>(x)</span>
<span id="cb208-4"><a href="base-r-data-structure.html#cb208-4" tabindex="-1"></a></span>
<span id="cb208-5"><a href="base-r-data-structure.html#cb208-5" tabindex="-1"></a><span class="fu">is.list</span>(x)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="base-r-data-structure.html#cb210-1" tabindex="-1"></a><span class="fu">length</span>(x)</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<p><code>c()</code> will combine several lists into one. If given a combination of atomic vectors and lists, <code>c()</code> (con<strong>c</strong>atenate) will coerce the vectors to lists before combining them. Compare the results of <code>list()</code> and <code>c()</code>:</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="base-r-data-structure.html#cb212-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>))</span>
<span id="cb212-2"><a href="base-r-data-structure.html#cb212-2" tabindex="-1"></a></span>
<span id="cb212-3"><a href="base-r-data-structure.html#cb212-3" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">list</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>))</span>
<span id="cb212-4"><a href="base-r-data-structure.html#cb212-4" tabindex="-1"></a></span>
<span id="cb212-5"><a href="base-r-data-structure.html#cb212-5" tabindex="-1"></a><span class="fu">str</span>(x)</span></code></pre></div>
<pre><code>## List of 2
##  $ :List of 2
##   ..$ : num 1
##   ..$ : num 2
##  $ : num [1:2] 3 4</code></pre>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="base-r-data-structure.html#cb214-1" tabindex="-1"></a><span class="fu">str</span>(y)</span></code></pre></div>
<pre><code>## List of 4
##  $ : num 1
##  $ : num 2
##  $ : num 3
##  $ : num 4</code></pre>
<p>You can turn a list into an atomic vector with <code>unlist()</code>. If the elements of a list have different types, <code>unlist()</code> uses the same coercion rules as <code>c()</code>.</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="base-r-data-structure.html#cb216-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>))</span>
<span id="cb216-2"><a href="base-r-data-structure.html#cb216-2" tabindex="-1"></a></span>
<span id="cb216-3"><a href="base-r-data-structure.html#cb216-3" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [[1]]
## [[1]][[1]]
## [1] 1
## 
## [[1]][[2]]
## [1] 2
## 
## 
## [[2]]
## [1] 3 4</code></pre>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="base-r-data-structure.html#cb218-1" tabindex="-1"></a><span class="fu">unlist</span>(x)</span></code></pre></div>
<pre><code>## [1] 1 2 3 4</code></pre>
<p>Lists are used to build up many of the more complicated data structures in R. For example, both data frames and linear models objects (as produced by <code>lm()</code>) are lists:</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="base-r-data-structure.html#cb220-1" tabindex="-1"></a><span class="fu">is.list</span>(mtcars)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="base-r-data-structure.html#cb222-1" tabindex="-1"></a>mod <span class="ot">&lt;-</span> <span class="fu">lm</span>(mpg <span class="sc">~</span> wt, <span class="at">data =</span> mtcars)</span>
<span id="cb222-2"><a href="base-r-data-structure.html#cb222-2" tabindex="-1"></a></span>
<span id="cb222-3"><a href="base-r-data-structure.html#cb222-3" tabindex="-1"></a><span class="fu">is.list</span>(mod)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>For this reason, lists are handy inside functions. You can “staple” together many different kinds of results into a single object that a function can return.</p>
<p>A list does not print to the console like a vector. Instead, each element of the list starts on a new line.</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="base-r-data-structure.html#cb224-1" tabindex="-1"></a>x.vec <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb224-2"><a href="base-r-data-structure.html#cb224-2" tabindex="-1"></a>x.list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb224-3"><a href="base-r-data-structure.html#cb224-3" tabindex="-1"></a>x.vec</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="base-r-data-structure.html#cb226-1" tabindex="-1"></a>x.list</span></code></pre></div>
<pre><code>## [[1]]
## [1] 1
## 
## [[2]]
## [1] 2
## 
## [[3]]
## [1] 3</code></pre>
<p>For lists, elements are <strong>indexed by double brackets</strong>. Single brackets will still return a(nother) list. (We’ll talk more about subsetting and indexing in the fourth lesson.)</p>
<p><strong>Exercises</strong></p>
<ol style="list-style-type: decimal">
<li><p>What are the four basic types of atomic vectors? How does a list differ from an atomic vector?</p></li>
<li><p>Why is <code>1 == "1"</code> true? Why is <code>-1 &lt; FALSE</code> true? Why is <code>"one" &lt; 2</code> false?</p></li>
<li><p>Create three vectors and then combine them into a list.</p></li>
<li><p>If <code>x</code> is a list, what is the class of <code>x[1]</code>? How about <code>x[[1]]</code>?</p></li>
</ol>
</div>
</div>
<div id="attributes" class="section level3 hasAnchor" number="4.2.3">
<h3><span class="header-section-number">4.2.3</span> Attributes<a href="base-r-data-structure.html#attributes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Attributes provide additional information about the data to you, the user, and to R. We’ve already seen the following three attributes in action:</p>
<ul>
<li><p>Names (<code>names(x)</code>), a character vector giving each element a name.</p></li>
<li><p>Dimensions (<code>dim(x)</code>), used to turn vectors into matrices.</p></li>
<li><p>Class (<code>class(x)</code>), used to implement the S3 object system.</p></li>
</ul>
<p><strong>Additional tips</strong></p>
<p>In an object-oriented system, a <a href="https://www.google.com/search?q=what+is+class+programming&amp;oq=what+is+class+programming&amp;aqs=chrome.0.0l6.3543j0j4&amp;sourceid=chrome&amp;ie=UTF-8">class</a> (an extensible problem-code-template) defines a type of object like what its properties are, how it behaves, and how it relates to other types of objects. Therefore, technically, an object is an <a href="https://en.wikipedia.org/wiki/Instance_(computer_science)">instance</a> (or occurrence) of a class. A method is a function associated with a particular type of object.</p>
<div id="names" class="section level4 hasAnchor" number="4.2.3.1">
<h4><span class="header-section-number">4.2.3.1</span> Names<a href="base-r-data-structure.html#names" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>You can name a vector when you create it:</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="base-r-data-structure.html#cb228-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">a =</span> <span class="dv">1</span>, <span class="at">b =</span> <span class="dv">2</span>, <span class="at">c =</span> <span class="dv">3</span>)</span></code></pre></div>
<p>You can also modify an existing vector:</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="base-r-data-structure.html#cb229-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span></span>
<span id="cb229-2"><a href="base-r-data-structure.html#cb229-2" tabindex="-1"></a></span>
<span id="cb229-3"><a href="base-r-data-structure.html#cb229-3" tabindex="-1"></a><span class="fu">names</span>(x)</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="base-r-data-structure.html#cb231-1" tabindex="-1"></a><span class="fu">names</span>(x) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;e&quot;</span>, <span class="st">&quot;f&quot;</span>, <span class="st">&quot;g&quot;</span>)</span>
<span id="cb231-2"><a href="base-r-data-structure.html#cb231-2" tabindex="-1"></a></span>
<span id="cb231-3"><a href="base-r-data-structure.html#cb231-3" tabindex="-1"></a><span class="fu">names</span>(x)</span></code></pre></div>
<pre><code>## [1] &quot;e&quot; &quot;f&quot; &quot;g&quot;</code></pre>
<p>Names don’t have to be unique. However, character subsetting, described in the next lesson, is the most important reason to use names, and it is most useful when the names are unique. (For Python users: when names are unique, a vector behaves like a Python dictionary key.)</p>
<p>Not all elements of a vector need to have a name. If some names are missing, <code>names()</code> will return an empty string for those elements. If all names are missing, <code>names()</code> will return <code>NULL</code>.</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="base-r-data-structure.html#cb233-1" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">a =</span> <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb233-2"><a href="base-r-data-structure.html#cb233-2" tabindex="-1"></a></span>
<span id="cb233-3"><a href="base-r-data-structure.html#cb233-3" tabindex="-1"></a><span class="fu">names</span>(y)</span></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;&quot;  &quot;&quot;</code></pre>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="base-r-data-structure.html#cb235-1" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb235-2"><a href="base-r-data-structure.html#cb235-2" tabindex="-1"></a></span>
<span id="cb235-3"><a href="base-r-data-structure.html#cb235-3" tabindex="-1"></a><span class="fu">names</span>(z)</span></code></pre></div>
<pre><code>## NULL</code></pre>
<p>You can create a new vector without names using <code>unname(x)</code>, or remove names in place with <code>names(x) &lt;- NULL</code>.</p>
</div>
<div id="factors" class="section level4 hasAnchor" number="4.2.3.2">
<h4><span class="header-section-number">4.2.3.2</span> Factors<a href="base-r-data-structure.html#factors" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Factors are special vectors that represent categorical data. Factors can be ordered (ordinal variable) or unordered (nominal or categorical variable) and are important for modeling functions such as <code>lm()</code> and <code>glm()</code> and also in plot methods.</p>
<p><strong>Quiz</strong>
1. If you want to enter dummy variables (Democrats = 1, Non-democrats = 0) in your regression model, should you use a numeric or factor variable?</p>
<p>Factors can only contain pre-defined values. Set allowed values using the <code>levels()</code> attribute. Note that a factor’s levels will always be character values.</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="base-r-data-structure.html#cb237-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;a&quot;</span>)</span>
<span id="cb237-2"><a href="base-r-data-structure.html#cb237-2" tabindex="-1"></a></span>
<span id="cb237-3"><a href="base-r-data-structure.html#cb237-3" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;a&quot;</span>))</span>
<span id="cb237-4"><a href="base-r-data-structure.html#cb237-4" tabindex="-1"></a></span>
<span id="cb237-5"><a href="base-r-data-structure.html#cb237-5" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] a b b a
## Levels: a b</code></pre>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="base-r-data-structure.html#cb239-1" tabindex="-1"></a><span class="fu">class</span>(x)</span></code></pre></div>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="base-r-data-structure.html#cb241-1" tabindex="-1"></a><span class="fu">levels</span>(x)</span></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;b&quot;</code></pre>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="base-r-data-structure.html#cb243-1" tabindex="-1"></a><span class="co"># You can&#39;t use values that are not in the levels</span></span>
<span id="cb243-2"><a href="base-r-data-structure.html#cb243-2" tabindex="-1"></a>x[<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="st">&quot;c&quot;</span></span></code></pre></div>
<pre><code>## Warning in `[&lt;-.factor`(`*tmp*`, 2, value = &quot;c&quot;): invalid factor level, NA
## generated</code></pre>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="base-r-data-structure.html#cb245-1" tabindex="-1"></a><span class="co"># NB: you can&#39;t combine factors</span></span>
<span id="cb245-2"><a href="base-r-data-structure.html#cb245-2" tabindex="-1"></a><span class="fu">c</span>(<span class="fu">factor</span>(<span class="st">&quot;a&quot;</span>), <span class="fu">factor</span>(<span class="st">&quot;b&quot;</span>))</span></code></pre></div>
<pre><code>## [1] a b
## Levels: a b</code></pre>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb247-1"><a href="base-r-data-structure.html#cb247-1" tabindex="-1"></a><span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="fu">rep</span>(<span class="dv">6</span>, <span class="dv">5</span>))</span></code></pre></div>
<pre><code>##  [1] 1 1 1 1 1 1 2 2 2 2 2 2 3 3 3 3 3 3 4 4 4 4 4 4 5 5 5 5 5 5</code></pre>
<p>Factors are pretty much integers that have labels on them. Underneath, it’s really numbers (1, 2, 3…).</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="base-r-data-structure.html#cb249-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;a&quot;</span>))</span>
<span id="cb249-2"><a href="base-r-data-structure.html#cb249-2" tabindex="-1"></a></span>
<span id="cb249-3"><a href="base-r-data-structure.html#cb249-3" tabindex="-1"></a><span class="fu">str</span>(x)</span></code></pre></div>
<pre><code>##  Factor w/ 2 levels &quot;a&quot;,&quot;b&quot;: 1 2 2 1</code></pre>
<p>They are better than using simple integer labels because factors are what are called self-describing. For example, <code>democrat</code> and <code>republican</code> is more descriptive than <code>1</code>s and <code>2</code>s.</p>
<p>Factors are useful when you know the possible values a variable may take, even if you don’t see all values in a given dataset. Using a factor instead of a character vector makes it obvious when some groups contain no observations:</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="base-r-data-structure.html#cb251-1" tabindex="-1"></a>party_char <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;democrat&quot;</span>, <span class="st">&quot;democrat&quot;</span>, <span class="st">&quot;democrat&quot;</span>)</span>
<span id="cb251-2"><a href="base-r-data-structure.html#cb251-2" tabindex="-1"></a></span>
<span id="cb251-3"><a href="base-r-data-structure.html#cb251-3" tabindex="-1"></a>party_char</span></code></pre></div>
<pre><code>## [1] &quot;democrat&quot; &quot;democrat&quot; &quot;democrat&quot;</code></pre>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="base-r-data-structure.html#cb253-1" tabindex="-1"></a>party_factor <span class="ot">&lt;-</span> <span class="fu">factor</span>(party_char, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;democrat&quot;</span>, <span class="st">&quot;republican&quot;</span>))</span>
<span id="cb253-2"><a href="base-r-data-structure.html#cb253-2" tabindex="-1"></a></span>
<span id="cb253-3"><a href="base-r-data-structure.html#cb253-3" tabindex="-1"></a>party_factor</span></code></pre></div>
<pre><code>## [1] democrat democrat democrat
## Levels: democrat republican</code></pre>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="base-r-data-structure.html#cb255-1" tabindex="-1"></a><span class="fu">table</span>(party_char) <span class="co"># shows only democrats</span></span></code></pre></div>
<pre><code>## party_char
## democrat 
##        3</code></pre>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="base-r-data-structure.html#cb257-1" tabindex="-1"></a><span class="fu">table</span>(party_factor) <span class="co"># shows republicans too</span></span></code></pre></div>
<pre><code>## party_factor
##   democrat republican 
##          3          0</code></pre>
<p>Sometimes factors can be left unordered. Example: <code>democrat</code>, <code>republican.</code></p>
<p>Other times you might want factors to be ordered (or ranked). Example: <code>low</code>, <code>medium</code>, <code>high</code>.</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="base-r-data-structure.html#cb259-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">&quot;low&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;high&quot;</span>))</span>
<span id="cb259-2"><a href="base-r-data-structure.html#cb259-2" tabindex="-1"></a></span>
<span id="cb259-3"><a href="base-r-data-structure.html#cb259-3" tabindex="-1"></a><span class="fu">str</span>(x)</span></code></pre></div>
<pre><code>##  Factor w/ 3 levels &quot;high&quot;,&quot;low&quot;,&quot;medium&quot;: 2 3 1</code></pre>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb261-1"><a href="base-r-data-structure.html#cb261-1" tabindex="-1"></a><span class="fu">is.ordered</span>(x)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="base-r-data-structure.html#cb263-1" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">ordered</span>(<span class="fu">c</span>(<span class="st">&quot;low&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;high&quot;</span>), <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;high&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;low&quot;</span>))</span>
<span id="cb263-2"><a href="base-r-data-structure.html#cb263-2" tabindex="-1"></a></span>
<span id="cb263-3"><a href="base-r-data-structure.html#cb263-3" tabindex="-1"></a><span class="fu">is.ordered</span>(y)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>While factors look (and often behave) like character vectors, they are integers. So be careful when treating them like strings. Some string methods (like <code>gsub()</code> and <code>grepl()</code>) will coerce factors to strings, while others (like <code>nchar()</code>) will throw an error, and still others (like <code>c()</code>) will use the underlying integer values.</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb265-1"><a href="base-r-data-structure.html#cb265-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;a&quot;</span>)</span>
<span id="cb265-2"><a href="base-r-data-structure.html#cb265-2" tabindex="-1"></a></span>
<span id="cb265-3"><a href="base-r-data-structure.html#cb265-3" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;b&quot; &quot;a&quot;</code></pre>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="base-r-data-structure.html#cb267-1" tabindex="-1"></a><span class="fu">is.factor</span>(x)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb269-1"><a href="base-r-data-structure.html#cb269-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(x)</span>
<span id="cb269-2"><a href="base-r-data-structure.html#cb269-2" tabindex="-1"></a></span>
<span id="cb269-3"><a href="base-r-data-structure.html#cb269-3" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] a b b a
## Levels: a b</code></pre>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="base-r-data-structure.html#cb271-1" tabindex="-1"></a><span class="fu">c</span>(x, <span class="st">&quot;c&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;1&quot; &quot;2&quot; &quot;2&quot; &quot;1&quot; &quot;c&quot;</code></pre>
<p>For this reason, it’s usually best to explicitly convert factors to character vectors if you need string-like behavior. There was a memory advantage to using factors instead of character vectors in early versions of R, but this is no longer the case.</p>
<p>Unfortunately, most data loading functions in R automatically convert character vectors to factors. This is suboptimal, because there’s no way for those functions to know the set of all possible levels or their optimal order. If this becomes a problem, use the argument <code>stringsAsFactors = FALSE</code> to suppress this behavior and manually convert character vectors to factors using your knowledge of the data.</p>
<p><strong>More attributes</strong></p>
<p>All R objects can have arbitrary additional attributes used to store metadata about the object. Attributes can be considered a named list (with unique names). Attributes can be accessed individually with <code>attr()</code> or all at once (as a list) with <code>attributes().</code></p>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb273-1"><a href="base-r-data-structure.html#cb273-1" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb273-2"><a href="base-r-data-structure.html#cb273-2" tabindex="-1"></a></span>
<span id="cb273-3"><a href="base-r-data-structure.html#cb273-3" tabindex="-1"></a><span class="fu">attr</span>(y, <span class="st">&quot;my_attribute&quot;</span>) <span class="ot">&lt;-</span> <span class="st">&quot;This is a vector&quot;</span></span>
<span id="cb273-4"><a href="base-r-data-structure.html#cb273-4" tabindex="-1"></a></span>
<span id="cb273-5"><a href="base-r-data-structure.html#cb273-5" tabindex="-1"></a><span class="fu">attr</span>(y, <span class="st">&quot;my_attribute&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;This is a vector&quot;</code></pre>
<div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb275-1"><a href="base-r-data-structure.html#cb275-1" tabindex="-1"></a><span class="co"># str returns a new object with modified information</span></span>
<span id="cb275-2"><a href="base-r-data-structure.html#cb275-2" tabindex="-1"></a><span class="fu">str</span>(<span class="fu">attributes</span>(y))</span></code></pre></div>
<pre><code>## List of 1
##  $ my_attribute: chr &quot;This is a vector&quot;</code></pre>
<p><strong>Exercises</strong></p>
<ol style="list-style-type: decimal">
<li>What happens to a factor when you modify its levels?</li>
</ol>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb277-1"><a href="base-r-data-structure.html#cb277-1" tabindex="-1"></a>f1 <span class="ot">&lt;-</span> <span class="fu">factor</span>(letters)</span>
<span id="cb277-2"><a href="base-r-data-structure.html#cb277-2" tabindex="-1"></a></span>
<span id="cb277-3"><a href="base-r-data-structure.html#cb277-3" tabindex="-1"></a><span class="fu">levels</span>(f1) <span class="ot">&lt;-</span> <span class="fu">rev</span>(<span class="fu">levels</span>(f1))</span>
<span id="cb277-4"><a href="base-r-data-structure.html#cb277-4" tabindex="-1"></a></span>
<span id="cb277-5"><a href="base-r-data-structure.html#cb277-5" tabindex="-1"></a>f1</span></code></pre></div>
<pre><code>##  [1] z y x w v u t s r q p o n m l k j i h g f e d c b a
## Levels: z y x w v u t s r q p o n m l k j i h g f e d c b a</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>What does this code do? How do <code>f2</code> and <code>f3</code> differ from <code>f1</code>?</li>
</ol>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb279-1"><a href="base-r-data-structure.html#cb279-1" tabindex="-1"></a>f2 <span class="ot">&lt;-</span> <span class="fu">rev</span>(<span class="fu">factor</span>(letters))</span>
<span id="cb279-2"><a href="base-r-data-structure.html#cb279-2" tabindex="-1"></a></span>
<span id="cb279-3"><a href="base-r-data-structure.html#cb279-3" tabindex="-1"></a>f3 <span class="ot">&lt;-</span> <span class="fu">factor</span>(letters, <span class="at">levels =</span> <span class="fu">rev</span>(letters))</span></code></pre></div>
</div>
</div>
<div id="d-data-matrices-and-dataframes" class="section level3 hasAnchor" number="4.2.4">
<h3><span class="header-section-number">4.2.4</span> 2D data: Matrices and dataframes<a href="base-r-data-structure.html#d-data-matrices-and-dataframes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li>Matrices: data structures for storing 2d data that is all the same class.</li>
<li>Dataframes: teaches you about the dataframe, the most important data structure for storing data in R, because it stores different kinds of (2d) data.</li>
</ol>
<div id="matrices" class="section level4 hasAnchor" number="4.2.4.1">
<h4><span class="header-section-number">4.2.4.1</span> Matrices<a href="base-r-data-structure.html#matrices" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Matrices are created when we combine multiple vectors with the same class (e.g., numeric). This creates a dataset with rows and columns. By definition, if you want to combine multiple classes of vectors, you want a dataframe. You can coerce a matrix to become a dataframe and vice-versa, but as with all vector coercions, the results can be unpredictable, so be sure you know how each variable (column) will convert.</p>
<div class="sourceCode" id="cb280"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb280-1"><a href="base-r-data-structure.html#cb280-1" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb280-2"><a href="base-r-data-structure.html#cb280-2" tabindex="-1"></a></span>
<span id="cb280-3"><a href="base-r-data-structure.html#cb280-3" tabindex="-1"></a>m</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]   NA   NA
## [2,]   NA   NA</code></pre>
<div class="sourceCode" id="cb282"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb282-1"><a href="base-r-data-structure.html#cb282-1" tabindex="-1"></a><span class="fu">dim</span>(m)</span></code></pre></div>
<pre><code>## [1] 2 2</code></pre>
<p>Matrices are filled column-wise.</p>
<div class="sourceCode" id="cb284"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb284-1"><a href="base-r-data-structure.html#cb284-1" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb284-2"><a href="base-r-data-structure.html#cb284-2" tabindex="-1"></a></span>
<span id="cb284-3"><a href="base-r-data-structure.html#cb284-3" tabindex="-1"></a>m</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    3    5
## [2,]    2    4    6</code></pre>
<p>Other ways to construct a matrix</p>
<div class="sourceCode" id="cb286"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb286-1"><a href="base-r-data-structure.html#cb286-1" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb286-2"><a href="base-r-data-structure.html#cb286-2" tabindex="-1"></a></span>
<span id="cb286-3"><a href="base-r-data-structure.html#cb286-3" tabindex="-1"></a><span class="fu">dim</span>(m) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">5</span>)</span>
<span id="cb286-4"><a href="base-r-data-structure.html#cb286-4" tabindex="-1"></a></span>
<span id="cb286-5"><a href="base-r-data-structure.html#cb286-5" tabindex="-1"></a>m</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5]
## [1,]    1    3    5    7    9
## [2,]    2    4    6    8   10</code></pre>
<div class="sourceCode" id="cb288"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb288-1"><a href="base-r-data-structure.html#cb288-1" tabindex="-1"></a><span class="fu">dim</span>(m) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">2</span>)</span>
<span id="cb288-2"><a href="base-r-data-structure.html#cb288-2" tabindex="-1"></a></span>
<span id="cb288-3"><a href="base-r-data-structure.html#cb288-3" tabindex="-1"></a>m</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    6
## [2,]    2    7
## [3,]    3    8
## [4,]    4    9
## [5,]    5   10</code></pre>
<p>You can transpose a matrix (or dataframe) with <code>t()</code></p>
<div class="sourceCode" id="cb290"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb290-1"><a href="base-r-data-structure.html#cb290-1" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb290-2"><a href="base-r-data-structure.html#cb290-2" tabindex="-1"></a></span>
<span id="cb290-3"><a href="base-r-data-structure.html#cb290-3" tabindex="-1"></a><span class="fu">dim</span>(m) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">5</span>)</span>
<span id="cb290-4"><a href="base-r-data-structure.html#cb290-4" tabindex="-1"></a></span>
<span id="cb290-5"><a href="base-r-data-structure.html#cb290-5" tabindex="-1"></a>m</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5]
## [1,]    1    3    5    7    9
## [2,]    2    4    6    8   10</code></pre>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb292-1"><a href="base-r-data-structure.html#cb292-1" tabindex="-1"></a><span class="fu">t</span>(m)</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    2
## [2,]    3    4
## [3,]    5    6
## [4,]    7    8
## [5,]    9   10</code></pre>
<p>Another way is to bind columns or rows using <code>cbind()</code> and <code>rbind()</code>.</p>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb294-1"><a href="base-r-data-structure.html#cb294-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span></span>
<span id="cb294-2"><a href="base-r-data-structure.html#cb294-2" tabindex="-1"></a></span>
<span id="cb294-3"><a href="base-r-data-structure.html#cb294-3" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">10</span><span class="sc">:</span><span class="dv">12</span></span>
<span id="cb294-4"><a href="base-r-data-structure.html#cb294-4" tabindex="-1"></a></span>
<span id="cb294-5"><a href="base-r-data-structure.html#cb294-5" tabindex="-1"></a><span class="fu">cbind</span>(x, y)</span></code></pre></div>
<pre><code>##      x  y
## [1,] 1 10
## [2,] 2 11
## [3,] 3 12</code></pre>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb296-1"><a href="base-r-data-structure.html#cb296-1" tabindex="-1"></a><span class="co"># or</span></span>
<span id="cb296-2"><a href="base-r-data-structure.html#cb296-2" tabindex="-1"></a></span>
<span id="cb296-3"><a href="base-r-data-structure.html#cb296-3" tabindex="-1"></a><span class="fu">rbind</span>(x, y)</span></code></pre></div>
<pre><code>##   [,1] [,2] [,3]
## x    1    2    3
## y   10   11   12</code></pre>
<p>You can also use the <code>byrow</code> argument to specify how the matrix is filled. From R’s own documentation:</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb298-1"><a href="base-r-data-structure.html#cb298-1" tabindex="-1"></a>mdat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">11</span>, <span class="dv">12</span>, <span class="dv">13</span>),</span>
<span id="cb298-2"><a href="base-r-data-structure.html#cb298-2" tabindex="-1"></a>  <span class="at">nrow =</span> <span class="dv">2</span>,</span>
<span id="cb298-3"><a href="base-r-data-structure.html#cb298-3" tabindex="-1"></a>  <span class="at">ncol =</span> <span class="dv">3</span>,</span>
<span id="cb298-4"><a href="base-r-data-structure.html#cb298-4" tabindex="-1"></a>  <span class="at">byrow =</span> <span class="cn">TRUE</span>,</span>
<span id="cb298-5"><a href="base-r-data-structure.html#cb298-5" tabindex="-1"></a>  <span class="at">dimnames =</span> <span class="fu">list</span>(</span>
<span id="cb298-6"><a href="base-r-data-structure.html#cb298-6" tabindex="-1"></a>    <span class="fu">c</span>(<span class="st">&quot;row1&quot;</span>, <span class="st">&quot;row2&quot;</span>),</span>
<span id="cb298-7"><a href="base-r-data-structure.html#cb298-7" tabindex="-1"></a>    <span class="fu">c</span>(<span class="st">&quot;C.1&quot;</span>, <span class="st">&quot;C.2&quot;</span>, <span class="st">&quot;C.3&quot;</span>)</span>
<span id="cb298-8"><a href="base-r-data-structure.html#cb298-8" tabindex="-1"></a>  )</span>
<span id="cb298-9"><a href="base-r-data-structure.html#cb298-9" tabindex="-1"></a>)</span>
<span id="cb298-10"><a href="base-r-data-structure.html#cb298-10" tabindex="-1"></a>mdat</span></code></pre></div>
<pre><code>##      C.1 C.2 C.3
## row1   1   2   3
## row2  11  12  13</code></pre>
<p>Notice that we gave <code>names</code> to the dimensions in <code>mdat</code>.</p>
<div class="sourceCode" id="cb300"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb300-1"><a href="base-r-data-structure.html#cb300-1" tabindex="-1"></a><span class="fu">dimnames</span>(mdat)</span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;row1&quot; &quot;row2&quot;
## 
## [[2]]
## [1] &quot;C.1&quot; &quot;C.2&quot; &quot;C.3&quot;</code></pre>
<div class="sourceCode" id="cb302"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb302-1"><a href="base-r-data-structure.html#cb302-1" tabindex="-1"></a><span class="fu">rownames</span>(mdat)</span></code></pre></div>
<pre><code>## [1] &quot;row1&quot; &quot;row2&quot;</code></pre>
<div class="sourceCode" id="cb304"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb304-1"><a href="base-r-data-structure.html#cb304-1" tabindex="-1"></a><span class="fu">colnames</span>(mdat)</span></code></pre></div>
<pre><code>## [1] &quot;C.1&quot; &quot;C.2&quot; &quot;C.3&quot;</code></pre>
</div>
<div id="dataframes" class="section level4 hasAnchor" number="4.2.4.2">
<h4><span class="header-section-number">4.2.4.2</span> Dataframes<a href="base-r-data-structure.html#dataframes" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A data frame is an essential data type in R. It’s pretty much the <strong>de facto</strong> data structure for most tabular data and what we use for statistics.</p>
<div id="creation" class="section level5 hasAnchor" number="4.2.4.2.1">
<h5><span class="header-section-number">4.2.4.2.1</span> Creation<a href="base-r-data-structure.html#creation" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>You create a data frame using <code>data.frame()</code>, which takes named vectors as input:</p>
<div class="sourceCode" id="cb306"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb306-1"><a href="base-r-data-structure.html#cb306-1" tabindex="-1"></a>vec1 <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span></span>
<span id="cb306-2"><a href="base-r-data-structure.html#cb306-2" tabindex="-1"></a>vec2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>)</span>
<span id="cb306-3"><a href="base-r-data-structure.html#cb306-3" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(vec1, vec2)</span>
<span id="cb306-4"><a href="base-r-data-structure.html#cb306-4" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>##   vec1 vec2
## 1    1    a
## 2    2    b
## 3    3    c</code></pre>
<div class="sourceCode" id="cb308"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb308-1"><a href="base-r-data-structure.html#cb308-1" tabindex="-1"></a><span class="fu">str</span>(df)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    3 obs. of  2 variables:
##  $ vec1: int  1 2 3
##  $ vec2: chr  &quot;a&quot; &quot;b&quot; &quot;c&quot;</code></pre>
<p>Beware: <code>data.frame()</code>’s default behavior which turns strings into factors. Remember to use <code>stringAsFactors = FALSE</code> to suppress this behavior as needed:</p>
<div class="sourceCode" id="cb310"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb310-1"><a href="base-r-data-structure.html#cb310-1" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb310-2"><a href="base-r-data-structure.html#cb310-2" tabindex="-1"></a>  <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,</span>
<span id="cb310-3"><a href="base-r-data-structure.html#cb310-3" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>),</span>
<span id="cb310-4"><a href="base-r-data-structure.html#cb310-4" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb310-5"><a href="base-r-data-structure.html#cb310-5" tabindex="-1"></a>)</span>
<span id="cb310-6"><a href="base-r-data-structure.html#cb310-6" tabindex="-1"></a><span class="fu">str</span>(df)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    3 obs. of  2 variables:
##  $ x: int  1 2 3
##  $ y: chr  &quot;a&quot; &quot;b&quot; &quot;c&quot;</code></pre>
<p>In reality, we rarely type up our datasets ourselves, and certainly not in R. The most common way to make a data.frame is by calling a file using <code>read.csv</code> (which relies on the <code>foreign</code> package), <code>read.dta</code> (if you’re using a Stata file), or some other kinds of data file input.</p>
</div>
<div id="structure-and-attributes" class="section level5 hasAnchor" number="4.2.4.2.2">
<h5><span class="header-section-number">4.2.4.2.2</span> Structure and Attributes<a href="base-r-data-structure.html#structure-and-attributes" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Under the hood, a data frame is a list of equal-length vectors. This makes it a 2-dimensional structure, so it shares properties of both the matrix and the list.</p>
<div class="sourceCode" id="cb312"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb312-1"><a href="base-r-data-structure.html#cb312-1" tabindex="-1"></a>vec1 <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span></span>
<span id="cb312-2"><a href="base-r-data-structure.html#cb312-2" tabindex="-1"></a>vec2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>)</span>
<span id="cb312-3"><a href="base-r-data-structure.html#cb312-3" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(vec1, vec2)</span>
<span id="cb312-4"><a href="base-r-data-structure.html#cb312-4" tabindex="-1"></a></span>
<span id="cb312-5"><a href="base-r-data-structure.html#cb312-5" tabindex="-1"></a><span class="fu">str</span>(df)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    3 obs. of  2 variables:
##  $ vec1: int  1 2 3
##  $ vec2: chr  &quot;a&quot; &quot;b&quot; &quot;c&quot;</code></pre>
<p>This means that a dataframe has <code>names()</code>, <code>colnames()</code>, and <code>rownames()</code>, although <code>names()</code> and <code>colnames()</code> are the same thing.</p>
<p>** Summary **</p>
<ul>
<li>Set column names: <code>names()</code> in data frame, <code>colnames()</code> in matrix</li>
<li>Set row names: <code>row.names()</code> in data frame, <code>rownames()</code> in matrix</li>
</ul>
<div class="sourceCode" id="cb314"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb314-1"><a href="base-r-data-structure.html#cb314-1" tabindex="-1"></a>vec1 <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span></span>
<span id="cb314-2"><a href="base-r-data-structure.html#cb314-2" tabindex="-1"></a>vec2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>)</span>
<span id="cb314-3"><a href="base-r-data-structure.html#cb314-3" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(vec1, vec2)</span>
<span id="cb314-4"><a href="base-r-data-structure.html#cb314-4" tabindex="-1"></a></span>
<span id="cb314-5"><a href="base-r-data-structure.html#cb314-5" tabindex="-1"></a><span class="co"># these two are equivalent</span></span>
<span id="cb314-6"><a href="base-r-data-structure.html#cb314-6" tabindex="-1"></a><span class="fu">names</span>(df)</span></code></pre></div>
<pre><code>## [1] &quot;vec1&quot; &quot;vec2&quot;</code></pre>
<div class="sourceCode" id="cb316"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb316-1"><a href="base-r-data-structure.html#cb316-1" tabindex="-1"></a><span class="fu">colnames</span>(df)</span></code></pre></div>
<pre><code>## [1] &quot;vec1&quot; &quot;vec2&quot;</code></pre>
<div class="sourceCode" id="cb318"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb318-1"><a href="base-r-data-structure.html#cb318-1" tabindex="-1"></a><span class="co"># change the colnames</span></span>
<span id="cb318-2"><a href="base-r-data-structure.html#cb318-2" tabindex="-1"></a><span class="fu">colnames</span>(df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Number&quot;</span>, <span class="st">&quot;Character&quot;</span>)</span>
<span id="cb318-3"><a href="base-r-data-structure.html#cb318-3" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>##   Number Character
## 1      1         a
## 2      2         b
## 3      3         c</code></pre>
<div class="sourceCode" id="cb320"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb320-1"><a href="base-r-data-structure.html#cb320-1" tabindex="-1"></a><span class="fu">names</span>(df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Number&quot;</span>, <span class="st">&quot;Character&quot;</span>)</span>
<span id="cb320-2"><a href="base-r-data-structure.html#cb320-2" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>##   Number Character
## 1      1         a
## 2      2         b
## 3      3         c</code></pre>
<div class="sourceCode" id="cb322"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb322-1"><a href="base-r-data-structure.html#cb322-1" tabindex="-1"></a><span class="co"># change the rownames</span></span>
<span id="cb322-2"><a href="base-r-data-structure.html#cb322-2" tabindex="-1"></a><span class="fu">rownames</span>(df)</span></code></pre></div>
<pre><code>## [1] &quot;1&quot; &quot;2&quot; &quot;3&quot;</code></pre>
<div class="sourceCode" id="cb324"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb324-1"><a href="base-r-data-structure.html#cb324-1" tabindex="-1"></a><span class="fu">rownames</span>(df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;donut&quot;</span>, <span class="st">&quot;pickle&quot;</span>, <span class="st">&quot;pretzel&quot;</span>)</span>
<span id="cb324-2"><a href="base-r-data-structure.html#cb324-2" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>##         Number Character
## donut        1         a
## pickle       2         b
## pretzel      3         c</code></pre>
<p>The <code>length()</code> of a dataframe is the length of the underlying list and so is the same as <code>ncol()</code>; <code>nrow()</code> gives the number of rows.</p>
<div class="sourceCode" id="cb326"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb326-1"><a href="base-r-data-structure.html#cb326-1" tabindex="-1"></a>vec1 <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span></span>
<span id="cb326-2"><a href="base-r-data-structure.html#cb326-2" tabindex="-1"></a>vec2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>)</span>
<span id="cb326-3"><a href="base-r-data-structure.html#cb326-3" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(vec1, vec2)</span>
<span id="cb326-4"><a href="base-r-data-structure.html#cb326-4" tabindex="-1"></a></span>
<span id="cb326-5"><a href="base-r-data-structure.html#cb326-5" tabindex="-1"></a><span class="co"># these two are equivalent - number of columns</span></span>
<span id="cb326-6"><a href="base-r-data-structure.html#cb326-6" tabindex="-1"></a><span class="fu">length</span>(df)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb328"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb328-1"><a href="base-r-data-structure.html#cb328-1" tabindex="-1"></a><span class="fu">ncol</span>(df)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb330"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb330-1"><a href="base-r-data-structure.html#cb330-1" tabindex="-1"></a><span class="co"># get number of rows</span></span>
<span id="cb330-2"><a href="base-r-data-structure.html#cb330-2" tabindex="-1"></a><span class="fu">nrow</span>(df)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb332"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb332-1"><a href="base-r-data-structure.html#cb332-1" tabindex="-1"></a><span class="co"># get number of both columns and rows</span></span>
<span id="cb332-2"><a href="base-r-data-structure.html#cb332-2" tabindex="-1"></a><span class="fu">dim</span>(df)</span></code></pre></div>
<pre><code>## [1] 3 2</code></pre>
</div>
<div id="testing-and-coercion" class="section level5 hasAnchor" number="4.2.4.2.3">
<h5><span class="header-section-number">4.2.4.2.3</span> Testing and coercion<a href="base-r-data-structure.html#testing-and-coercion" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>To check if an object is a dataframe, use <code>class()</code> or test explicitly with <code>is.data.frame()</code>:</p>
<div class="sourceCode" id="cb334"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb334-1"><a href="base-r-data-structure.html#cb334-1" tabindex="-1"></a><span class="fu">class</span>(df)</span></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb336"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb336-1"><a href="base-r-data-structure.html#cb336-1" tabindex="-1"></a><span class="fu">is.data.frame</span>(df)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>You can coerce an object to a dataframe with <code>as.data.frame()</code>:</p>
<ul>
<li><p>A vector will create a one-column dataframe.</p></li>
<li><p>A list will create one column for each element; it’s an error if they’re
not all the same length.</p></li>
<li><p>A matrix will create a data frame with the same number of columns and rows as the matrix.</p></li>
</ul>
</div>
<div id="combining-dataframes" class="section level5 hasAnchor" number="4.2.4.2.4">
<h5><span class="header-section-number">4.2.4.2.4</span> Combining dataframes<a href="base-r-data-structure.html#combining-dataframes" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>You can combine dataframes using <code>cbind()</code> and <code>rbind()</code>:</p>
<div class="sourceCode" id="cb338"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb338-1"><a href="base-r-data-structure.html#cb338-1" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb338-2"><a href="base-r-data-structure.html#cb338-2" tabindex="-1"></a>  <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,</span>
<span id="cb338-3"><a href="base-r-data-structure.html#cb338-3" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>),</span>
<span id="cb338-4"><a href="base-r-data-structure.html#cb338-4" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb338-5"><a href="base-r-data-structure.html#cb338-5" tabindex="-1"></a>)</span>
<span id="cb338-6"><a href="base-r-data-structure.html#cb338-6" tabindex="-1"></a></span>
<span id="cb338-7"><a href="base-r-data-structure.html#cb338-7" tabindex="-1"></a><span class="fu">cbind</span>(df, <span class="fu">data.frame</span>(<span class="at">z =</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">1</span>))</span></code></pre></div>
<pre><code>##   x y z
## 1 1 a 3
## 2 2 b 2
## 3 3 c 1</code></pre>
<div class="sourceCode" id="cb340"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb340-1"><a href="base-r-data-structure.html#cb340-1" tabindex="-1"></a><span class="fu">rbind</span>(df, <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="dv">10</span>, <span class="at">y =</span> <span class="st">&quot;z&quot;</span>))</span></code></pre></div>
<pre><code>##    x y
## 1  1 a
## 2  2 b
## 3  3 c
## 4 10 z</code></pre>
<p>When combining column-wise, the number of rows must match, but row names are ignored. When combining row-wise, both the number and names of columns must match. (If you want to combine rows that don’t have the same columns, other functions/packages in R can help.)</p>
<p>It’s a common mistake to try and create a dataframe by <code>cbind()</code>ing vectors together. This doesn’t work because <code>cbind()</code> will create a matrix unless one of the arguments is already a dataframe. Instead use <code>data.frame()</code> directly:</p>
<div class="sourceCode" id="cb342"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb342-1"><a href="base-r-data-structure.html#cb342-1" tabindex="-1"></a>bad <span class="ot">&lt;-</span> (<span class="fu">cbind</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">y =</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>)))</span>
<span id="cb342-2"><a href="base-r-data-structure.html#cb342-2" tabindex="-1"></a>bad</span></code></pre></div>
<pre><code>##      x   y  
## [1,] &quot;1&quot; &quot;a&quot;
## [2,] &quot;2&quot; &quot;b&quot;</code></pre>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb344-1"><a href="base-r-data-structure.html#cb344-1" tabindex="-1"></a><span class="fu">str</span>(bad)</span></code></pre></div>
<pre><code>##  chr [1:2, 1:2] &quot;1&quot; &quot;2&quot; &quot;a&quot; &quot;b&quot;
##  - attr(*, &quot;dimnames&quot;)=List of 2
##   ..$ : NULL
##   ..$ : chr [1:2] &quot;x&quot; &quot;y&quot;</code></pre>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb346-1"><a href="base-r-data-structure.html#cb346-1" tabindex="-1"></a>good <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb346-2"><a href="base-r-data-structure.html#cb346-2" tabindex="-1"></a>  <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">y =</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>),</span>
<span id="cb346-3"><a href="base-r-data-structure.html#cb346-3" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb346-4"><a href="base-r-data-structure.html#cb346-4" tabindex="-1"></a>)</span>
<span id="cb346-5"><a href="base-r-data-structure.html#cb346-5" tabindex="-1"></a>good</span></code></pre></div>
<pre><code>##   x y
## 1 1 a
## 2 2 b</code></pre>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb348-1"><a href="base-r-data-structure.html#cb348-1" tabindex="-1"></a><span class="fu">str</span>(good)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    2 obs. of  2 variables:
##  $ x: int  1 2
##  $ y: chr  &quot;a&quot; &quot;b&quot;</code></pre>
<p>The conversion rules for <code>cbind()</code> are complicated and best avoided by ensuring all inputs are of the same type.</p>
<p><strong>Other objects</strong></p>
<p>Missing values are specified with <code>NA,</code> which is a logical vector of length 1. <code>NA</code> will always be coerced to the correct type if used inside <code>c()</code></p>
<div class="sourceCode" id="cb350"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb350-1"><a href="base-r-data-structure.html#cb350-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="dv">1</span>)</span>
<span id="cb350-2"><a href="base-r-data-structure.html#cb350-2" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] NA  1</code></pre>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb352-1"><a href="base-r-data-structure.html#cb352-1" tabindex="-1"></a><span class="fu">typeof</span>(<span class="cn">NA</span>)</span></code></pre></div>
<pre><code>## [1] &quot;logical&quot;</code></pre>
<div class="sourceCode" id="cb354"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb354-1"><a href="base-r-data-structure.html#cb354-1" tabindex="-1"></a><span class="fu">typeof</span>(x)</span></code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<p><code>Inf</code> is infinity. You can have either positive or negative infinity.</p>
<div class="sourceCode" id="cb356"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb356-1"><a href="base-r-data-structure.html#cb356-1" tabindex="-1"></a><span class="dv">1</span> <span class="sc">/</span> <span class="dv">0</span></span></code></pre></div>
<pre><code>## [1] Inf</code></pre>
<div class="sourceCode" id="cb358"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb358-1"><a href="base-r-data-structure.html#cb358-1" tabindex="-1"></a><span class="dv">1</span> <span class="sc">/</span> <span class="cn">Inf</span></span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<p><code>NaN</code> means Not a number. It’s an undefined value.</p>
<div class="sourceCode" id="cb360"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb360-1"><a href="base-r-data-structure.html#cb360-1" tabindex="-1"></a><span class="dv">0</span> <span class="sc">/</span> <span class="dv">0</span></span></code></pre></div>
<pre><code>## [1] NaN</code></pre>
</div>
</div>
</div>
<div id="subset" class="section level3 hasAnchor" number="4.2.5">
<h3><span class="header-section-number">4.2.5</span> Subset<a href="base-r-data-structure.html#subset" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When working with data, you’ll need to subset objects early and often. Luckily, R’s subsetting operators are powerful and fast. Mastery of subsetting allows you to succinctly express complex operations in a way that few other languages can match. Subsetting is hard to learn because you need to master several interrelated concepts:</p>
<ul>
<li><p>The three subsetting operators, <code>[</code>, <code>[[</code>, and <code>$</code>.</p></li>
<li><p>Important differences in behavior for different objects (e.g., vectors, lists, factors, matrices, and data frames).</p></li>
<li><p>The use of subsetting in conjunction with assignment.</p></li>
</ul>
<p>This unit helps you master subsetting by starting with the simplest type of subsetting: subsetting an atomic vector with <code>[</code>. It then gradually extends your knowledge to more complicated data types (like dataframes and lists) and then to the other subsetting operators, <code>[[</code> and <code>$</code>. You’ll then learn how subsetting and assignment can be combined to modify parts of an object, and, finally, you’ll see a large number of useful applications.</p>
<div id="atomic-vectors" class="section level4 hasAnchor" number="4.2.5.1">
<h4><span class="header-section-number">4.2.5.1</span> Atomic vectors<a href="base-r-data-structure.html#atomic-vectors" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Let’s explore the different types of subsetting with a simple vector, <code>x</code>.</p>
<div class="sourceCode" id="cb362"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb362-1"><a href="base-r-data-structure.html#cb362-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">2.1</span>, <span class="fl">4.2</span>, <span class="fl">3.3</span>, <span class="fl">5.4</span>)</span></code></pre></div>
<p>Note that the number after the decimal point gives the original position in the vector.</p>
<p><strong>NB:</strong> In R, positions start at 1, unlike Python, which starts at 0. Fun!**</p>
<p>There are five things that you can use to subset a vector:</p>
<div id="positive-integers" class="section level5 hasAnchor" number="4.2.5.1.1">
<h5><span class="header-section-number">4.2.5.1.1</span> Positive integers<a href="base-r-data-structure.html#positive-integers" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb363"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb363-1"><a href="base-r-data-structure.html#cb363-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">2.1</span>, <span class="fl">4.2</span>, <span class="fl">3.3</span>, <span class="fl">5.4</span>)</span>
<span id="cb363-2"><a href="base-r-data-structure.html#cb363-2" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 2.1 4.2 3.3 5.4</code></pre>
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb365-1"><a href="base-r-data-structure.html#cb365-1" tabindex="-1"></a>x[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1] 2.1</code></pre>
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb367-1"><a href="base-r-data-structure.html#cb367-1" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">1</span>)]</span></code></pre></div>
<pre><code>## [1] 3.3 2.1</code></pre>
<div class="sourceCode" id="cb369"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb369-1"><a href="base-r-data-structure.html#cb369-1" tabindex="-1"></a><span class="co"># `order(x)` gives the positions of smallest to largest values.</span></span>
<span id="cb369-2"><a href="base-r-data-structure.html#cb369-2" tabindex="-1"></a><span class="fu">order</span>(x)</span></code></pre></div>
<pre><code>## [1] 1 3 2 4</code></pre>
<div class="sourceCode" id="cb371"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb371-1"><a href="base-r-data-structure.html#cb371-1" tabindex="-1"></a>x[<span class="fu">order</span>(x)]</span></code></pre></div>
<pre><code>## [1] 2.1 3.3 4.2 5.4</code></pre>
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb373-1"><a href="base-r-data-structure.html#cb373-1" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">4</span>)]</span></code></pre></div>
<pre><code>## [1] 2.1 3.3 4.2 5.4</code></pre>
<div class="sourceCode" id="cb375"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb375-1"><a href="base-r-data-structure.html#cb375-1" tabindex="-1"></a><span class="co"># Duplicated indices yield duplicated values</span></span>
<span id="cb375-2"><a href="base-r-data-structure.html#cb375-2" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>)]</span></code></pre></div>
<pre><code>## [1] 2.1 2.1</code></pre>
</div>
<div id="negative-integers" class="section level5 hasAnchor" number="4.2.5.1.2">
<h5><span class="header-section-number">4.2.5.1.2</span> Negative integers<a href="base-r-data-structure.html#negative-integers" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb377"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb377-1"><a href="base-r-data-structure.html#cb377-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">2.1</span>, <span class="fl">4.2</span>, <span class="fl">3.3</span>, <span class="fl">5.4</span>)</span>
<span id="cb377-2"><a href="base-r-data-structure.html#cb377-2" tabindex="-1"></a>x[<span class="sc">-</span><span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1] 4.2 3.3 5.4</code></pre>
<div class="sourceCode" id="cb379"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb379-1"><a href="base-r-data-structure.html#cb379-1" tabindex="-1"></a>x[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">1</span>)]</span></code></pre></div>
<pre><code>## [1] 4.2 5.4</code></pre>
<p>You can’t mix positive and negative integers in a single subset:</p>
<div class="sourceCode" id="cb381"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb381-1"><a href="base-r-data-structure.html#cb381-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">2.1</span>, <span class="fl">4.2</span>, <span class="fl">3.3</span>, <span class="fl">5.4</span>)</span>
<span id="cb381-2"><a href="base-r-data-structure.html#cb381-2" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">2</span>)]</span></code></pre></div>
<pre><code>## Error in x[c(-1, 2)]: only 0&#39;s may be mixed with negative subscripts</code></pre>
</div>
<div id="logical-vectors" class="section level5 hasAnchor" number="4.2.5.1.3">
<h5><span class="header-section-number">4.2.5.1.3</span> Logical vectors<a href="base-r-data-structure.html#logical-vectors" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb383"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb383-1"><a href="base-r-data-structure.html#cb383-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">2.1</span>, <span class="fl">4.2</span>, <span class="fl">3.3</span>, <span class="fl">5.4</span>)</span>
<span id="cb383-2"><a href="base-r-data-structure.html#cb383-2" tabindex="-1"></a></span>
<span id="cb383-3"><a href="base-r-data-structure.html#cb383-3" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>)]</span></code></pre></div>
<pre><code>## [1] 2.1 4.2</code></pre>
<p>This is probably the most useful type of subsetting because you write the expression that creates the logical vector.</p>
<div class="sourceCode" id="cb385"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb385-1"><a href="base-r-data-structure.html#cb385-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">2.1</span>, <span class="fl">4.2</span>, <span class="fl">3.3</span>, <span class="fl">5.4</span>)</span>
<span id="cb385-2"><a href="base-r-data-structure.html#cb385-2" tabindex="-1"></a></span>
<span id="cb385-3"><a href="base-r-data-structure.html#cb385-3" tabindex="-1"></a><span class="co"># this returns a logical vector</span></span>
<span id="cb385-4"><a href="base-r-data-structure.html#cb385-4" tabindex="-1"></a>x <span class="sc">&gt;</span> <span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] FALSE  TRUE  TRUE  TRUE</code></pre>
<div class="sourceCode" id="cb387"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb387-1"><a href="base-r-data-structure.html#cb387-1" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 2.1 4.2 3.3 5.4</code></pre>
<div class="sourceCode" id="cb389"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb389-1"><a href="base-r-data-structure.html#cb389-1" tabindex="-1"></a><span class="co"># use a conditional statement to create an implicit logical vector</span></span>
<span id="cb389-2"><a href="base-r-data-structure.html#cb389-2" tabindex="-1"></a>x[x <span class="sc">&gt;</span> <span class="dv">3</span>]</span></code></pre></div>
<pre><code>## [1] 4.2 3.3 5.4</code></pre>
<p>You can combine conditional statements with <code>&amp;</code> (and), <code>|</code> (or), and <code>!</code> (not)</p>
<div class="sourceCode" id="cb391"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb391-1"><a href="base-r-data-structure.html#cb391-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">2.1</span>, <span class="fl">4.2</span>, <span class="fl">3.3</span>, <span class="fl">5.4</span>)</span>
<span id="cb391-2"><a href="base-r-data-structure.html#cb391-2" tabindex="-1"></a></span>
<span id="cb391-3"><a href="base-r-data-structure.html#cb391-3" tabindex="-1"></a><span class="co"># combing two conditional statements with &amp;</span></span>
<span id="cb391-4"><a href="base-r-data-structure.html#cb391-4" tabindex="-1"></a>x <span class="sc">&gt;</span> <span class="dv">3</span> <span class="sc">&amp;</span> x <span class="sc">&lt;</span> <span class="dv">5</span></span></code></pre></div>
<pre><code>## [1] FALSE  TRUE  TRUE FALSE</code></pre>
<div class="sourceCode" id="cb393"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb393-1"><a href="base-r-data-structure.html#cb393-1" tabindex="-1"></a>x[x <span class="sc">&gt;</span> <span class="dv">3</span> <span class="sc">&amp;</span> x <span class="sc">&lt;</span> <span class="dv">5</span>]</span></code></pre></div>
<pre><code>## [1] 4.2 3.3</code></pre>
<div class="sourceCode" id="cb395"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb395-1"><a href="base-r-data-structure.html#cb395-1" tabindex="-1"></a><span class="co"># combing two conditional statements with |</span></span>
<span id="cb395-2"><a href="base-r-data-structure.html#cb395-2" tabindex="-1"></a>x <span class="sc">&lt;</span> <span class="dv">3</span> <span class="sc">|</span> x <span class="sc">&gt;</span> <span class="dv">5</span></span></code></pre></div>
<pre><code>## [1]  TRUE FALSE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb397"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb397-1"><a href="base-r-data-structure.html#cb397-1" tabindex="-1"></a>x[x <span class="sc">&lt;</span> <span class="dv">3</span> <span class="sc">|</span> x <span class="sc">&gt;</span> <span class="dv">5</span>]</span></code></pre></div>
<pre><code>## [1] 2.1 5.4</code></pre>
<div class="sourceCode" id="cb399"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb399-1"><a href="base-r-data-structure.html#cb399-1" tabindex="-1"></a><span class="co"># combining conditional statements with !</span></span>
<span id="cb399-2"><a href="base-r-data-structure.html#cb399-2" tabindex="-1"></a><span class="sc">!</span>x <span class="sc">&gt;</span> <span class="dv">5</span></span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE  TRUE FALSE</code></pre>
<div class="sourceCode" id="cb401"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb401-1"><a href="base-r-data-structure.html#cb401-1" tabindex="-1"></a>x[<span class="sc">!</span>x <span class="sc">&gt;</span> <span class="dv">5</span>]</span></code></pre></div>
<pre><code>## [1] 2.1 4.2 3.3</code></pre>
<p>Another way to generate implicit conditional statements is using the <code>%in%</code> operator, which works like the <code>in</code> keywords in Python.</p>
<div class="sourceCode" id="cb403"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb403-1"><a href="base-r-data-structure.html#cb403-1" tabindex="-1"></a><span class="co"># generate implicit logical vectors through the %in% operator</span></span>
<span id="cb403-2"><a href="base-r-data-structure.html#cb403-2" tabindex="-1"></a>x <span class="sc">%in%</span> <span class="fu">c</span>(<span class="fl">3.3</span>, <span class="fl">4.2</span>)</span></code></pre></div>
<pre><code>## [1] FALSE  TRUE  TRUE FALSE</code></pre>
<div class="sourceCode" id="cb405"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb405-1"><a href="base-r-data-structure.html#cb405-1" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 2.1 4.2 3.3 5.4</code></pre>
<div class="sourceCode" id="cb407"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb407-1"><a href="base-r-data-structure.html#cb407-1" tabindex="-1"></a>x[x <span class="sc">%in%</span> <span class="fu">c</span>(<span class="fl">3.3</span>, <span class="fl">4.2</span>)]</span></code></pre></div>
<pre><code>## [1] 4.2 3.3</code></pre>
</div>
<div id="character-vectors" class="section level5 hasAnchor" number="4.2.5.1.4">
<h5><span class="header-section-number">4.2.5.1.4</span> Character vectors<a href="base-r-data-structure.html#character-vectors" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb409"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb409-1"><a href="base-r-data-structure.html#cb409-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">2.1</span>, <span class="fl">4.2</span>, <span class="fl">3.3</span>, <span class="fl">5.4</span>)</span>
<span id="cb409-2"><a href="base-r-data-structure.html#cb409-2" tabindex="-1"></a></span>
<span id="cb409-3"><a href="base-r-data-structure.html#cb409-3" tabindex="-1"></a><span class="co"># apply names</span></span>
<span id="cb409-4"><a href="base-r-data-structure.html#cb409-4" tabindex="-1"></a><span class="fu">names</span>(x) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>)</span>
<span id="cb409-5"><a href="base-r-data-structure.html#cb409-5" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>##   a   b   c   d 
## 2.1 4.2 3.3 5.4</code></pre>
<div class="sourceCode" id="cb411"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb411-1"><a href="base-r-data-structure.html#cb411-1" tabindex="-1"></a><span class="co"># subset using names</span></span>
<span id="cb411-2"><a href="base-r-data-structure.html#cb411-2" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="st">&quot;d&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;a&quot;</span>)]</span></code></pre></div>
<pre><code>##   d   c   a 
## 5.4 3.3 2.1</code></pre>
<div class="sourceCode" id="cb413"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb413-1"><a href="base-r-data-structure.html#cb413-1" tabindex="-1"></a><span class="co"># Like integer indices, you can repeat indices</span></span>
<span id="cb413-2"><a href="base-r-data-structure.html#cb413-2" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;a&quot;</span>)]</span></code></pre></div>
<pre><code>##   a   a   a 
## 2.1 2.1 2.1</code></pre>
<div class="sourceCode" id="cb415"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb415-1"><a href="base-r-data-structure.html#cb415-1" tabindex="-1"></a><span class="co"># Careful! names are always matched exactly</span></span>
<span id="cb415-2"><a href="base-r-data-structure.html#cb415-2" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">abc =</span> <span class="dv">1</span>, <span class="at">def =</span> <span class="dv">2</span>)</span>
<span id="cb415-3"><a href="base-r-data-structure.html#cb415-3" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## abc def 
##   1   2</code></pre>
<div class="sourceCode" id="cb417"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb417-1"><a href="base-r-data-structure.html#cb417-1" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;d&quot;</span>)]</span></code></pre></div>
<pre><code>## &lt;NA&gt; &lt;NA&gt; 
##   NA   NA</code></pre>
<div id="more-on-string-operations" class="section level6 hasAnchor" number="4.2.5.1.4.1">
<h6><span class="header-section-number">4.2.5.1.4.1</span> More on string operations<a href="base-r-data-structure.html#more-on-string-operations" class="anchor-section" aria-label="Anchor link to header"></a></h6>
<div class="sourceCode" id="cb419"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb419-1"><a href="base-r-data-structure.html#cb419-1" tabindex="-1"></a>firstName <span class="ot">&lt;-</span> <span class="st">&quot;Jae Yeon&quot;</span></span>
<span id="cb419-2"><a href="base-r-data-structure.html#cb419-2" tabindex="-1"></a>lastName <span class="ot">&lt;-</span> <span class="st">&quot;Kim&quot;</span></span></code></pre></div>
<p>Unlike in Python, R does not have a reserved operator for string concatenation such as <code>+</code>. Furthermore, using the usual concatenation operator <code>c()</code> on two or more character strings will not create a single character string, but rather a <strong>vector</strong> of character strings.</p>
<div class="sourceCode" id="cb420"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb420-1"><a href="base-r-data-structure.html#cb420-1" tabindex="-1"></a>fullName <span class="ot">&lt;-</span> <span class="fu">c</span>(firstName, lastName)</span>
<span id="cb420-2"><a href="base-r-data-structure.html#cb420-2" tabindex="-1"></a></span>
<span id="cb420-3"><a href="base-r-data-structure.html#cb420-3" tabindex="-1"></a><span class="fu">print</span>(fullName)</span></code></pre></div>
<pre><code>## [1] &quot;Jae Yeon&quot; &quot;Kim&quot;</code></pre>
<div class="sourceCode" id="cb422"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb422-1"><a href="base-r-data-structure.html#cb422-1" tabindex="-1"></a><span class="fu">length</span>(fullName)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>To combine two or more character strings into one larger character string, we use the <code>paste()</code> function. This function takes character strings or vectors and collapses their values into a single character string, with each value separated by a character string selected by the user.</p>
<div class="sourceCode" id="cb424"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb424-1"><a href="base-r-data-structure.html#cb424-1" tabindex="-1"></a>fullName <span class="ot">&lt;-</span> <span class="fu">paste</span>(firstName, lastName)</span>
<span id="cb424-2"><a href="base-r-data-structure.html#cb424-2" tabindex="-1"></a></span>
<span id="cb424-3"><a href="base-r-data-structure.html#cb424-3" tabindex="-1"></a><span class="fu">print</span>(fullName)</span>
<span id="cb424-4"><a href="base-r-data-structure.html#cb424-4" tabindex="-1"></a></span>
<span id="cb424-5"><a href="base-r-data-structure.html#cb424-5" tabindex="-1"></a>fullName <span class="ot">&lt;-</span> <span class="fu">paste</span>(firstName, lastName, <span class="at">sep =</span> <span class="st">&quot;+&quot;</span>)</span>
<span id="cb424-6"><a href="base-r-data-structure.html#cb424-6" tabindex="-1"></a></span>
<span id="cb424-7"><a href="base-r-data-structure.html#cb424-7" tabindex="-1"></a><span class="fu">print</span>(fullName)</span>
<span id="cb424-8"><a href="base-r-data-structure.html#cb424-8" tabindex="-1"></a></span>
<span id="cb424-9"><a href="base-r-data-structure.html#cb424-9" tabindex="-1"></a>fullName <span class="ot">&lt;-</span> <span class="fu">paste</span>(firstName, lastName, <span class="at">sep =</span> <span class="st">&quot;___&quot;</span>)</span>
<span id="cb424-10"><a href="base-r-data-structure.html#cb424-10" tabindex="-1"></a><span class="fu">print</span>(fullName)</span></code></pre></div>
<p>As with Python, R can also extract substrings based on the index position of its characters. There are, however, two critical differences. First, <strong>index positions in R start at 1</strong>. This is in contrast to Python, where indexation begins at 0.</p>
<p>Second, <strong>object subsets using index positions in R contain all the elements in the specified range</strong>. If some object called <code>data</code> contains five elements, <code>data[2:4]</code> will return the elements at the second, third, and fourth positions. By contrast, the same subset in Python would return the objects at the third and fourth positions (or second and third positions, depending upon whether your index starts at 0 or 1).</p>
<p>Third, <strong>R does not allow indexing of character strings</strong>*. Instead, you must use the <code>substr()</code> function. Note that this function must receive both the <code>start</code> and <code>stop</code> arguments. So if you want to get all the characters between some index and the end of the string, you must use the <code>nchar()</code> function, which will tell you the length of a character string.</p>
<div class="sourceCode" id="cb425"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb425-1"><a href="base-r-data-structure.html#cb425-1" tabindex="-1"></a>fullName <span class="ot">&lt;-</span> <span class="fu">paste</span>(firstName, lastName)</span>
<span id="cb425-2"><a href="base-r-data-structure.html#cb425-2" tabindex="-1"></a></span>
<span id="cb425-3"><a href="base-r-data-structure.html#cb425-3" tabindex="-1"></a><span class="co"># this won&#39;t work like in Python</span></span>
<span id="cb425-4"><a href="base-r-data-structure.html#cb425-4" tabindex="-1"></a>fullName[<span class="dv">1</span>] <span class="co"># R sees the string as a unitary object - it can&#39;t be indexed this way</span></span></code></pre></div>
<pre><code>## [1] &quot;Jae Yeon Kim&quot;</code></pre>
<div class="sourceCode" id="cb427"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb427-1"><a href="base-r-data-structure.html#cb427-1" tabindex="-1"></a>fullName[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]</span></code></pre></div>
<pre><code>## [1] &quot;Jae Yeon Kim&quot; NA             NA             NA</code></pre>
<div class="sourceCode" id="cb429"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb429-1"><a href="base-r-data-structure.html#cb429-1" tabindex="-1"></a><span class="co"># So use this instead</span></span>
<span id="cb429-2"><a href="base-r-data-structure.html#cb429-2" tabindex="-1"></a><span class="fu">substr</span>(<span class="at">x =</span> fullName, <span class="at">start =</span> <span class="dv">1</span>, <span class="at">stop =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Ja&quot;</code></pre>
<div class="sourceCode" id="cb431"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb431-1"><a href="base-r-data-structure.html#cb431-1" tabindex="-1"></a><span class="fu">substr</span>(<span class="at">x =</span> fullName, <span class="at">start =</span> <span class="dv">5</span>, <span class="at">stop =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Y&quot;</code></pre>
<div class="sourceCode" id="cb433"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb433-1"><a href="base-r-data-structure.html#cb433-1" tabindex="-1"></a><span class="fu">substr</span>(<span class="at">x =</span> fullName, <span class="at">start =</span> <span class="dv">1</span>, <span class="at">stop =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Jae Yeon K&quot;</code></pre>
<div class="sourceCode" id="cb435"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb435-1"><a href="base-r-data-structure.html#cb435-1" tabindex="-1"></a><span class="fu">substr</span>(<span class="at">x =</span> fullName, <span class="at">start =</span> <span class="dv">11</span>, <span class="at">stop =</span> <span class="fu">nchar</span>(fullName))</span></code></pre></div>
<pre><code>## [1] &quot;im&quot;</code></pre>
<p>Like Python, R has a number of string methods, though these exist as individual rather than “mix-and-match” functions. For example:</p>
<div class="sourceCode" id="cb437"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb437-1"><a href="base-r-data-structure.html#cb437-1" tabindex="-1"></a><span class="fu">toupper</span>(<span class="at">x =</span> fullName)</span></code></pre></div>
<pre><code>## [1] &quot;JAE YEON KIM&quot;</code></pre>
<div class="sourceCode" id="cb439"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb439-1"><a href="base-r-data-structure.html#cb439-1" tabindex="-1"></a><span class="fu">tolower</span>(<span class="at">x =</span> fullName)</span></code></pre></div>
<pre><code>## [1] &quot;jae yeon kim&quot;</code></pre>
<div class="sourceCode" id="cb441"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb441-1"><a href="base-r-data-structure.html#cb441-1" tabindex="-1"></a><span class="fu">strsplit</span>(<span class="at">x =</span> fullName, <span class="at">split =</span> <span class="st">&quot; &quot;</span>)</span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;Jae&quot;  &quot;Yeon&quot; &quot;Kim&quot;</code></pre>
<div class="sourceCode" id="cb443"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb443-1"><a href="base-r-data-structure.html#cb443-1" tabindex="-1"></a><span class="fu">strsplit</span>(<span class="at">x =</span> fullName, <span class="at">split =</span> <span class="st">&quot;n&quot;</span>)</span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;Jae Yeo&quot; &quot; Kim&quot;</code></pre>
<div class="sourceCode" id="cb445"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb445-1"><a href="base-r-data-structure.html#cb445-1" tabindex="-1"></a><span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">&quot;Kim&quot;</span>, <span class="at">replacement =</span> <span class="st">&quot;Choi&quot;</span>, <span class="at">x =</span> fullName)</span></code></pre></div>
<pre><code>## [1] &quot;Jae Yeon Choi&quot;</code></pre>
<div class="sourceCode" id="cb447"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb447-1"><a href="base-r-data-structure.html#cb447-1" tabindex="-1"></a><span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">&quot;Jae Yeon&quot;</span>, <span class="at">replacement =</span> <span class="st">&quot;Danny&quot;</span>, <span class="at">x =</span> fullName)</span></code></pre></div>
<pre><code>## [1] &quot;Danny Kim&quot;</code></pre>
<div class="sourceCode" id="cb449"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb449-1"><a href="base-r-data-structure.html#cb449-1" tabindex="-1"></a><span class="co"># Note the importance of cases! This doesn&#39;t throw an error, so you won&#39;t realize your function didn&#39;t work unless you double-check several entries.</span></span>
<span id="cb449-2"><a href="base-r-data-structure.html#cb449-2" tabindex="-1"></a></span>
<span id="cb449-3"><a href="base-r-data-structure.html#cb449-3" tabindex="-1"></a><span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">&quot; &quot;</span>, <span class="at">replacement =</span> <span class="st">&quot;&quot;</span>, <span class="at">x =</span> fullName) <span class="co"># The same function is used for replacements and stripping</span></span></code></pre></div>
<pre><code>## [1] &quot;JaeYeonKim&quot;</code></pre>
</div>
</div>
</div>
<div id="lists-1" class="section level4 hasAnchor" number="4.2.5.2">
<h4><span class="header-section-number">4.2.5.2</span> Lists<a href="base-r-data-structure.html#lists-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Subsetting a list works in the same way as subsetting an atomic vector. Using <code>[</code> will always return a list; <code>[[</code> and <code>$</code>, as described below, let you pull out the list’s components.</p>
<div class="sourceCode" id="cb451"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb451-1"><a href="base-r-data-structure.html#cb451-1" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">&quot;a&quot;</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">&quot;b&quot;</span> <span class="ot">=</span> <span class="dv">2</span>)</span>
<span id="cb451-2"><a href="base-r-data-structure.html#cb451-2" tabindex="-1"></a>l</span></code></pre></div>
<pre><code>## $a
## [1] 1
## 
## $b
## [1] 2</code></pre>
<div class="sourceCode" id="cb453"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb453-1"><a href="base-r-data-structure.html#cb453-1" tabindex="-1"></a>l[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## $a
## [1] 1</code></pre>
<div class="sourceCode" id="cb455"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb455-1"><a href="base-r-data-structure.html#cb455-1" tabindex="-1"></a>l[[<span class="dv">1</span>]]</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb457"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb457-1"><a href="base-r-data-structure.html#cb457-1" tabindex="-1"></a>l[<span class="st">&quot;a&quot;</span>]</span></code></pre></div>
<pre><code>## $a
## [1] 1</code></pre>
</div>
<div id="matrices-1" class="section level4 hasAnchor" number="4.2.5.3">
<h4><span class="header-section-number">4.2.5.3</span> Matrices<a href="base-r-data-structure.html#matrices-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The most common way of subsetting matrices (2d) is a simple generalization of 1d subsetting: you supply a 1d index for each dimension, separated by a comma. Blank subsetting is now useful because it lets you keep all rows or all columns.</p>
<div class="sourceCode" id="cb459"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb459-1"><a href="base-r-data-structure.html#cb459-1" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>, <span class="at">nrow =</span> <span class="dv">3</span>)</span>
<span id="cb459-2"><a href="base-r-data-structure.html#cb459-2" tabindex="-1"></a><span class="fu">colnames</span>(a) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>)</span>
<span id="cb459-3"><a href="base-r-data-structure.html#cb459-3" tabindex="-1"></a>a</span></code></pre></div>
<pre><code>##      A B C
## [1,] 1 4 7
## [2,] 2 5 8
## [3,] 3 6 9</code></pre>
<div class="sourceCode" id="cb461"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb461-1"><a href="base-r-data-structure.html#cb461-1" tabindex="-1"></a><span class="co"># rows come first, then columns</span></span>
<span id="cb461-2"><a href="base-r-data-structure.html#cb461-2" tabindex="-1"></a>a[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), ]</span></code></pre></div>
<pre><code>##      A B C
## [1,] 1 4 7
## [2,] 2 5 8</code></pre>
<div class="sourceCode" id="cb463"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb463-1"><a href="base-r-data-structure.html#cb463-1" tabindex="-1"></a>a[<span class="fu">c</span>(T, F, T), <span class="fu">c</span>(<span class="st">&quot;B&quot;</span>, <span class="st">&quot;A&quot;</span>)]</span></code></pre></div>
<pre><code>##      B A
## [1,] 4 1
## [2,] 6 3</code></pre>
<div class="sourceCode" id="cb465"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb465-1"><a href="base-r-data-structure.html#cb465-1" tabindex="-1"></a>a[<span class="dv">0</span>, <span class="sc">-</span><span class="dv">2</span>]</span></code></pre></div>
<pre><code>##      A C</code></pre>
<div class="sourceCode" id="cb467"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb467-1"><a href="base-r-data-structure.html#cb467-1" tabindex="-1"></a>a[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="sc">-</span><span class="dv">2</span>]</span></code></pre></div>
<pre><code>##      A C
## [1,] 1 7
## [2,] 2 8</code></pre>
</div>
<div id="data-frames" class="section level4 hasAnchor" number="4.2.5.4">
<h4><span class="header-section-number">4.2.5.4</span> Data frames<a href="base-r-data-structure.html#data-frames" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Data from data frames can be addressed like matrices (with row and column indicators separated by a comma).</p>
<div class="sourceCode" id="cb469"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb469-1"><a href="base-r-data-structure.html#cb469-1" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="dv">4</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">y =</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">1</span>, <span class="at">z =</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>])</span>
<span id="cb469-2"><a href="base-r-data-structure.html#cb469-2" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>##   x y z
## 1 4 3 a
## 2 5 2 b
## 3 6 1 c</code></pre>
<div class="sourceCode" id="cb471"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb471-1"><a href="base-r-data-structure.html#cb471-1" tabindex="-1"></a><span class="co"># return only the rows where x == 6</span></span>
<span id="cb471-2"><a href="base-r-data-structure.html#cb471-2" tabindex="-1"></a>df[df<span class="sc">$</span>x <span class="sc">==</span> <span class="dv">6</span>, ]</span></code></pre></div>
<pre><code>##   x y z
## 3 6 1 c</code></pre>
<div class="sourceCode" id="cb473"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb473-1"><a href="base-r-data-structure.html#cb473-1" tabindex="-1"></a><span class="co"># return the first and third row</span></span>
<span id="cb473-2"><a href="base-r-data-structure.html#cb473-2" tabindex="-1"></a>df[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>), ]</span></code></pre></div>
<pre><code>##   x y z
## 1 4 3 a
## 3 6 1 c</code></pre>
<div class="sourceCode" id="cb475"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb475-1"><a href="base-r-data-structure.html#cb475-1" tabindex="-1"></a><span class="co"># return the first and third row and the first and second column</span></span>
<span id="cb475-2"><a href="base-r-data-structure.html#cb475-2" tabindex="-1"></a>df[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>), <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)]</span></code></pre></div>
<pre><code>##   x y
## 1 4 3
## 3 6 1</code></pre>
<p>Data frames possess both lists and matrices’ characteristics: if you subset with a single vector, they behave like lists and return only the columns.</p>
<div class="sourceCode" id="cb477"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb477-1"><a href="base-r-data-structure.html#cb477-1" tabindex="-1"></a><span class="co"># There are two ways to select columns from a data frame</span></span>
<span id="cb477-2"><a href="base-r-data-structure.html#cb477-2" tabindex="-1"></a><span class="co"># Like a list:</span></span>
<span id="cb477-3"><a href="base-r-data-structure.html#cb477-3" tabindex="-1"></a>df[<span class="fu">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;z&quot;</span>)]</span></code></pre></div>
<pre><code>##   x z
## 1 4 a
## 2 5 b
## 3 6 c</code></pre>
<div class="sourceCode" id="cb479"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb479-1"><a href="base-r-data-structure.html#cb479-1" tabindex="-1"></a><span class="co"># Like a matrix</span></span>
<span id="cb479-2"><a href="base-r-data-structure.html#cb479-2" tabindex="-1"></a>df[, <span class="fu">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;z&quot;</span>)]</span></code></pre></div>
<pre><code>##   x z
## 1 4 a
## 2 5 b
## 3 6 c</code></pre>
<p>But there’s a significant difference when selecting a single column: matrix subsetting simplifies by default, list subsetting does not.</p>
<div class="sourceCode" id="cb481"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb481-1"><a href="base-r-data-structure.html#cb481-1" tabindex="-1"></a>(df[<span class="st">&quot;x&quot;</span>])</span></code></pre></div>
<pre><code>##   x
## 1 4
## 2 5
## 3 6</code></pre>
<div class="sourceCode" id="cb483"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb483-1"><a href="base-r-data-structure.html#cb483-1" tabindex="-1"></a><span class="fu">class</span>((df[<span class="st">&quot;x&quot;</span>]))</span></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb485"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb485-1"><a href="base-r-data-structure.html#cb485-1" tabindex="-1"></a>(df[, <span class="st">&quot;x&quot;</span>])</span></code></pre></div>
<pre><code>## [1] 4 5 6</code></pre>
<div class="sourceCode" id="cb487"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb487-1"><a href="base-r-data-structure.html#cb487-1" tabindex="-1"></a><span class="fu">class</span>((df[, <span class="st">&quot;x&quot;</span>]))</span></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<p>See the bottom section on <a href="#simplify-preserve">Simplying and Preserving to know more</a></p>
</div>
<div id="subsetting-operators" class="section level4 hasAnchor" number="4.2.5.5">
<h4><span class="header-section-number">4.2.5.5</span> Subsetting operators<a href="base-r-data-structure.html#subsetting-operators" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>There are two other subsetting operators: <code>[[</code> and <code>$</code>.</p>
<ul>
<li><code>[[</code> is similar to <code>[</code>, except it can only return a single value, and it allows you to pull pieces out of a list.</li>
<li><code>$</code> is a useful shorthand for <code>[[</code> combined with character subsetting.</li>
</ul>
<div id="section" class="section level5 hasAnchor" number="4.2.5.5.1">
<h5><span class="header-section-number">4.2.5.5.1</span> <code>[[</code><a href="base-r-data-structure.html#section" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>You need <code>[[</code> when working with lists. When <code>[</code> is applied to a list it always returns a list: it never gives you the list’s contents. To get the contents, you need <code>[[</code>:</p>
<blockquote>
<p>“If list <code>x</code> is a train carrying objects, then <code>x[[5]]</code> is
the object in car 5; <code>x[4:6]</code> is a train of cars 4-6.”</p>
<p>— <span class="citation">(<a href="#ref-RLangTip"><strong>RLangTip?</strong></a>)</span></p>
</blockquote>
<p>Because data frames are lists of columns, you can use <code>[[</code> to extract a column from data frames:</p>
<div class="sourceCode" id="cb489"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb489-1"><a href="base-r-data-structure.html#cb489-1" tabindex="-1"></a>mtcars</span></code></pre></div>
<pre><code>##                      mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4           21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag       21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710          22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive      21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
## Valiant             18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
## Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
## Merc 240D           24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
## Merc 230            22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
## Merc 280            19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4
## Merc 280C           17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4
## Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
## Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
## Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
## Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
## Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4
## Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
## Fiat 128            32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
## Honda Civic         30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
## Toyota Corolla      33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
## Toyota Corona       21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
## Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2
## AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
## Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
## Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2
## Fiat X1-9           27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
## Porsche 914-2       26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
## Lotus Europa        30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
## Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4
## Ferrari Dino        19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
## Maserati Bora       15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
## Volvo 142E          21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2</code></pre>
<div class="sourceCode" id="cb491"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb491-1"><a href="base-r-data-structure.html#cb491-1" tabindex="-1"></a><span class="co"># these two are equivalent</span></span>
<span id="cb491-2"><a href="base-r-data-structure.html#cb491-2" tabindex="-1"></a>mtcars[[<span class="dv">1</span>]]</span></code></pre></div>
<pre><code>##  [1] 21.0 21.0 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 17.8 16.4 17.3 15.2 10.4
## [16] 10.4 14.7 32.4 30.4 33.9 21.5 15.5 15.2 13.3 19.2 27.3 26.0 30.4 15.8 19.7
## [31] 15.0 21.4</code></pre>
<div class="sourceCode" id="cb493"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb493-1"><a href="base-r-data-structure.html#cb493-1" tabindex="-1"></a>mtcars[, <span class="dv">1</span>]</span></code></pre></div>
<pre><code>##  [1] 21.0 21.0 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 17.8 16.4 17.3 15.2 10.4
## [16] 10.4 14.7 32.4 30.4 33.9 21.5 15.5 15.2 13.3 19.2 27.3 26.0 30.4 15.8 19.7
## [31] 15.0 21.4</code></pre>
<div class="sourceCode" id="cb495"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb495-1"><a href="base-r-data-structure.html#cb495-1" tabindex="-1"></a><span class="co"># which differs from this:</span></span>
<span id="cb495-2"><a href="base-r-data-structure.html#cb495-2" tabindex="-1"></a>mtcars[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>##                      mpg
## Mazda RX4           21.0
## Mazda RX4 Wag       21.0
## Datsun 710          22.8
## Hornet 4 Drive      21.4
## Hornet Sportabout   18.7
## Valiant             18.1
## Duster 360          14.3
## Merc 240D           24.4
## Merc 230            22.8
## Merc 280            19.2
## Merc 280C           17.8
## Merc 450SE          16.4
## Merc 450SL          17.3
## Merc 450SLC         15.2
## Cadillac Fleetwood  10.4
## Lincoln Continental 10.4
## Chrysler Imperial   14.7
## Fiat 128            32.4
## Honda Civic         30.4
## Toyota Corolla      33.9
## Toyota Corona       21.5
## Dodge Challenger    15.5
## AMC Javelin         15.2
## Camaro Z28          13.3
## Pontiac Firebird    19.2
## Fiat X1-9           27.3
## Porsche 914-2       26.0
## Lotus Europa        30.4
## Ford Pantera L      15.8
## Ferrari Dino        19.7
## Maserati Bora       15.0
## Volvo 142E          21.4</code></pre>
</div>
<div id="section-1" class="section level5 hasAnchor" number="4.2.5.5.2">
<h5><span class="header-section-number">4.2.5.5.2</span> <code>$</code><a href="base-r-data-structure.html#section-1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p><code>$</code> is a shorthand operator, where <code>x$y</code> is equivalent to <code>x[["y", exact = FALSE]]</code>. It’s often used to access variables in a data frame:</p>
<div class="sourceCode" id="cb497"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb497-1"><a href="base-r-data-structure.html#cb497-1" tabindex="-1"></a><span class="co"># these two are equivalent</span></span>
<span id="cb497-2"><a href="base-r-data-structure.html#cb497-2" tabindex="-1"></a>mtcars[[<span class="st">&quot;cyl&quot;</span>]]</span></code></pre></div>
<pre><code>##  [1] 6 6 4 6 8 6 8 4 4 6 6 8 8 8 8 8 8 4 4 4 4 8 8 8 8 4 4 4 8 6 8 4</code></pre>
<div class="sourceCode" id="cb499"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb499-1"><a href="base-r-data-structure.html#cb499-1" tabindex="-1"></a>mtcars<span class="sc">$</span>cyl</span></code></pre></div>
<pre><code>##  [1] 6 6 4 6 8 6 8 4 4 6 6 8 8 8 8 8 8 4 4 4 4 8 8 8 8 4 4 4 8 6 8 4</code></pre>
<p>One common mistake with <code>$</code> is to try and use it when you have the name of a column stored in a variable:</p>
<div class="sourceCode" id="cb501"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb501-1"><a href="base-r-data-structure.html#cb501-1" tabindex="-1"></a>var <span class="ot">&lt;-</span> <span class="st">&quot;cyl&quot;</span></span>
<span id="cb501-2"><a href="base-r-data-structure.html#cb501-2" tabindex="-1"></a><span class="co"># Doesn&#39;t work - mtcars$var translated to mtcars[[&quot;var&quot;]]</span></span>
<span id="cb501-3"><a href="base-r-data-structure.html#cb501-3" tabindex="-1"></a>mtcars<span class="sc">$</span>var</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb503"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb503-1"><a href="base-r-data-structure.html#cb503-1" tabindex="-1"></a><span class="co"># Instead use [[</span></span>
<span id="cb503-2"><a href="base-r-data-structure.html#cb503-2" tabindex="-1"></a>mtcars[[var]]</span></code></pre></div>
<pre><code>##  [1] 6 6 4 6 8 6 8 4 4 6 6 8 8 8 8 8 8 4 4 4 4 8 8 8 8 4 4 4 8 6 8 4</code></pre>
</div>
</div>
<div id="subassignment" class="section level4 hasAnchor" number="4.2.5.6">
<h4><span class="header-section-number">4.2.5.6</span> Subassignment<a href="base-r-data-structure.html#subassignment" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>All subsetting operators can be combined with an assignment operator to modify selected values of the input vector.</p>
<div class="sourceCode" id="cb505"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb505-1"><a href="base-r-data-structure.html#cb505-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb505-2"><a href="base-r-data-structure.html#cb505-2" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb507"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb507-1"><a href="base-r-data-structure.html#cb507-1" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)] <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span></span>
<span id="cb507-2"><a href="base-r-data-structure.html#cb507-2" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 2 3 3 4 5</code></pre>
<div class="sourceCode" id="cb509"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb509-1"><a href="base-r-data-structure.html#cb509-1" tabindex="-1"></a><span class="co"># The length of the LHS needs to match the RHS!</span></span>
<span id="cb509-2"><a href="base-r-data-structure.html#cb509-2" tabindex="-1"></a>x[<span class="sc">-</span><span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">4</span><span class="sc">:</span><span class="dv">1</span></span>
<span id="cb509-3"><a href="base-r-data-structure.html#cb509-3" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 2 4 3 2 1</code></pre>
<div class="sourceCode" id="cb511"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb511-1"><a href="base-r-data-structure.html#cb511-1" tabindex="-1"></a>x[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">4</span><span class="sc">:</span><span class="dv">1</span></span></code></pre></div>
<pre><code>## Warning in x[1] &lt;- 4:1: number of items to replace is not a multiple of
## replacement length</code></pre>
<div class="sourceCode" id="cb513"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb513-1"><a href="base-r-data-structure.html#cb513-1" tabindex="-1"></a><span class="co"># This is mostly useful when conditionally modifying vectors</span></span>
<span id="cb513-2"><a href="base-r-data-structure.html#cb513-2" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">a =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="cn">NA</span>))</span>
<span id="cb513-3"><a href="base-r-data-structure.html#cb513-3" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>##    a
## 1  1
## 2 10
## 3 NA</code></pre>
<div class="sourceCode" id="cb515"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb515-1"><a href="base-r-data-structure.html#cb515-1" tabindex="-1"></a>df<span class="sc">$</span>a[df<span class="sc">$</span>a <span class="sc">&lt;</span> <span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb515-2"><a href="base-r-data-structure.html#cb515-2" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>##    a
## 1  0
## 2 10
## 3 NA</code></pre>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="setup-2.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="tidyverse.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": "https://github.com/jaeyk/PS239T/edit/main/03_tidy_data.Rmd",
    "text": "Edit"
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": [
    ["pdf", "PS239T.pdf"],
    ["epub", "PS239T.epub"]
  ],
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  },
  "toolbar": {
    "position": "fixed"
  },
  "code_copy": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
