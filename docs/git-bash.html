<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Managing data and code | Computational Thinking for Social Scientists</title>
  <meta name="description" content="Chapter 3 Managing data and code | Computational Thinking for Social Scientists. Online textbook for Teaching Computational Tools and Techniques for Social Scientists." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Managing data and code | Computational Thinking for Social Scientists" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Chapter 3 Managing data and code | Computational Thinking for Social Scientists. Online textbook for Teaching Computational Tools and Techniques for Social Scientists." />
  <meta name="github-repo" content="jaeyk/PS239T" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Managing data and code | Computational Thinking for Social Scientists" />
  <meta name="twitter:site" content="@JaeJaeykim2" />
  <meta name="twitter:description" content="Chapter 3 Managing data and code | Computational Thinking for Social Scientists. Online textbook for Teaching Computational Tools and Techniques for Social Scientists." />
  

<meta name="author" content="Jae Yeon Kim" />


<meta name="date" content="2021-02-22" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="motivation.html"/>
<link rel="next" href="tidy-data.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/tabwid-1.0.0/tabwid.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Computational Thinking for Social Scientists</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Hello World</a>
<ul>
<li class="chapter" data-level="1.0.1" data-path="index.html"><a href="index.html#part-i-fundamentals"><i class="fa fa-check"></i><b>1.0.1</b> Part I Fundamentals</a></li>
<li class="chapter" data-level="1.0.2" data-path="index.html"><a href="index.html#part-ii-applications"><i class="fa fa-check"></i><b>1.0.2</b> Part II Applications</a></li>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#special-thanks"><i class="fa fa-check"></i><b>1.1</b> Special thanks</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#suggestions-questions-or-comments"><i class="fa fa-check"></i><b>1.2</b> Suggestions, questions, or comments</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#license"><i class="fa fa-check"></i><b>1.3</b> License</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="motivation.html"><a href="motivation.html"><i class="fa fa-check"></i><b>2</b> Computational thinking</a>
<ul>
<li class="chapter" data-level="2.1" data-path="motivation.html"><a href="motivation.html#why-computational-thinking"><i class="fa fa-check"></i><b>2.1</b> Why computational thinking</a></li>
<li class="chapter" data-level="2.2" data-path="motivation.html"><a href="motivation.html#computational-way-of-thinking-about-data"><i class="fa fa-check"></i><b>2.2</b> Computational way of thinking about data</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="motivation.html"><a href="motivation.html#structure"><i class="fa fa-check"></i><b>2.2.1</b> Structure</a></li>
<li class="chapter" data-level="2.2.2" data-path="motivation.html"><a href="motivation.html#dimension"><i class="fa fa-check"></i><b>2.2.2</b> Dimension</a></li>
<li class="chapter" data-level="2.2.3" data-path="motivation.html"><a href="motivation.html#size"><i class="fa fa-check"></i><b>2.2.3</b> Size</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="motivation.html"><a href="motivation.html#computational-way-of-thinking-about-research-process"><i class="fa fa-check"></i><b>2.3</b> Computational way of thinking about research process</a></li>
<li class="chapter" data-level="2.4" data-path="motivation.html"><a href="motivation.html#references"><i class="fa fa-check"></i><b>2.4</b> References</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="git-bash.html"><a href="git-bash.html"><i class="fa fa-check"></i><b>3</b> Managing data and code</a>
<ul>
<li class="chapter" data-level="3.1" data-path="git-bash.html"><a href="git-bash.html#using-bash-command-line-interface"><i class="fa fa-check"></i><b>3.1</b> Using Bash (command line interface)</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="git-bash.html"><a href="git-bash.html#why-bother-using-command-line"><i class="fa fa-check"></i><b>3.1.1</b> Why bother using command line?</a></li>
<li class="chapter" data-level="3.1.2" data-path="git-bash.html"><a href="git-bash.html#unix-shell"><i class="fa fa-check"></i><b>3.1.2</b> UNIX Shell</a></li>
<li class="chapter" data-level="3.1.3" data-path="git-bash.html"><a href="git-bash.html#references-1"><i class="fa fa-check"></i><b>3.1.3</b> References</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="git-bash.html"><a href="git-bash.html#git-and-github"><i class="fa fa-check"></i><b>3.2</b> Git and GitHub</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="git-bash.html"><a href="git-bash.html#version-control-system"><i class="fa fa-check"></i><b>3.2.1</b> Version control system</a></li>
<li class="chapter" data-level="3.2.2" data-path="git-bash.html"><a href="git-bash.html#setup"><i class="fa fa-check"></i><b>3.2.2</b> Setup</a></li>
<li class="chapter" data-level="3.2.3" data-path="git-bash.html"><a href="git-bash.html#cloning-a-repository"><i class="fa fa-check"></i><b>3.2.3</b> Cloning a repository</a></li>
<li class="chapter" data-level="3.2.4" data-path="git-bash.html"><a href="git-bash.html#making-a-repository"><i class="fa fa-check"></i><b>3.2.4</b> Making a repository</a></li>
<li class="chapter" data-level="3.2.5" data-path="git-bash.html"><a href="git-bash.html#commit-changes"><i class="fa fa-check"></i><b>3.2.5</b> Commit changes</a></li>
<li class="chapter" data-level="3.2.6" data-path="git-bash.html"><a href="git-bash.html#push-and-pull-or-fetch"><i class="fa fa-check"></i><b>3.2.6</b> Push and pull (or fetch)</a></li>
<li class="chapter" data-level="3.2.7" data-path="git-bash.html"><a href="git-bash.html#branching"><i class="fa fa-check"></i><b>3.2.7</b> Branching</a></li>
<li class="chapter" data-level="3.2.8" data-path="git-bash.html"><a href="git-bash.html#other-useful-commands"><i class="fa fa-check"></i><b>3.2.8</b> Other useful commands</a></li>
<li class="chapter" data-level="3.2.9" data-path="git-bash.html"><a href="git-bash.html#collaborations"><i class="fa fa-check"></i><b>3.2.9</b> Collaborations</a></li>
<li class="chapter" data-level="3.2.10" data-path="git-bash.html"><a href="git-bash.html#deployment-github-pages"><i class="fa fa-check"></i><b>3.2.10</b> Deployment: GitHub Pages</a></li>
<li class="chapter" data-level="3.2.11" data-path="git-bash.html"><a href="git-bash.html#tracking-progress-github-issues"><i class="fa fa-check"></i><b>3.2.11</b> Tracking progress: GitHub Issues</a></li>
<li class="chapter" data-level="3.2.12" data-path="git-bash.html"><a href="git-bash.html#project-management-github-dashboards"><i class="fa fa-check"></i><b>3.2.12</b> Project management: GitHub Dashboards</a></li>
<li class="chapter" data-level="3.2.13" data-path="git-bash.html"><a href="git-bash.html#using-git-clients"><i class="fa fa-check"></i><b>3.2.13</b> Using Git clients</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="git-bash.html"><a href="git-bash.html#getting-started-in-r"><i class="fa fa-check"></i><b>3.3</b> Getting started in R</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="git-bash.html"><a href="git-bash.html#rstudio"><i class="fa fa-check"></i><b>3.3.1</b> RStudio</a></li>
<li class="chapter" data-level="3.3.2" data-path="git-bash.html"><a href="git-bash.html#basic-syntax"><i class="fa fa-check"></i><b>3.3.2</b> Basic Syntax</a></li>
<li class="chapter" data-level="3.3.3" data-path="git-bash.html"><a href="git-bash.html#environment"><i class="fa fa-check"></i><b>3.3.3</b> Environment</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="git-bash.html"><a href="git-bash.html#project-oriented-research"><i class="fa fa-check"></i><b>3.4</b> Project-oriented research</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="git-bash.html"><a href="git-bash.html#computational-reproducibility"><i class="fa fa-check"></i><b>3.4.1</b> Computational reproducibility</a></li>
<li class="chapter" data-level="3.4.2" data-path="git-bash.html"><a href="git-bash.html#references-2"><i class="fa fa-check"></i><b>3.4.2</b> References</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="git-bash.html"><a href="git-bash.html#writing-code-how-to-code-like-a-professional"><i class="fa fa-check"></i><b>3.5</b> Writing code: How to code like a professional</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="git-bash.html"><a href="git-bash.html#write-readable-code"><i class="fa fa-check"></i><b>3.5.1</b> Write readable code</a></li>
<li class="chapter" data-level="3.5.2" data-path="git-bash.html"><a href="git-bash.html#write-reusable-code"><i class="fa fa-check"></i><b>3.5.2</b> Write reusable code</a></li>
<li class="chapter" data-level="3.5.3" data-path="git-bash.html"><a href="git-bash.html#test-your-code-systematically"><i class="fa fa-check"></i><b>3.5.3</b> Test your code systematically</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="git-bash.html"><a href="git-bash.html#run-tests"><i class="fa fa-check"></i><b>3.6</b> Run tests</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="git-bash.html"><a href="git-bash.html#asking-questions-minimal-reproducible-example"><i class="fa fa-check"></i><b>3.6.1</b> Asking questions: Minimal reproducible example</a></li>
<li class="chapter" data-level="3.6.2" data-path="git-bash.html"><a href="git-bash.html#references-3"><i class="fa fa-check"></i><b>3.6.2</b> References</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tidy-data.html"><a href="tidy-data.html"><i class="fa fa-check"></i><b>4</b> Tidy data and its friends</a>
<ul>
<li class="chapter" data-level="4.1" data-path="tidy-data.html"><a href="tidy-data.html#setup-2"><i class="fa fa-check"></i><b>4.1</b> Setup</a></li>
<li class="chapter" data-level="4.2" data-path="tidy-data.html"><a href="tidy-data.html#r-data-structures"><i class="fa fa-check"></i><b>4.2</b> R Data structures</a></li>
<li class="chapter" data-level="4.3" data-path="tidy-data.html"><a href="tidy-data.html#d-data-vectors"><i class="fa fa-check"></i><b>4.3</b> 1D data: Vectors</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="tidy-data.html"><a href="tidy-data.html#atomic-classes"><i class="fa fa-check"></i><b>4.3.1</b> Atomic classes</a></li>
<li class="chapter" data-level="4.3.2" data-path="tidy-data.html"><a href="tidy-data.html#data-structures"><i class="fa fa-check"></i><b>4.3.2</b> Data structures</a></li>
<li class="chapter" data-level="4.3.3" data-path="tidy-data.html"><a href="tidy-data.html#attributes"><i class="fa fa-check"></i><b>4.3.3</b> Attributes</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="tidy-data.html"><a href="tidy-data.html#d-data-matrices-and-dataframes"><i class="fa fa-check"></i><b>4.4</b> 2D data: Matrices and dataframes</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="tidy-data.html"><a href="tidy-data.html#matrices"><i class="fa fa-check"></i><b>4.4.1</b> Matrices</a></li>
<li class="chapter" data-level="4.4.2" data-path="tidy-data.html"><a href="tidy-data.html#dataframes"><i class="fa fa-check"></i><b>4.4.2</b> Dataframes</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="tidy-data.html"><a href="tidy-data.html#subset"><i class="fa fa-check"></i><b>4.5</b> Subset</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="tidy-data.html"><a href="tidy-data.html#atomic-vectors"><i class="fa fa-check"></i><b>4.5.1</b> Atomic vectors</a></li>
<li class="chapter" data-level="4.5.2" data-path="tidy-data.html"><a href="tidy-data.html#lists-1"><i class="fa fa-check"></i><b>4.5.2</b> Lists</a></li>
<li class="chapter" data-level="4.5.3" data-path="tidy-data.html"><a href="tidy-data.html#matrices-1"><i class="fa fa-check"></i><b>4.5.3</b> Matrices</a></li>
<li class="chapter" data-level="4.5.4" data-path="tidy-data.html"><a href="tidy-data.html#data-frames"><i class="fa fa-check"></i><b>4.5.4</b> Data frames</a></li>
<li class="chapter" data-level="4.5.5" data-path="tidy-data.html"><a href="tidy-data.html#subsetting-operators"><i class="fa fa-check"></i><b>4.5.5</b> Subsetting operators</a></li>
<li class="chapter" data-level="4.5.6" data-path="tidy-data.html"><a href="tidy-data.html#subassignment"><i class="fa fa-check"></i><b>4.5.6</b> Subassignment</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="tidy-data.html"><a href="tidy-data.html#tidyverse"><i class="fa fa-check"></i><b>4.6</b> Tidyverse</a></li>
<li class="chapter" data-level="4.7" data-path="tidy-data.html"><a href="tidy-data.html#tidy-data"><i class="fa fa-check"></i><b>4.7</b> Tidy data</a></li>
<li class="chapter" data-level="4.8" data-path="tidy-data.html"><a href="tidy-data.html#tidying-tidyr"><i class="fa fa-check"></i><b>4.8</b> Tidying (tidyr)</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="tidy-data.html"><a href="tidy-data.html#reshaping"><i class="fa fa-check"></i><b>4.8.1</b> Reshaping</a></li>
<li class="chapter" data-level="4.8.2" data-path="tidy-data.html"><a href="tidy-data.html#filling"><i class="fa fa-check"></i><b>4.8.2</b> Filling</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="tidy-data.html"><a href="tidy-data.html#manipulating-dplyr"><i class="fa fa-check"></i><b>4.9</b> Manipulating (dplyr)</a>
<ul>
<li class="chapter" data-level="4.9.1" data-path="tidy-data.html"><a href="tidy-data.html#rearranging"><i class="fa fa-check"></i><b>4.9.1</b> Rearranging</a></li>
<li class="chapter" data-level="4.9.2" data-path="tidy-data.html"><a href="tidy-data.html#subset-observations-rows"><i class="fa fa-check"></i><b>4.9.2</b> Subset observations (rows)</a></li>
<li class="chapter" data-level="4.9.3" data-path="tidy-data.html"><a href="tidy-data.html#subset-variables-columns"><i class="fa fa-check"></i><b>4.9.3</b> Subset variables (columns)</a></li>
<li class="chapter" data-level="4.9.4" data-path="tidy-data.html"><a href="tidy-data.html#create-variables"><i class="fa fa-check"></i><b>4.9.4</b> Create variables</a></li>
<li class="chapter" data-level="4.9.5" data-path="tidy-data.html"><a href="tidy-data.html#counting"><i class="fa fa-check"></i><b>4.9.5</b> Counting</a></li>
<li class="chapter" data-level="4.9.6" data-path="tidy-data.html"><a href="tidy-data.html#summarizing"><i class="fa fa-check"></i><b>4.9.6</b> Summarizing</a></li>
<li class="chapter" data-level="4.9.7" data-path="tidy-data.html"><a href="tidy-data.html#grouping"><i class="fa fa-check"></i><b>4.9.7</b> Grouping</a></li>
<li class="chapter" data-level="4.9.8" data-path="tidy-data.html"><a href="tidy-data.html#joining"><i class="fa fa-check"></i><b>4.9.8</b> Joining</a></li>
</ul></li>
<li class="chapter" data-level="4.10" data-path="tidy-data.html"><a href="tidy-data.html#modeling-broom"><i class="fa fa-check"></i><b>4.10</b> Modeling (broom)</a>
<ul>
<li class="chapter" data-level="4.10.1" data-path="tidy-data.html"><a href="tidy-data.html#nesting"><i class="fa fa-check"></i><b>4.10.1</b> Nesting</a></li>
<li class="chapter" data-level="4.10.2" data-path="tidy-data.html"><a href="tidy-data.html#mapping"><i class="fa fa-check"></i><b>4.10.2</b> Mapping</a></li>
<li class="chapter" data-level="4.10.3" data-path="tidy-data.html"><a href="tidy-data.html#hypothesis-testing"><i class="fa fa-check"></i><b>4.10.3</b> Hypothesis testing</a></li>
<li class="chapter" data-level="4.10.4" data-path="tidy-data.html"><a href="tidy-data.html#mixed-models"><i class="fa fa-check"></i><b>4.10.4</b> Mixed models</a></li>
<li class="chapter" data-level="4.10.5" data-path="tidy-data.html"><a href="tidy-data.html#design-anaysis-optional"><i class="fa fa-check"></i><b>4.10.5</b> Design Anaysis (optional)</a></li>
</ul></li>
<li class="chapter" data-level="4.11" data-path="tidy-data.html"><a href="tidy-data.html#visualizing-ggplot2"><i class="fa fa-check"></i><b>4.11</b> Visualizing (ggplot2)</a>
<ul>
<li class="chapter" data-level="4.11.1" data-path="tidy-data.html"><a href="tidy-data.html#motivation-2"><i class="fa fa-check"></i><b>4.11.1</b> Motivation</a></li>
<li class="chapter" data-level="4.11.2" data-path="tidy-data.html"><a href="tidy-data.html#the-grammar-of-graphics"><i class="fa fa-check"></i><b>4.11.2</b> The grammar of graphics</a></li>
<li class="chapter" data-level="4.11.3" data-path="tidy-data.html"><a href="tidy-data.html#mapping-and-geom"><i class="fa fa-check"></i><b>4.11.3</b> mapping and geom</a></li>
<li class="chapter" data-level="4.11.4" data-path="tidy-data.html"><a href="tidy-data.html#basic-aes-x-y"><i class="fa fa-check"></i><b>4.11.4</b> basic aes (x , y)</a></li>
<li class="chapter" data-level="4.11.5" data-path="tidy-data.html"><a href="tidy-data.html#univariate-distribution"><i class="fa fa-check"></i><b>4.11.5</b> Univariate distribution</a></li>
<li class="chapter" data-level="4.11.6" data-path="tidy-data.html"><a href="tidy-data.html#advanced-aes-size-color"><i class="fa fa-check"></i><b>4.11.6</b> Advanced aes (size, color)</a></li>
<li class="chapter" data-level="4.11.7" data-path="tidy-data.html"><a href="tidy-data.html#co-ordinates-and-scales"><i class="fa fa-check"></i><b>4.11.7</b> Co-ordinates and scales</a></li>
<li class="chapter" data-level="4.11.8" data-path="tidy-data.html"><a href="tidy-data.html#labels-and-guides"><i class="fa fa-check"></i><b>4.11.8</b> Labels and guides</a></li>
<li class="chapter" data-level="4.11.9" data-path="tidy-data.html"><a href="tidy-data.html#ggsave"><i class="fa fa-check"></i><b>4.11.9</b> ggsave</a></li>
<li class="chapter" data-level="4.11.10" data-path="tidy-data.html"><a href="tidy-data.html#many-plots"><i class="fa fa-check"></i><b>4.11.10</b> Many plots</a></li>
<li class="chapter" data-level="4.11.11" data-path="tidy-data.html"><a href="tidy-data.html#transforming"><i class="fa fa-check"></i><b>4.11.11</b> Transforming</a></li>
<li class="chapter" data-level="4.11.12" data-path="tidy-data.html"><a href="tidy-data.html#ploting-models"><i class="fa fa-check"></i><b>4.11.12</b> Ploting models</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="functional-programming.html"><a href="functional-programming.html"><i class="fa fa-check"></i><b>5</b> Automating repeated things</a>
<ul>
<li class="chapter" data-level="5.1" data-path="functional-programming.html"><a href="functional-programming.html#flow-control"><i class="fa fa-check"></i><b>5.1</b> Flow control</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="functional-programming.html"><a href="functional-programming.html#functions"><i class="fa fa-check"></i><b>5.1.1</b> Functions</a></li>
<li class="chapter" data-level="5.1.2" data-path="functional-programming.html"><a href="functional-programming.html#for-loop"><i class="fa fa-check"></i><b>5.1.2</b> for loop</a></li>
<li class="chapter" data-level="5.1.3" data-path="functional-programming.html"><a href="functional-programming.html#apply-family"><i class="fa fa-check"></i><b>5.1.3</b> apply family</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="functional-programming.html"><a href="functional-programming.html#purrr"><i class="fa fa-check"></i><b>5.2</b> purrr</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="functional-programming.html"><a href="functional-programming.html#why-map"><i class="fa fa-check"></i><b>5.2.1</b> Why map?</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="functional-programming.html"><a href="functional-programming.html#automote-2-or-2-tasks"><i class="fa fa-check"></i><b>5.3</b> Automote 2 or 2+ tasks</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="functional-programming.html"><a href="functional-programming.html#objectives-1"><i class="fa fa-check"></i><b>5.3.1</b> Objectives</a></li>
<li class="chapter" data-level="5.3.2" data-path="functional-programming.html"><a href="functional-programming.html#problem"><i class="fa fa-check"></i><b>5.3.2</b> Problem</a></li>
<li class="chapter" data-level="5.3.3" data-path="functional-programming.html"><a href="functional-programming.html#for-loop-1"><i class="fa fa-check"></i><b>5.3.3</b> For loop</a></li>
<li class="chapter" data-level="5.3.4" data-path="functional-programming.html"><a href="functional-programming.html#map2-pmap"><i class="fa fa-check"></i><b>5.3.4</b> map2 &amp; pmap</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="functional-programming.html"><a href="functional-programming.html#automate-plotting"><i class="fa fa-check"></i><b>5.4</b> Automate plotting</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="functional-programming.html"><a href="functional-programming.html#objective"><i class="fa fa-check"></i><b>5.4.1</b> Objective</a></li>
<li class="chapter" data-level="5.4.2" data-path="functional-programming.html"><a href="functional-programming.html#problem-1"><i class="fa fa-check"></i><b>5.4.2</b> Problem</a></li>
<li class="chapter" data-level="5.4.3" data-path="functional-programming.html"><a href="functional-programming.html#solution"><i class="fa fa-check"></i><b>5.4.3</b> Solution</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="functional-programming.html"><a href="functional-programming.html#automate-joining"><i class="fa fa-check"></i><b>5.5</b> Automate joining</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="functional-programming.html"><a href="functional-programming.html#objective-1"><i class="fa fa-check"></i><b>5.5.1</b> Objective</a></li>
<li class="chapter" data-level="5.5.2" data-path="functional-programming.html"><a href="functional-programming.html#problem-2"><i class="fa fa-check"></i><b>5.5.2</b> Problem</a></li>
<li class="chapter" data-level="5.5.3" data-path="functional-programming.html"><a href="functional-programming.html#copy-and-paste"><i class="fa fa-check"></i><b>5.5.3</b> Copy and paste</a></li>
<li class="chapter" data-level="5.5.4" data-path="functional-programming.html"><a href="functional-programming.html#reduce"><i class="fa fa-check"></i><b>5.5.4</b> reduce</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="functional-programming.html"><a href="functional-programming.html#make-automation-slower-or-faster"><i class="fa fa-check"></i><b>5.6</b> Make automation slower or faster</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="functional-programming.html"><a href="functional-programming.html#objectives-2"><i class="fa fa-check"></i><b>5.6.1</b> Objectives</a></li>
<li class="chapter" data-level="5.6.2" data-path="functional-programming.html"><a href="functional-programming.html#how-to-make-automation-slower"><i class="fa fa-check"></i><b>5.6.2</b> How to make automation slower</a></li>
<li class="chapter" data-level="5.6.3" data-path="functional-programming.html"><a href="functional-programming.html#for-loop-2"><i class="fa fa-check"></i><b>5.6.3</b> For loop</a></li>
<li class="chapter" data-level="5.6.4" data-path="functional-programming.html"><a href="functional-programming.html#map"><i class="fa fa-check"></i><b>5.6.4</b> Map</a></li>
<li class="chapter" data-level="5.6.5" data-path="functional-programming.html"><a href="functional-programming.html#how-to-make-automation-faster"><i class="fa fa-check"></i><b>5.6.5</b> How to make automation Faster</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="functional-programming.html"><a href="functional-programming.html#make-error-handling-easier"><i class="fa fa-check"></i><b>5.7</b> Make error handling easier</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="functional-programming.html"><a href="functional-programming.html#learning-objective"><i class="fa fa-check"></i><b>5.7.1</b> Learning objective</a></li>
<li class="chapter" data-level="5.7.2" data-path="functional-programming.html"><a href="functional-programming.html#solution-1"><i class="fa fa-check"></i><b>5.7.2</b> Solution</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="functional-programming.html"><a href="functional-programming.html#developing-your-own-data-products"><i class="fa fa-check"></i><b>5.8</b> Developing your own data products</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="functional-programming.html"><a href="functional-programming.html#developing-r-packages"><i class="fa fa-check"></i><b>5.8.1</b> Developing R packages</a></li>
<li class="chapter" data-level="5.8.2" data-path="functional-programming.html"><a href="functional-programming.html#developing-shiny-apps"><i class="fa fa-check"></i><b>5.8.2</b> Developing Shiny apps</a></li>
<li class="chapter" data-level="5.8.3" data-path="functional-programming.html"><a href="functional-programming.html#other-useful-data-products"><i class="fa fa-check"></i><b>5.8.3</b> Other useful data products</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="semi-structured-data.html"><a href="semi-structured-data.html"><i class="fa fa-check"></i><b>6</b> Semi-structured data</a>
<ul>
<li class="chapter" data-level="6.1" data-path="semi-structured-data.html"><a href="semi-structured-data.html#setup-3"><i class="fa fa-check"></i><b>6.1</b> Setup</a></li>
<li class="chapter" data-level="6.2" data-path="semi-structured-data.html"><a href="semi-structured-data.html#objectives-3"><i class="fa fa-check"></i><b>6.2</b> Objectives</a></li>
<li class="chapter" data-level="6.3" data-path="semi-structured-data.html"><a href="semi-structured-data.html#what-is-semi-structured-data"><i class="fa fa-check"></i><b>6.3</b> What is semi-structured data?</a></li>
<li class="chapter" data-level="6.4" data-path="semi-structured-data.html"><a href="semi-structured-data.html#workflow-2"><i class="fa fa-check"></i><b>6.4</b> Workflow</a></li>
<li class="chapter" data-level="6.5" data-path="semi-structured-data.html"><a href="semi-structured-data.html#htmlcss-web-scraping"><i class="fa fa-check"></i><b>6.5</b> HTML/CSS: web scraping</a></li>
<li class="chapter" data-level="6.6" data-path="semi-structured-data.html"><a href="semi-structured-data.html#xmljson-government-databasesocial-media-scraping"><i class="fa fa-check"></i><b>6.6</b> XML/JSON: government database/social media scraping</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="semi-structured-data.html"><a href="semi-structured-data.html#governemnt-database-xml"><i class="fa fa-check"></i><b>6.6.1</b> Governemnt database (XML)</a></li>
<li class="chapter" data-level="6.6.2" data-path="semi-structured-data.html"><a href="semi-structured-data.html#social-media-api-json"><i class="fa fa-check"></i><b>6.6.2</b> Social media API (JSON)</a></li>
<li class="chapter" data-level="6.6.3" data-path="semi-structured-data.html"><a href="semi-structured-data.html#hydrating"><i class="fa fa-check"></i><b>6.6.3</b> Hydrating</a></li>
<li class="chapter" data-level="6.6.4" data-path="semi-structured-data.html"><a href="semi-structured-data.html#parsing-json"><i class="fa fa-check"></i><b>6.6.4</b> Parsing JSON</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="machine-learning.html"><a href="machine-learning.html"><i class="fa fa-check"></i><b>7</b> High-dimensional data</a>
<ul>
<li class="chapter" data-level="7.1" data-path="machine-learning.html"><a href="machine-learning.html#overview"><i class="fa fa-check"></i><b>7.1</b> Overview</a></li>
<li class="chapter" data-level="7.2" data-path="machine-learning.html"><a href="machine-learning.html#dataset"><i class="fa fa-check"></i><b>7.2</b> Dataset</a></li>
<li class="chapter" data-level="7.3" data-path="machine-learning.html"><a href="machine-learning.html#workflow-3"><i class="fa fa-check"></i><b>7.3</b> Workflow</a></li>
<li class="chapter" data-level="7.4" data-path="machine-learning.html"><a href="machine-learning.html#tidymodels"><i class="fa fa-check"></i><b>7.4</b> tidymodels</a></li>
<li class="chapter" data-level="7.5" data-path="machine-learning.html"><a href="machine-learning.html#pre-processing"><i class="fa fa-check"></i><b>7.5</b> Pre-processing</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="machine-learning.html"><a href="machine-learning.html#regression-setup"><i class="fa fa-check"></i><b>7.5.1</b> Regression setup</a></li>
<li class="chapter" data-level="7.5.2" data-path="machine-learning.html"><a href="machine-learning.html#classification-setup"><i class="fa fa-check"></i><b>7.5.2</b> Classification setup</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="machine-learning.html"><a href="machine-learning.html#supervised-learning"><i class="fa fa-check"></i><b>7.6</b> Supervised learning</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="machine-learning.html"><a href="machine-learning.html#ols-and-lasso"><i class="fa fa-check"></i><b>7.6.1</b> OLS and Lasso</a></li>
<li class="chapter" data-level="7.6.2" data-path="machine-learning.html"><a href="machine-learning.html#decision-tree"><i class="fa fa-check"></i><b>7.6.2</b> Decision tree</a></li>
<li class="chapter" data-level="7.6.3" data-path="machine-learning.html"><a href="machine-learning.html#bagging-random-forest"><i class="fa fa-check"></i><b>7.6.3</b> Bagging (Random forest)</a></li>
<li class="chapter" data-level="7.6.4" data-path="machine-learning.html"><a href="machine-learning.html#boosting-xgboost"><i class="fa fa-check"></i><b>7.6.4</b> Boosting (XGboost)</a></li>
<li class="chapter" data-level="7.6.5" data-path="machine-learning.html"><a href="machine-learning.html#stacking-superlearner"><i class="fa fa-check"></i><b>7.6.5</b> Stacking (SuperLearner)</a></li>
<li class="chapter" data-level="7.6.6" data-path="machine-learning.html"><a href="machine-learning.html#applications-2"><i class="fa fa-check"></i><b>7.6.6</b> Applications</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="machine-learning.html"><a href="machine-learning.html#unsupervised-learning"><i class="fa fa-check"></i><b>7.7</b> Unsupervised learning</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="machine-learning.html"><a href="machine-learning.html#dimension-reduction"><i class="fa fa-check"></i><b>7.7.1</b> Dimension reduction</a></li>
<li class="chapter" data-level="7.7.2" data-path="machine-learning.html"><a href="machine-learning.html#topic-modeling"><i class="fa fa-check"></i><b>7.7.2</b> Topic modeling</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="machine-learning.html"><a href="machine-learning.html#bias-and-fairness-in-machine-learning"><i class="fa fa-check"></i><b>7.8</b> Bias and fairness in machine learning</a>
<ul>
<li class="chapter" data-level="7.8.1" data-path="machine-learning.html"><a href="machine-learning.html#bias-in-the-data-risk-of-recidivism-analysis"><i class="fa fa-check"></i><b>7.8.1</b> Bias in the Data (Risk of Recidivism Analysis)</a></li>
<li class="chapter" data-level="7.8.2" data-path="machine-learning.html"><a href="machine-learning.html#bias-in-the-data-risk-of-violent-recidivism-analysis"><i class="fa fa-check"></i><b>7.8.2</b> Bias in the Data (Risk of Violent Recidivism Analysis)</a></li>
<li class="chapter" data-level="7.8.3" data-path="machine-learning.html"><a href="machine-learning.html#bias-in-the-algorithm"><i class="fa fa-check"></i><b>7.8.3</b> Bias in the algorithm</a></li>
</ul></li>
<li class="chapter" data-level="7.9" data-path="machine-learning.html"><a href="machine-learning.html#references-5"><i class="fa fa-check"></i><b>7.9</b> References</a>
<ul>
<li class="chapter" data-level="7.9.1" data-path="machine-learning.html"><a href="machine-learning.html#books"><i class="fa fa-check"></i><b>7.9.1</b> Books</a></li>
<li class="chapter" data-level="7.9.2" data-path="machine-learning.html"><a href="machine-learning.html#lecture-slides"><i class="fa fa-check"></i><b>7.9.2</b> Lecture slides</a></li>
<li class="chapter" data-level="7.9.3" data-path="machine-learning.html"><a href="machine-learning.html#blog-posts"><i class="fa fa-check"></i><b>7.9.3</b> Blog posts</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="big-data.html"><a href="big-data.html"><i class="fa fa-check"></i><b>8</b> Big data</a>
<ul>
<li class="chapter" data-level="8.1" data-path="big-data.html"><a href="big-data.html#overview-2"><i class="fa fa-check"></i><b>8.1</b> Overview</a></li>
<li class="chapter" data-level="8.2" data-path="big-data.html"><a href="big-data.html#sql"><i class="fa fa-check"></i><b>8.2</b> SQL</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="big-data.html"><a href="big-data.html#learning-objectives"><i class="fa fa-check"></i><b>8.2.1</b> Learning objectives</a></li>
<li class="chapter" data-level="8.2.2" data-path="big-data.html"><a href="big-data.html#sql-and-r"><i class="fa fa-check"></i><b>8.2.2</b> SQL and R</a></li>
<li class="chapter" data-level="8.2.3" data-path="big-data.html"><a href="big-data.html#setup-8"><i class="fa fa-check"></i><b>8.2.3</b> Setup</a></li>
<li class="chapter" data-level="8.2.4" data-path="big-data.html"><a href="big-data.html#packages-1"><i class="fa fa-check"></i><b>8.2.4</b> Packages</a></li>
<li class="chapter" data-level="8.2.5" data-path="big-data.html"><a href="big-data.html#nyc-flights-data"><i class="fa fa-check"></i><b>8.2.5</b> NYC flights data</a></li>
<li class="chapter" data-level="8.2.6" data-path="big-data.html"><a href="big-data.html#workflow-4"><i class="fa fa-check"></i><b>8.2.6</b> Workflow</a></li>
<li class="chapter" data-level="8.2.7" data-path="big-data.html"><a href="big-data.html#things-we-didnt-cover"><i class="fa fa-check"></i><b>8.2.7</b> Things we didn’t cover</a></li>
<li class="chapter" data-level="8.2.8" data-path="big-data.html"><a href="big-data.html#references-6"><i class="fa fa-check"></i><b>8.2.8</b> References</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="big-data.html"><a href="big-data.html#spark"><i class="fa fa-check"></i><b>8.3</b> Spark</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="big-data.html"><a href="big-data.html#setup-9"><i class="fa fa-check"></i><b>8.3.1</b> Setup</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/jaeyk/PS239T/" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Computational Thinking for Social Scientists</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="git_bash" class="section level1" number="3">
<h1><span class="header-section-number">Chapter 3</span> Managing data and code</h1>
<div id="using-bash-command-line-interface" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Using Bash (command line interface)</h2>
<p>As William Shotts the author of <em><a href="http://linuxcommand.org/tlcl.php">The Linux Command Line</a></em> put it:</p>
<blockquote>
<p>graphical user interfaces make easy tasks easy, while command line interfaces make difficult tasks possible.</p>
</blockquote>
<div id="why-bother-using-command-line" class="section level3" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Why bother using command line?</h3>
<p>Create a plain text file that contains word “test”</p>
<ul>
<li><code>echo</code>: “Write arguments to the standard output” This is equivalent as using a text editor (e.g., nano, vim, emacs) and write something.</li>
<li><code>&gt; test</code> Save the expression in a file named test.<br />
</li>
<li>In general, if you don’t know what a command does, just type <code>&lt;command name&gt; --help</code>. If you need more detailed information, you can do <code>man &lt;command name&gt;</code>. <code>man</code> stands for manual. Finally, you can get more user-friendly information by using either <a href="https://tldr.sh/"><code>tldr</code></a>.</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb3-1"><a href="git-bash.html#cb3-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-2"><a href="git-bash.html#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">&quot;test&quot;</span> <span class="op">&gt;</span> test </span></code></pre></div>
<ul>
<li>Make 100 duplicates of this file. Let’s break down the seemingly complex commands.</li>
<li>I did this using for loop (<code>for i in {1..100}</code>). Curly braces <code>{}</code> makes 1..100 integers from 1 to 100.<br />
</li>
<li><code>;</code> is used to use multiple commands without making line breaks.</li>
<li><code>$var</code> returns the value associated with variable. Type <code>name=&lt;Your name&gt;</code>. Then, type <code>echo $name</code>. You should see your name printed. Variable assignment is one of the most basic things you’ll learn in any programming.<br />
</li>
<li>For novice users, I warn you that these could be too much advanced concepts. If so, don’t pay too much attention to this. For now, it’s enough to have intuitions.</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb4-1"><a href="git-bash.html#cb4-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-2"><a href="git-bash.html#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="kw">for</span> <span class="ex">i</span> in <span class="dt">{1..100}</span><span class="kw">;</span> <span class="kw">do</span> <span class="fu">cp</span> test <span class="st">&quot;test_</span><span class="va">$i</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">done</span>  </span></code></pre></div>
<p>Append “COVID” to the file named test_100. Note that I used <code>&gt;&gt;</code> (append) not <code>&gt;</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb5-1"><a href="git-bash.html#cb5-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-2"><a href="git-bash.html#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">&quot;COVID&quot;</span> <span class="op">&gt;&gt;</span> test_100 </span></code></pre></div>
<p>Let’s read (=<code>cat</code> (concatenate)) what’s in test_100</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb6-1"><a href="git-bash.html#cb6-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-2"><a href="git-bash.html#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> test_100 </span></code></pre></div>
<p>Find which fine contains the character “COVID.” This is literally equivalent to finding a needle in a haystack. This is a daunting task for a human researcher, but not for our robotic assistant. <code>grep</code> finds PATTERNS in each FIEL. What follows - are options (called flags): <code>r</code> (recursive), <code>n</code> (line number), <code>w</code> (match only whole words), <code>e</code> (use patterns for matching). <code>rnw</code> are for output control and <code>e</code> is for pattern selection.</p>
<p>You can write <code>grep -r -n -w -e "COVID"</code>, but the simpler the better.</p>
<ul>
<li><p><code>grep</code>: command</p></li>
<li><p><code>-rnw -e</code>: flags</p></li>
<li><p><code>COVID</code>: argument (usually file or file paths)</p></li>
</ul>
<div class="sourceCode" id="cb7"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb7-1"><a href="git-bash.html#cb7-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-2"><a href="git-bash.html#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> -rnw -e <span class="st">&quot;COVID&quot;</span> </span></code></pre></div>
<p>Let’s remove (=<code>rm</code>) all the duplicate files as well as the original file. <code>*</code> (any number of characters) is a wildcard (if you want to identify a single number of character, use <code>?</code>). It finds every file whose name starts with <code>test_</code>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb8-1"><a href="git-bash.html#cb8-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-2"><a href="git-bash.html#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> test_* test </span></code></pre></div>
<p>This command should return “test_100:2:COVID.” (file test_100; line number 2; COVID)</p>
<p>What is this black magic? Can you do the same thing using graphical interface? Which method is more efficient? I hope that this quick demonstration will give you enough sense of why learning command line could be incredibly useful. In my experience, mastering command line helps automating your research process almost from end to end. For instance, you don’t need to write files from a website using your web browser. You can run <code>wget</code> command in the terminal. Better yet, you don’t even need to run the command for the second time. You can write a Shell script (<code>*.sh</code>) that automates downloading, moving, and sorting multiple files. You can find one example of this from the PS239T course repository. <a href="https://GitHub.com/PS239T/spring_2021/blob/main/copy_syllabus.sh"><code>copy_syllabus.sh</code></a> automatically runs an R markdown file, produces HTML and PDF outputs, and move these files to a desired location. When I modified something in the syllabus, I just need to run this Shell script again. (No worries! I will explain what is Shell shortly.) Finally, if you need to interact with servers or supercomputers for your research, you are likely to use the command-line interface.</p>
</div>
<div id="unix-shell" class="section level3" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> UNIX Shell</h3>
<p>The following materials on UNIX and Shell are adapted from [the software carpentry](<a href="https://bids.GitHub.io/2015-06-04-berkeley/shell/00-intro.html" class="uri">https://bids.GitHub.io/2015-06-04-berkeley/shell/00-intro.html</a>.</p>
<div id="unix" class="section level4" number="3.1.2.1">
<h4><span class="header-section-number">3.1.2.1</span> Unix</h4>
<p>UNIX is an <strong>operating system + a set of tools (utilities)</strong>. It was developed by AT &amp; T employees at Bell Labs (1969-1971). From Mac OS X to Linux, many of current operation systems are some versions of UNIX. For this reason, if you’re using Max OS, then you don’t need to do anything else to experience UNIX. You’re already all set. If you’re using Windows, you need to install either GitBash (a good option if you only use Bash for Git and GitHub) or Windows Subsystem (highly recommended if your use case goes beyond Git and GitHub). For more information, see <a href="https://GitHub.com/PS239T/spring_2021/blob/main/B_Install.md">this installation guideline</a> from the course repo. If you’re an Windows user and don’t use Windows 10, I recommend installing <a href="https://www.virtualbox.org/">VirtualBox</a>.</p>
<p>UNIX is old, but it is still mainstream and it will be. Moreover, <a href="https://en.wikipedia.org/wiki/Unix_philosophy">the UNIX philosophy</a> (“Do One Thing And Do It Well”)—minimalist, modular software development—is highly and widely influential.</p>
<div class="figure">
<img src="https://upload.wikimedia.org/wikipedia/commons/1/1b/Ken_Thompson_and_Dennis_Ritchie--1973.jpg" alt="" />
<p class="caption">Ken Thompson and Dennis Ritchie, key proponents of the Unix philosophy</p>
</div>

<iframe width="560" height="315" src="https://www.youtube.com/embed/tc4ROCJYbm0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
  
<p>AT&T Archives: The UNIX Operating System</p>


<iframe width="560" height="315" src="https://www.youtube.com/embed/xnCgoEyz31M" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>Unix50 - Unix Today and Tomorrow: The Languages </p>
</div>
<div id="kernel" class="section level4" number="3.1.2.2">
<h4><span class="header-section-number">3.1.2.2</span> Kernel</h4>
<p>The kernel of UNIX is the hub of the operating system: it allocates time and memory to programs and handles the <a href="http://users.ox.ac.uk/~martinw/unix/chap3.html">filestore</a> (e.g., files and directories) and communications in response to system calls.</p>
</div>
<div id="shell" class="section level4" number="3.1.2.3">
<h4><span class="header-section-number">3.1.2.3</span> Shell</h4>
<p>The shell is an interactive program that provides an interface between the user and the kernel. The shell interprets commands entered by the user or supplied by a Shell script, and passes them to the kernel for execution.</p>
</div>
<div id="human-computer-interfaces" class="section level4" number="3.1.2.4">
<h4><span class="header-section-number">3.1.2.4</span> Human-Computer interfaces</h4>
<p>At a high level, computers do four things:</p>
<ul>
<li>run programs</li>
<li>store data</li>
<li>communicate with each other</li>
<li>interact with us (through either CLI or GUI)</li>
</ul>
</div>
<div id="the-command-line" class="section level4" number="3.1.2.5">
<h4><span class="header-section-number">3.1.2.5</span> The Command Line</h4>
<p>This kind of interface is called a <strong>command-line interface</strong>, or CLI,
to distinguish it from the <strong>graphical user interface</strong>, or GUI, that most people now use.</p>
<p>The heart of a CLI is a <strong>read-evaluate-print loop</strong>, or REPL: when the user types a command and then presses the enter (or return) key, the computer reads it, executes it, and prints its output. The user then types another command, and so on until the user logs off.</p>
<p>If you’re using RStudio, you can use terminal inside RStudio (next to the “Console”). (For instance, type Alt + Shift + M)</p>
</div>
<div id="the-shell" class="section level4" number="3.1.2.6">
<h4><span class="header-section-number">3.1.2.6</span> The Shell</h4>
<p>This description makes it sound as though the user sends commands directly to the computer, and the computer sends output directly to the user. In fact, there is usually a program in between called a <strong>command shell</strong>.</p>
<div class="figure">
<img src="https://miro.medium.com/max/1032/1*GuB5q_bWOSZa-8sDg1lEDA.png" alt="" />
<p class="caption">Source: Prashant Lakhera</p>
</div>
<p>What the user types goes into the shell; it figures out what commands to run and orders the computer to execute them.</p>
<p>Note, the reason why the shell is called <em>the shell</em>: it encloses the operating system in order to hide some of its complexity and make it simpler to interact with.</p>
<p>A shell is a program like any other. What’s special about it is that its job is to run other programs rather than to do calculations itself. The commands are themselves programs: when they terminate, the shell gives the user another prompt ($ on our systems).</p>
</div>
<div id="bash" class="section level4" number="3.1.2.7">
<h4><span class="header-section-number">3.1.2.7</span> Bash</h4>
<p>The most popular Unix shell is <strong>Bash</strong>, the Bourne Again Shell (so-called because it’s derived from a shell written by Stephen Bourne — this is what passes for wit among programmers). Bash is the default shell on most modern implementations of <strong>Unix</strong>, and in most packages that provide Unix-like tools for Windows.</p>
</div>
<div id="why-shell" class="section level4" number="3.1.2.8">
<h4><span class="header-section-number">3.1.2.8</span> Why Shell?</h4>
<p>Using Bash or any other shell sometimes feels more like programming than like using a mouse. Commands are terse (often only a couple of characters long), their names are frequently cryptic, and their output is lines of text rather than something visual like a graph.</p>
<p>On the other hand, the shell allows us to combine existing tools in powerful ways with only a few keystrokes and to set up pipelines to handle large volumes of data automatically.</p>
<p>In addition, the command line is often the easiest way to interact with remote machines (explains why we learn Bash before learning Git and GitHub). As clusters and cloud computing become more popular for scientific data crunching, being able to drive them is becoming a necessary skill.</p>
</div>
<div id="our-first-command" class="section level4" number="3.1.2.9">
<h4><span class="header-section-number">3.1.2.9</span> Our first command</h4>
<p>The part of the operating system responsible for managing files and directories is called the <strong>file system</strong>. It organizes our data into files, which hold information, and directories (also called “folders”), which hold files or other directories.</p>
<p>Several commands are frequently used to create, inspect, rename, and delete files and directories. To start exploring them, let’s open a shell window:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb9-1"><a href="git-bash.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">jae@jae-X705UDR</span>:~$ </span></code></pre></div>
<ul>
<li><p>jae: a specific user name</p></li>
<li><p>jae-X705UDR: your computer/server name</p></li>
<li><p><code>~</code>: current directory (<code>~</code> = home)</p></li>
<li><p><code>$</code>: a <strong>prompt</strong>, which shows us that the shell is waiting for input; your shell may show something more elaborate.</p></li>
</ul>
<p>Type the command <code>whoami</code>, then press the Enter key (sometimes marked Return) to send the command to the shell.</p>
<p>The command’s output is the ID of the current user, i.e., it shows us who the shell thinks we are:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb10-1"><a href="git-bash.html#cb10-1" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">whoami</span></span>
<span id="cb10-2"><a href="git-bash.html#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="git-bash.html#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Should be your user name </span></span>
<span id="cb10-4"><a href="git-bash.html#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="ex">jae</span> </span></code></pre></div>
<p>More specifically, when we type <code>whoami</code> the shell:</p>
<ol style="list-style-type: decimal">
<li>finds a program called <code>whoami</code>,</li>
<li>runs that program,</li>
<li>displays that program’s output, then</li>
<li>displays a new prompt to tell us that it’s ready for more commands.</li>
</ol>
</div>
<div id="communicating-to-other-systems" class="section level4" number="3.1.2.10">
<h4><span class="header-section-number">3.1.2.10</span> Communicating to other systems</h4>
<p>In the next unit, we’ll be focusing on the structure of our own operating systems. But our operating systems rarely work in isolation; often, we are relying on the Internet to communicate with others! You can visualize this sort of communication within your own shell by asking your computer to <code>ping</code> (based on the old term for submarine sonar) an IP address provided by Google (8.8.8.8); in effect, this will test whether your Internet is working.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb11-1"><a href="git-bash.html#cb11-1" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">ping</span> 8.8.8.8</span></code></pre></div>
<p>Note: Windows users may have to try a slightly different alternative:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb12-1"><a href="git-bash.html#cb12-1" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">ping</span> -t 8.8.8.8</span></code></pre></div>
<p>(Thanks <a href="http://www.paulthissen.org/">Paul Thissen</a> for the suggestion!)</p>
</div>
<div id="file-system-organization" class="section level4" number="3.1.2.11">
<h4><span class="header-section-number">3.1.2.11</span> File system organization</h4>
<p>Next, let’s find out where we are by running a command called <code>pwd</code> (<strong>print working directory</strong>).</p>
<p>At any moment, our <strong>current working directory</strong> is our current default directory, i.e., the directory that the computer assumes we want to run commands in unless we explicitly specify something else.</p>
<p>Here, the computer’s response is <code>/home/jae</code>, which is the <strong>home directory</strong>:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb13-1"><a href="git-bash.html#cb13-1" aria-hidden="true" tabindex="-1"></a>$ <span class="bu">pwd</span></span>
<span id="cb13-2"><a href="git-bash.html#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="git-bash.html#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="ex">/home/jae</span></span></code></pre></div>
<p><strong>Additional tips</strong></p>
<p>You can also download files in the terminal.</p>
<ol style="list-style-type: decimal">
<li>Install wget utility</li>
</ol>
<div class="sourceCode" id="cb14"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb14-1"><a href="git-bash.html#cb14-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-2"><a href="git-bash.html#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt-get install wget </span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Download target files</li>
</ol>
<div class="sourceCode" id="cb15"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb15-1"><a href="git-bash.html#cb15-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-2"><a href="git-bash.html#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">wget</span> https://download1.rstudio.org/desktop/bionic/amd64/rstudio-1.4.1103-amd64.deb</span></code></pre></div>
<p><img src="misc/wget.png" /></p>
<blockquote>
<h4 id="home-directory">Home Directory</h4>
<p>The home directory path will look different on different operating systems. On Linux it will look like <code>/home/jae</code>, and on Windows it will be similar to <code>C:\Documents and Settings\jae</code>. Note that it may look slightly different for different versions of Windows.</p>
</blockquote>
<blockquote>
<h4 id="alphabet-soup">Alphabet Soup</h4>
<p>If the command to find out who we are is <code>whoami</code>, the command to find out where we are ought to be called <code>whereami</code>, so why is it <code>pwd</code> instead? The usual answer is that in the early 1970s, when Unix was</p>
<p>first being developed, every keystroke counted: the devices of the day were slow, and backspacing on a teletype was so painful that cutting the number of keystrokes in order to cut the number of typing mistakes was actually a win for usability. The reality is that commands were added to Unix one by one, without any master plan, by people who were immersed in its jargon. The result is as inconsistent as the roolz uv Inglish speling, but we’re stuck with it now.</p>
<p>The good news: because these basic commands were so integral to the development of early Unix, they have stuck around, and appear (in some form) in almost all programming languages.</p>
</blockquote>
<p>To understand what a “home directory” is, let’s have a look at how the file system as a whole is organized. At the top is the <strong>root directory</strong> that holds everything else.</p>
<p>We refer to it using a slash character <code>/</code> on its own; this is the leading slash in <code>/home/jae</code>.</p>
<p>Inside that directory are several other directories: <code>bin</code> (which is where some built-in programs are stored), <code>data</code> (holding miscellaneous data files) <code>etc</code> (where local configuration files are stored), <code>tmp</code> (for temporary files that don’t need to be stored long-term), and so on.</p>
<blockquote>
<p>If you’re working on a Mac, the file structure will look similar, but not identical. The following image shows a file system graph for the typical Mac.</p>
</blockquote>
<div class="figure">
<img src="https://swcarpentry.GitHub.io/shell-novice/fig/home-directories.svg" alt="" />
<p class="caption">File Directory</p>
</div>
<p>We know that our current working directory <code>/home/jae</code> is stored inside <code>/home</code> because <code>/home</code> is the first part of its name. Similarly, we know that <code>/home</code> is stored inside the root directory <code>/</code> because its name begins with <code>/</code>.</p>
<p><strong>Food for thought</strong></p>
<p>This hierarchical way of thinking about organizing things is prevalent in the design of computation systems. However, it doesn’t need to be that way, especially when the system concerns something like conversations.</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/P0H1m14Krmc" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p> Reimagining the Internet 10: Amy Zhang, University of Washington, The Institute for Digital Public Infrastructure /p>
<blockquote>
<h4 id="path">Path</h4>
<p>Notice that there are two meanings for the <code>/</code> character.
When it appears at the front of a file or directory name, it refers to the root directory. When it appears <em>inside</em> a name, it’s just a separator.</p>
</blockquote>
</div>
<div id="listing" class="section level4" number="3.1.2.12">
<h4><span class="header-section-number">3.1.2.12</span> Listing</h4>
<p>Let’s see what’s in your home directory by running <code>ls</code> (**list files and directories):</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb16-1"><a href="git-bash.html#cb16-1" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">ls</span></span>
<span id="cb16-2"><a href="git-bash.html#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="git-bash.html#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Applications</span>        Dropbox         Pictures</span>
<span id="cb16-4"><a href="git-bash.html#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Creative</span> Cloud Files    Google Drive        Public</span>
<span id="cb16-5"><a href="git-bash.html#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Desktop</span>         Library         Untitled.ipynb</span>
<span id="cb16-6"><a href="git-bash.html#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="ex">Documents</span>       Movies          anaconda</span>
<span id="cb16-7"><a href="git-bash.html#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="ex">Downloads</span>       Music           file.txt</span></code></pre></div>
<p><code>ls</code> prints the names of the files and directories in the current directory in alphabetical order, arranged neatly into columns.</p>
<p>We can make <code>ls</code> more useful by adding flags. For instance, you can make your computer show only directories in the file system using the following command. Here <code>-F</code> flag classifies files based on some types. <code>/</code> indicates directories.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb17-1"><a href="git-bash.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> -F /</span></code></pre></div>
<p>The leading <code>/</code> tells the computer to follow the path from the root of the file system, so it always refers to exactly one directory, no matter where we are when we run the command.</p>
<p>If you want to see only directories in the current working directory, you can do the following. (Remember <code>^</code>? This wildcard identifies a single number of character. In this case, <code>d</code>.)</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb18-1"><a href="git-bash.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> -l <span class="kw">|</span> <span class="fu">grep</span> <span class="st">&quot;^d&quot;</span></span></code></pre></div>
<p>What if we want to change our current working directory? Before we do this, <code>pwd</code> shows us that we’re in <code>/home/jae</code>, and <code>ls</code> without any arguments shows us that directory’s contents:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb19-1"><a href="git-bash.html#cb19-1" aria-hidden="true" tabindex="-1"></a>$ <span class="bu">pwd</span></span>
<span id="cb19-2"><a href="git-bash.html#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="git-bash.html#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="ex">/home/jae</span></span>
<span id="cb19-4"><a href="git-bash.html#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="git-bash.html#cb19-5" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">ls</span></span>
<span id="cb19-6"><a href="git-bash.html#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="git-bash.html#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="ex">Applications</span>        Dropbox         Pictures</span>
<span id="cb19-8"><a href="git-bash.html#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="ex">Creative</span> Cloud Files    Google Drive        Public</span>
<span id="cb19-9"><a href="git-bash.html#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="ex">Desktop</span>         Library         Untitled.ipynb</span>
<span id="cb19-10"><a href="git-bash.html#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="ex">Documents</span>       Movies          anaconda</span>
<span id="cb19-11"><a href="git-bash.html#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="ex">Downloads</span>       Music           file.txt</span></code></pre></div>
<p>Use relative paths (e.g., <code>../spring_2021/references.md</code>) whenever it’s possible so that your code is not dependable on how your system is configured.</p>
<p><strong>Additional tips</strong></p>
<p>How can I find pdf files in <code>Downloads</code> using the terminal? Remember <code>*</code> wildcard?</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb20-1"><a href="git-bash.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> Downloads/ </span>
<span id="cb20-2"><a href="git-bash.html#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="git-bash.html#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">find</span> *.pdf</span></code></pre></div>
<p>Also, note that you don’t need to type every character. Type the first few characters then press TAB (autocomplete). This is called <strong>tab completion</strong>, and we will see it in many other tools as we go on.</p>
</div>
<div id="moving-around" class="section level4" number="3.1.2.13">
<h4><span class="header-section-number">3.1.2.13</span> Moving around</h4>
<p>We can use <code>cd</code> (<strong>change directory</strong>) followed by a directory name to change our working directory.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb21-1"><a href="git-bash.html#cb21-1" aria-hidden="true" tabindex="-1"></a>$ <span class="bu">cd</span> Desktop</span></code></pre></div>
<p><code>cd</code> doesn’t print anything, but if we run <code>pwd</code> after it, we can see that we are now in <code>/home/jae/Desktop</code>.</p>
<p>If we run <code>ls</code> without arguments now, it lists the contents of <code>/home/jae/Desktop</code>, because that’s where we now are:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb22-1"><a href="git-bash.html#cb22-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-2"><a href="git-bash.html#cb22-2" aria-hidden="true" tabindex="-1"></a>$ <span class="bu">pwd</span></span>
<span id="cb22-3"><a href="git-bash.html#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="git-bash.html#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="ex">/home/jae/Desktop</span></span></code></pre></div>
<p>We now know how to go down the directory tree: how do we go up? We could use an absolute path:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb23-1"><a href="git-bash.html#cb23-1" aria-hidden="true" tabindex="-1"></a>$ <span class="bu">cd</span> /home/jae/</span></code></pre></div>
<p>but it’s almost always simpler to use <code>cd ..</code> to go up one level:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb24-1"><a href="git-bash.html#cb24-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-2"><a href="git-bash.html#cb24-2" aria-hidden="true" tabindex="-1"></a>$ <span class="bu">pwd</span></span>
<span id="cb24-3"><a href="git-bash.html#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="git-bash.html#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="ex">/home/jae/Desktop</span></span>
<span id="cb24-5"><a href="git-bash.html#cb24-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-6"><a href="git-bash.html#cb24-6" aria-hidden="true" tabindex="-1"></a>$ <span class="bu">cd</span> ..</span></code></pre></div>
<p><code>..</code> is a special directory name meaning “the directory containing this one,” or more succinctly, the <strong>parent</strong> of the current directory. Sure enough, if we run <code>pwd</code> after running <code>cd ..</code>, we’re back in <code>/home/jae/</code>:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb25-1"><a href="git-bash.html#cb25-1" aria-hidden="true" tabindex="-1"></a>$ <span class="bu">pwd</span></span>
<span id="cb25-2"><a href="git-bash.html#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="git-bash.html#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="ex">/home/jae/</span></span></code></pre></div>
<p>The special directory <code>..</code> doesn’t usually show up when we run <code>ls</code>. If we want to display it, we can give <code>ls</code> the <code>-a</code> flag:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb26-1"><a href="git-bash.html#cb26-1" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">ls</span> -a</span>
<span id="cb26-2"><a href="git-bash.html#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="git-bash.html#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="bu">.</span>       <span class="ex">.localized</span>  Shared</span>
<span id="cb26-4"><a href="git-bash.html#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="ex">..</span>      Guest       rachel</span></code></pre></div>
<p><code>-a</code> stands for “show all”; it forces <code>ls</code> to show us file and directory names that begin with <code>.</code>, such as <code>..</code>.</p>
<blockquote>
<h4 id="hidden-files-for-your-own-protection">Hidden Files: For Your Own Protection</h4>
<p>As you can see, a bunch of other items just appeared when we enter <code>ls -a</code>. These files and directories begin with <code>.</code> followed by a name. These areusually files and directories that hold important programmatic information, not usually edited by the casual computer user. They are kept hidden so that users don’t accidentally delete or edit them without knowing what they’re doing.</p>
</blockquote>
<p>As you can see, it also displays another special directory that’s just called <code>.</code>, which means “the current working directory.” It may seem redundant to have a name for it, but we’ll see some uses for it soon.</p>
<blockquote>
<h4 id="phone-home">Phone Home</h4>
<p>If you ever want to get to the home directory immediately, you can use theshortcut <code>~</code>. For example, type <code>cd ~</code> and you’ll get back home in a jiffy. <code>~</code> will also stand in for your home directory in paths, so for instance<code>~/Desktop</code> is the same as <code>/home/jae/Desktop</code>. This only works if it isthe first character in the path: <code>here/there/~/elsewhere</code> is not <code>/home/jae/elsewhere</code>.</p>
</blockquote>
<p><strong>Additional tips</strong></p>
<p>Okay. These exercises help us get to know about <code>cd</code> command, but not very exciting. Let’s do something more concrete and potentially useful. Let’s say you downloaded a file using your web browser and locate that file. How could you do that?</p>
<p>Your first step should be learning more about <code>ls</code> command. You can do that by Googling or typing <code>ls --help</code>. By taking a look at the documentation, you can recognize that you need to add <code>-t</code> (sort by time). Then, what’s <code>|</code>? It’s called pipe and it chains commands. For instance, if <code>&lt;command 1&gt; | &lt;command 2&gt;</code>, then command1’s output will be command2’s input. <code>head</code> list the first ten lines of a file. <code>-n1</code> flag makes it show only the first line of the output (n1).</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb27-1"><a href="git-bash.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Don&#39;t forget using TAB completion</span></span>
<span id="cb27-2"><a href="git-bash.html#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> Downloads/ </span>
<span id="cb27-3"><a href="git-bash.html#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="git-bash.html#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> -t <span class="kw">|</span> <span class="fu">head</span> -n1</span></code></pre></div>
<p>Yeah! We can actually do more cool things. How can you find the most recently downloaded PDF file? You can do this by combining the two neat tricks you learned earlier.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb28-1"><a href="git-bash.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> -t <span class="kw">|</span> <span class="fu">find</span> *.pdf <span class="kw">|</span> <span class="fu">head</span> -n1 </span></code></pre></div>
</div>
<div id="creating-copying-removing-and-renaming-files" class="section level4" number="3.1.2.14">
<h4><span class="header-section-number">3.1.2.14</span> Creating, copying, removing, and renaming files</h4>
<div id="creating-files" class="section level5" number="3.1.2.14.1">
<h5><span class="header-section-number">3.1.2.14.1</span> Creating files</h5>
<ol style="list-style-type: decimal">
<li>First, let’s create an empty directory named exercise</li>
</ol>
<div class="sourceCode" id="cb29"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb29-1"><a href="git-bash.html#cb29-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-2"><a href="git-bash.html#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> exercise </span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li><p>You can check whether the directory is created by typing <code>ls</code>. If the print format is difficult to read, add <code>-l</code> flag. Did you notice the difference?</p></li>
<li><p>Let’s move to <code>exercise</code> subdirectory and create a file named test</p></li>
</ol>
<div class="sourceCode" id="cb30"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb30-1"><a href="git-bash.html#cb30-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-2"><a href="git-bash.html#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> exercise <span class="kw">;</span> <span class="fu">touch</span> test <span class="kw">;</span> <span class="fu">ls</span> </span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Read test</li>
</ol>
<div class="sourceCode" id="cb31"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb31-1"><a href="git-bash.html#cb31-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2"><a href="git-bash.html#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> test </span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li>Hmn. It’s empty. Let’s add something there. <code>&gt;</code> = overwrite</li>
</ol>
<div class="sourceCode" id="cb32"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb32-1"><a href="git-bash.html#cb32-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-2"><a href="git-bash.html#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">&quot;something&quot;</span> <span class="op">&gt;</span> test <span class="kw">;</span> <span class="fu">cat</span> test </span></code></pre></div>
<ol start="6" style="list-style-type: decimal">
<li>Yeah! Can you add more? <code>&gt;&gt;</code> = append</li>
</ol>
<div class="sourceCode" id="cb33"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb33-1"><a href="git-bash.html#cb33-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-2"><a href="git-bash.html#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">&quot;anything&quot;</span> <span class="op">&gt;&gt;</span> test <span class="kw">;</span> <span class="fu">cat</span> test </span></code></pre></div>
<ol start="7" style="list-style-type: decimal">
<li>Removing “anything” from <code>test</code> is a little bit more complex because you need to know how to use <code>grep</code> (remember that we used this command in the very first example). Here, I just demonstrate that you can do this task using Bash and let’s dig into this more when we talk about working with text files.</li>
</ol>
<div class="sourceCode" id="cb34"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb34-1"><a href="git-bash.html#cb34-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-2"><a href="git-bash.html#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> -v <span class="st">&#39;anything&#39;</span> test</span></code></pre></div>
</div>
<div id="copying-and-removing-files" class="section level5" number="3.1.2.14.2">
<h5><span class="header-section-number">3.1.2.14.2</span> Copying and Removing Files</h5>
<ol style="list-style-type: decimal">
<li>Can we make a copy of <code>test</code>? Yes!</li>
</ol>
<div class="sourceCode" id="cb35"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb35-1"><a href="git-bash.html#cb35-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-2"><a href="git-bash.html#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> test test_1<span class="kw">;</span> <span class="fu">cat</span> </span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Can we make 100 copies of <code>test?</code> Yes!</li>
</ol>
<p>You can do this</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb36-1"><a href="git-bash.html#cb36-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-2"><a href="git-bash.html#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> test test_1 </span>
<span id="cb36-3"><a href="git-bash.html#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> test test_2</span>
<span id="cb36-4"><a href="git-bash.html#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> test test_3 </span>
<span id="cb36-5"><a href="git-bash.html#cb36-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-6"><a href="git-bash.html#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span> </span></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb37-1"><a href="git-bash.html#cb37-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-2"><a href="git-bash.html#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="kw">for</span> <span class="ex">i</span> in <span class="dt">{1..100}</span><span class="kw">;</span> <span class="kw">do</span> <span class="fu">cp</span> test <span class="st">&quot;test_</span><span class="va">$i</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">done</span>  </span></code></pre></div>
<p>Which one do you like? (Again, don’t focus on for loop. We’ll learn it and other similar tools to deal with iterations in the later chapters.)</p>
<ol start="3" style="list-style-type: decimal">
<li>Can you remove all of <code>test_</code> files?</li>
</ol>
<p>You can do this</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb38-1"><a href="git-bash.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> test_1</span>
<span id="cb38-2"><a href="git-bash.html#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> test_2</span>
<span id="cb38-3"><a href="git-bash.html#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> test_3 </span>
<span id="cb38-4"><a href="git-bash.html#cb38-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-5"><a href="git-bash.html#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span></code></pre></div>
<p>or</p>
<pre><code>
rm test_*
</code></pre>
<p>Which one do you like?</p>
<ol start="4" style="list-style-type: decimal">
<li>Let’s remove the directory.</li>
</ol>
<div class="sourceCode" id="cb40"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb40-1"><a href="git-bash.html#cb40-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-2"><a href="git-bash.html#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> .. </span>
<span id="cb40-3"><a href="git-bash.html#cb40-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-4"><a href="git-bash.html#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> exercise/</span></code></pre></div>
<p>The <code>rm</code> command should not work because <code>exercise</code> is not a file. Type <code>rm --help</code> and see which flag is going to be helpful. It might be <code>-d</code> (remove empty directories).</p>
<pre><code>rm -d exercise/  </code></pre>
<p>Oops. Still not working because the directory is not empty. Try this. Now, it works.</p>
<pre><code>rm -r exercise/ </code></pre>
<p>What’s <code>-r</code>? It stands for recursion (e.g., . Recursion is a very powerful idea in programming and helps solving complex problems. We’ll come back to it many times (e.g., <code>purrr::reduce</code> in R).</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/Mv9NEXX1VHc" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p> What on Earth is Recursion? - Computerphile </p>
</div>
<div id="renaming-files" class="section level5" number="3.1.2.14.3">
<h5><span class="header-section-number">3.1.2.14.3</span> Renaming files</h5>
<ol style="list-style-type: decimal">
<li>Using <code>mv</code></li>
</ol>
<p>First, we will learn how to move files and see how it’s relevant for renaming files.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb43-1"><a href="git-bash.html#cb43-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-2"><a href="git-bash.html#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Create two directories </span></span>
<span id="cb43-3"><a href="git-bash.html#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> exercise_1 <span class="kw">;</span> <span class="fu">mkdir</span> exercise_2 </span>
<span id="cb43-4"><a href="git-bash.html#cb43-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-5"><a href="git-bash.html#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Check whether they were indeed created </span></span>
<span id="cb43-6"><a href="git-bash.html#cb43-6" aria-hidden="true" tabindex="-1"></a><span class="fu">find</span> exer*</span>
<span id="cb43-7"><a href="git-bash.html#cb43-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-8"><a href="git-bash.html#cb43-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an empty file </span></span>
<span id="cb43-9"><a href="git-bash.html#cb43-9" aria-hidden="true" tabindex="-1"></a><span class="fu">touch</span> exercise_1/test </span>
<span id="cb43-10"><a href="git-bash.html#cb43-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-11"><a href="git-bash.html#cb43-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Move to exercise_1 and check </span></span>
<span id="cb43-12"><a href="git-bash.html#cb43-12" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> exercise_1 <span class="kw">;</span> <span class="fu">ls</span> </span>
<span id="cb43-13"><a href="git-bash.html#cb43-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-14"><a href="git-bash.html#cb43-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Move this file to exercise_2 </span></span>
<span id="cb43-15"><a href="git-bash.html#cb43-15" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> test ../exercise_2 </span>
<span id="cb43-16"><a href="git-bash.html#cb43-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-17"><a href="git-bash.html#cb43-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Move to exercise_2 and check </span></span>
<span id="cb43-18"><a href="git-bash.html#cb43-18" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> exercise_2 <span class="kw">;</span> <span class="fu">ls</span> </span></code></pre></div>
<p>What <code>mv</code> has something to do with renaming?</p>
<ul>
<li>[mv] [source] [destination]</li>
</ul>
<div class="sourceCode" id="cb44"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb44-1"><a href="git-bash.html#cb44-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-2"><a href="git-bash.html#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> test new_test <span class="kw">;</span> <span class="fu">ls</span> </span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Using <code>rename</code></li>
</ol>
<p><code>mv</code> is a good tool to rename one file. But how about renaming many files? (Note that your pwd is still <code>exercise_2</code> where you have <code>new_test</code> file.)</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb45-1"><a href="git-bash.html#cb45-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2"><a href="git-bash.html#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="kw">for</span> <span class="ex">i</span> in <span class="dt">{1..100}</span><span class="kw">;</span> <span class="kw">do</span> <span class="fu">cp</span> new_test <span class="st">&quot;test_</span><span class="va">$i</span><span class="st">.csv&quot;</span><span class="kw">;</span> <span class="kw">done</span>  </span></code></pre></div>
<p>Then install <code>rename</code>. Either <code>sudo apt-get install -y rename</code> or <code>brew install rename</code> (MacOS).</p>
<p>Basic syntax: rename [flags] perlexpr (Perl Expression) files. Note that <a href="https://en.wikipedia.org/wiki/Perl">Perl</a> is another programming language.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb46-1"><a href="git-bash.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename every csv file to txt file </span></span>
<span id="cb46-2"><a href="git-bash.html#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="ex">rename</span> <span class="st">&#39;s/.csv/.txt/&#39;</span> *.csv</span>
<span id="cb46-3"><a href="git-bash.html#cb46-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-4"><a href="git-bash.html#cb46-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Check </span></span>
<span id="cb46-5"><a href="git-bash.html#cb46-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> -l</span></code></pre></div>
<p>The key part is <code>s/.csv/.txt/</code> = <code>s/FIND/REPLACE</code></p>
<p>Can you perform the same task using GUI? Yes, you can but it would be more time-consuming. Using the command line, you did this via just one-liner(!). <a href="http://korflab.ucdavis.edu/Bios/bio_keithb.html">Keith Brandnam</a> wrote a wonderful book titled <a href="https://www.amazon.com/Unix-Perl-Rescue-Keith-Bradnam/dp/0521169828">UNIX and Perl to the Rescue! (Cambridge University Press 2012)</a> that discusses how to use UNIX and Perl to deal with massively large datasets.</p>
</div>
</div>
<div id="working-with-csv-and-text-files" class="section level4" number="3.1.2.15">
<h4><span class="header-section-number">3.1.2.15</span> Working with CSV and text files</h4>
<ol style="list-style-type: decimal">
<li>Download a CSV file (Forbes World’s Billionaires lists from 1996-2014). For more on the data source, see <a href="https://corgis-edu.github.io/corgis/csv/billionaires/">this site</a>.</li>
</ol>
<div class="sourceCode" id="cb47"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb47-1"><a href="git-bash.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wget</span> https://corgis-edu.github.io/corgis/datasets/csv/billionaires/billionaires.csv</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Read the first two lines. We have learned <code>cat</code>, <code>|</code>, and <code>head</code> already. So, there’s nothing new here.</li>
</ol>
<p><strong>Additional tips 1</strong>
If you have a large text file, the fact that <code>cat</code> prints everything at once is inconvenient. The alternative using <code>less</code>.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb48-1"><a href="git-bash.html#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> billionaires.csv <span class="kw">|</span> <span class="fu">head</span> -n2</span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Check the size of the dataset (2615 rows). So, there are 2014 observations (n-1 because of the header). <code>wc</code> prints newline, word, and byte counts for each file. If you run <code>wc</code> without <code>-l</code> flag, you get the following: <code>2615 (line) 20433 (word) 607861 (byte) billionaires.csv</code></li>
</ol>
<div class="sourceCode" id="cb49"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb49-1"><a href="git-bash.html#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wc</span> -l billionaires.csv</span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>How about the number of columns? <code>sed</code> is a stream editor and very powerful when it’s used to filter text in a pipeline. For more information, see <a href="https://www.gnu.org/software/sed/manual/sed.html">this article</a>. You’ve already seen <code>s/FIND/REPLACE</code>. Here, the pattern we are using is <code>s/delimiter/\n/g</code>. We’ve seen that the delimiter is <code>,</code>, so that’s what I plugged in the command below.</li>
</ol>
<div class="sourceCode" id="cb50"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb50-1"><a href="git-bash.html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span> -1 billionaires.csv <span class="kw">|</span> <span class="fu">sed</span> <span class="st">&#39;s/,/\n/g&#39;</span> <span class="kw">|</span> <span class="fu">nl</span></span></code></pre></div>
<p><strong>Additional tips 2</strong>
The other cool command for text parsing is <code>awk</code>. This command is especially useful for filtering.</p>
<ol style="list-style-type: decimal">
<li>This is same as using <code>cat</code> (basically, printing). So, what’s new?</li>
</ol>
<div class="sourceCode" id="cb51"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb51-1"><a href="git-bash.html#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">awk</span> <span class="st">&#39;{print}&#39;</span> billionaires.csv </span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>This is new.</li>
</ol>
<div class="sourceCode" id="cb52"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb52-1"><a href="git-bash.html#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">awk</span> <span class="st">&#39;/China/ {print}&#39;</span> billionaires.csv</span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Let’s see only the five rows. We filtered rows so that the every row in the final dataset contains ‘China.’</li>
</ol>
<div class="sourceCode" id="cb53"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb53-1"><a href="git-bash.html#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">awk</span> <span class="st">&#39;/China/ {print}&#39;</span> billionaires.csv <span class="kw">|</span> <span class="fu">head</span> -n5 </span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>You can also get the numbers of these rows.</li>
</ol>
<div class="sourceCode" id="cb54"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb54-1"><a href="git-bash.html#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">awk</span> <span class="st">&#39;/China/ {print NR}&#39;</span> billionaires.csv </span></code></pre></div>
</div>
<div id="user-roles-and-file-permissions" class="section level4" number="3.1.2.16">
<h4><span class="header-section-number">3.1.2.16</span> User roles and file permissions</h4>
<ol style="list-style-type: decimal">
<li><p>If you need admin access, use <code>sudo</code>. For instance, <code>sudo apt-get install &lt;package name&gt;</code>.</p></li>
<li><p>To run a Shell script (.sh), you need to change its file mode. You can make the script executable by typing <code>chmod +x &lt;Shell script&gt;</code>. Then, you can run it by typing <code>./pdf_copy_sh.</code> <code>.</code> refers the current working directory. Other options: <code>sh pdf_copy_sh.</code> or <code>bash pdf_copy_sh.</code> I use <code>./pdf_copy_sh.</code></p></li>
</ol>
</div>
<div id="writing-your-first-shell-script-.sh" class="section level4" number="3.1.2.17">
<h4><span class="header-section-number">3.1.2.17</span> Writing your first Shell script (.sh)</h4>
<p>Finally, we’re learning how to write a Shell script (a file that ends with .sh). Here I show how to write a Shell script that creates a subdirectory called <code>/pdfs</code> under <code>/Download</code> directory, then find PDF files in <code>/Download</code> and copy those files to <code>pdfs</code>. Essentially, this Shell script creates a backup. Name this Shell script as ‘pdf_copy.sh.’ Pay attention to this example as a similar exercise is going to be part of your second assignment.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb55-1"><a href="git-bash.html#cb55-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-2"><a href="git-bash.html#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/sh # Stating this is a Shell script. </span></span>
<span id="cb55-3"><a href="git-bash.html#cb55-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-4"><a href="git-bash.html#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> /home/jae/Downloads/pdfs <span class="co"># Obviously, in your case this file path should be incorrect.</span></span>
<span id="cb55-5"><a href="git-bash.html#cb55-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-6"><a href="git-bash.html#cb55-6" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> Download</span>
<span id="cb55-7"><a href="git-bash.html#cb55-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-8"><a href="git-bash.html#cb55-8" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> *.pdf pdfs/ </span>
<span id="cb55-9"><a href="git-bash.html#cb55-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-10"><a href="git-bash.html#cb55-10" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">&quot;Copied pdfs&quot;</span></span></code></pre></div>
<p><strong>Additional tips</strong></p>
<p>Using Make [TBD]</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/aw9wHbFTnAQ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p> Using make and writing Makefile (in C++ or C) by Programming Knowledge </p>
</div>
</div>
<div id="references-1" class="section level3" number="3.1.3">
<h3><span class="header-section-number">3.1.3</span> References</h3>
<ul>
<li><p><a href="https://seankross.com/the-unix-workbench/">The Unix Workbench</a> by Sean Kross</p></li>
<li><p><a href="http://swcarpentry.GitHub.io/shell-novice/">The Unix Shell</a>, Software Carpentry</p></li>
<li><p><a href="https://www.datascienceatthecommandline.com/1e/">Data Science at the Command Line</a> by Jeroen Janssens</p></li>
</ul>

<iframe width="560" height="315" src="https://www.youtube.com/embed/QxpOKbv-KQU" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p> Obtaining, Scrubbing, and Exploring Data at the Command Line by Jeroen Janssens from YPlan, Data Council </p>
<ul>
<li><p><a href="https://missing.csail.mit.edu/2020/shell-tools/">Shell Tools and Scripting</a>, ./missing-semester, MIT</p></li>
<li><p><a href="https://missing.csail.mit.edu/2020/command-line/">Command-line Environment</a>, ./missing-semester, MIT</p></li>
</ul>
</div>
</div>
<div id="git-and-github" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Git and GitHub</h2>
<div id="version-control-system" class="section level3" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Version control system</h3>
<p><strong>The most important point</strong></p>
<ul>
<li><p>Backup != Version control</p></li>
<li><p>If you do version control, you need to save your <strong>raw data</strong> in your hard disk, external drive, or cloud, but nothing else. In other words, anything that you are going to change should be subject to version control (also, it’s not same as saving your code with names like 20200120_Kim or something like that). Below, I will explain what is version control and how to do it using Git and GitHub.</p></li>
</ul>
<div class="figure">
<img src="https://i2.wp.com/cdn-images-1.medium.com/max/399/1*7HHA_UkjUK7wp7qP4CYu1g.png?zoom=1.75&amp;w=456&amp;ssl=1" alt="" />
<p class="caption">Why you should do version control</p>
</div>
<p>According to <a href="https://guides.GitHub.com">GitHub Guides</a>, a version control system “tracks the history of changes as people and teams collaborate on projects together.” Specifically, it helps to track the following information:</p>
<ul>
<li>Which changes were made?</li>
<li>Who made the changes?</li>
<li>When were the changes made?</li>
<li>Why were changes needed?</li>
</ul>
<p>Git is a case of a <a href="https://en.wikipedia.org/wiki/Distributed_version_control">distributed version control system</a>, common in open source and commercial software development. This is no surprising given that Git <a href="https://lkml.org/lkml/2005/4/6/121">was originally created</a> to deal with Linux kernal development.</p>
<p><strong>Food for thought</strong></p>
<p>If you’re curious about how the Internet works, learn one of the key ideas of the Internet: <a href="https://en.wikipedia.org/wiki/End-to-end_principle">end-to-end principle</a>. This also explains why <a href="https://en.wikipedia.org/wiki/Net_neutrality">net neutrality</a> matters.</p>
<p>The following images, from <a href="git-scm.com">Pro Git</a>, show how a centralized (e.g., CVS, Subversion, and Perforce) and decentralized VCS (e.g., Git, Mercurial, Bazzar or Darcs) works differently.</p>
<div class="figure">
<img src="https://git-scm.com/book/en/v2/images/centralized.png" alt="" />
<p class="caption">Centralized version control system</p>
</div>
<p>Figure 2. Centralized VCS.</p>
<div class="figure">
<img src="https://git-scm.com/book/en/v2/images/distributed.png" alt="" />
<p class="caption">Decentralized version control system</p>
</div>
<p>Figure 3. Decentralized VCS.</p>
<p>For more information on the varieties of version control systems, please read <a href="https://pdfs.semanticscholar.org/4490/4c70bc91e1bed4fe02b9e2282f031b7c90ea.pdf">Petr Baudis’s review</a> on that subject.</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/PFwUHTE6mFc" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p> Webcast • Introduction to Git and GitHub • Featuring Mehan Jayasuriya, GitHub Training & Guides </p>
<div class="figure">
<img src="https://plain-text.co/figures/git-basic.png" alt="" />
<p class="caption">Figure 2.1. A schematic git workflow from Healy’s “The Plain Person’s Guide to Plain Text Social Science”</p>
</div>
<p>For more information, watch the following video:</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/u6G3fbmpWr8" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p> The Basics of Git and GitHub, GitHub Training & Guides </p>

</div>
<div id="setup" class="section level3" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Setup</h3>
<div id="signup" class="section level4" number="3.2.2.1">
<h4><span class="header-section-number">3.2.2.1</span> Signup</h4>
<ol style="list-style-type: decimal">
<li>Make sure you have installed Git (<a href="https://happygitwithr.com/install-git.html#install-git">[tutorial]</a>).</li>
</ol>
<div class="sourceCode" id="cb56"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb56-1"><a href="git-bash.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> --version </span>
<span id="cb56-2"><a href="git-bash.html#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="co"># git version 2.xx.x</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>If you haven’t, sign up a GitHub account: <a href="https://github.com/" class="uri">https://github.com/</a></li>
</ol>
<ul>
<li>If you’re a student, also sign up for GitHub Student Developer Pack: <a href="https://education.github.com/pack" class="uri">https://education.github.com/pack</a> Basically, you can get a GitHub pro account for free (so why not?).</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Access GitHub either using Hypertext Transfer Protocol Secure (HTTPS) or Secure Shell (SSH).</li>
</ol>
<p><strong>HTTPS</strong></p>
<ol style="list-style-type: decimal">
<li><p>Create a personal access token. Follow this guideline: <a href="https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token" class="uri">https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token</a></p></li>
<li><p>Store your credential somewhere safe. You can use an R package like this <a href="https://gitcreds.r-lib.org/">gitcreds</a> and <a href="https://docs.ropensci.org/credentials/">credentials</a> to do so.</p></li>
</ol>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="git-bash.html#cb57-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(gitcreds)</span>
<span id="cb57-2"><a href="git-bash.html#cb57-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-3"><a href="git-bash.html#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="co"># First time only </span></span>
<span id="cb57-4"><a href="git-bash.html#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="fu">gitcreds_set</span>()</span>
<span id="cb57-5"><a href="git-bash.html#cb57-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-6"><a href="git-bash.html#cb57-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Check </span></span>
<span id="cb57-7"><a href="git-bash.html#cb57-7" aria-hidden="true" tabindex="-1"></a><span class="fu">gitcreds_get</span>()</span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>If you get asked to provide your password when you pull or push, the password should be your GitHub token (to be precise, personal access token).</li>
</ol>
<p><strong>SSH</strong></p>
<p>If possible, I highly recommend using SSH. Using SSH is safer and also makes connecting GitHub easier. SSH has two keys (public and private). Public key could be stored on any server (e.g., GitHub) and private key could be saved in your client (e.g., your laptop). Only when the two are matched, the system unlocks.</p>
<ol style="list-style-type: decimal">
<li><p>First, read <a href="https://docs.github.com/en/github/authenticating-to-github/connecting-to-github-with-ssh">this tutorial</a> and create SSH keys.</p></li>
<li><p>Second, read <a href="https://happygitwithr.com/ssh-keys.html">this tutorial</a> and check the keys and provide the public key to GitHub and add private key to ssh-agent.</p></li>
</ol>
<p>Next time, if you want to use SSH, remember the following.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb58-1"><a href="git-bash.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># SSH</span></span>
<span id="cb58-2"><a href="git-bash.html#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="ex">git@github.com</span>:<span class="op">&lt;</span>user<span class="op">&gt;</span>/<span class="op">&lt;</span>repo<span class="op">&gt;</span>.git</span>
<span id="cb58-3"><a href="git-bash.html#cb58-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-4"><a href="git-bash.html#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="co"># HTTPS</span></span>
<span id="cb58-5"><a href="git-bash.html#cb58-5" aria-hidden="true" tabindex="-1"></a><span class="ex">https</span>://github.com/<span class="op">&lt;</span>user<span class="op">&gt;</span>/<span class="op">&lt;</span>repo<span class="op">&gt;</span>.git</span></code></pre></div>
<p><strong>Additional tips</strong></p>
<p>When you try to clone a git repo, you cna get the links like the above by clicking CODE action button on GitHub.</p>
<p><img src="misc/ssh.png" /></p>
</div>
<div id="configurations" class="section level4" number="3.2.2.2">
<h4><span class="header-section-number">3.2.2.2</span> Configurations</h4>
<ol style="list-style-type: decimal">
<li>Method 1: using the terminal</li>
</ol>
<div class="sourceCode" id="cb59"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb59-1"><a href="git-bash.html#cb59-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-2"><a href="git-bash.html#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="co"># User name and email </span></span>
<span id="cb59-3"><a href="git-bash.html#cb59-3" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">git</span> config --global user.name <span class="st">&quot;Firstname Lastname&quot;</span></span>
<span id="cb59-4"><a href="git-bash.html#cb59-4" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">git</span> config --global user.email username@school.extension</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Method 2: using RStudio (if you insist using R)</li>
</ol>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="git-bash.html#cb60-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(usethis)</span>
<span id="cb60-2"><a href="git-bash.html#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="fu">use_git_config</span>(<span class="at">user.name =</span> <span class="st">&quot;&lt;Firstname Lastname&gt;&quot;</span>,</span>
<span id="cb60-3"><a href="git-bash.html#cb60-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">user.email =</span> <span class="st">&quot;&lt;username@school.extension&gt;&quot;</span>)</span></code></pre></div>
<p>You’re all set!</p>
</div>
</div>
<div id="cloning-a-repository" class="section level3" number="3.2.3">
<h3><span class="header-section-number">3.2.3</span> Cloning a repository</h3>
<p>Let’s clone a repository. As a test, I will clone the GitHub repository for the course I’m co-teaching in Spring 2021.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb61-1"><a href="git-bash.html#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/PS239T/spring_2021</span></code></pre></div>
<p>If you <code>cd spring_2021/</code> you can move to the cloned course repository. Cloning: copying a public GitHub repo (remote) -&gt; Your machine</p>
<p>If I made some changes in the remote repo, you can make them applied to your local copy by typing <code>git pull</code>. You may get promoted to provide password. Then type the following to switch the remote URL’s address from HTTPS to SSH.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb62-1"><a href="git-bash.html#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> remote set-url origin git@github.com:[user]/[repo]</span></code></pre></div>
<p>If this doesn’t work and get the following error, then try the following (this assumes that your SSH key was removed). If you’re using Mac, try this instead: <code>ssh-add -k ~/.ssh/id_rsa</code></p>
<div class="sourceCode" id="cb63"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb63-1"><a href="git-bash.html#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ssh-add</span> ~/.ssh/id_rsa</span></code></pre></div>
<p>If you still face difficulties, see <a href="https://stackoverflow.com/questions/13509293/git-fatal-could-not-read-from-remote-repository">this stack overflow thread</a>.</p>
<p>If you screwed something up in your local copy, you can just overwrite the local copy using the remote repo and make it exactly looks like the latter.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb64-1"><a href="git-bash.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Download content from a remote repo </span></span>
<span id="cb64-2"><a href="git-bash.html#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> fetch origin</span>
<span id="cb64-3"><a href="git-bash.html#cb64-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-4"><a href="git-bash.html#cb64-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Going back to origin/main</span></span>
<span id="cb64-5"><a href="git-bash.html#cb64-5" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> reset --hard origin/main </span>
<span id="cb64-6"><a href="git-bash.html#cb64-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-7"><a href="git-bash.html#cb64-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove local files </span></span>
<span id="cb64-8"><a href="git-bash.html#cb64-8" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clean -f</span></code></pre></div>
<p>Note that the default branch name changed from master to main: <a href="https://github.com/github/renaming" class="uri">https://github.com/github/renaming</a> (Finally!) For this reason, if you’re interacting with old repositories, the main branch name is likely master.</p>
<p><strong>Additional tips</strong>
You can see cloning and forking on GitHub and they sound similar. Let me differentiate them.</p>
<ul>
<li><p>Cloning: creating a local copy of a <strong>public</strong> GitHub repo. In this case, you have writing access to the repo.</p></li>
<li><p>Forking (for open source projects): creating a copy of a <strong>public</strong> GitHub repo to your GitHub account then you can clone it. In this case, you don’t have writing access to the repo. If you want your changes reflected in the original repo, you need to create pull requests. Don’t worry about pull requests as I will explain the concept shortly. For more information, see <a href="https://docs.github.com/en/desktop/contributing-and-collaborating-using-github-desktop/cloning-and-forking-repositories-from-github-desktop">this documentation</a>.</p></li>
</ul>
</div>
<div id="making-a-repository" class="section level3" number="3.2.4">
<h3><span class="header-section-number">3.2.4</span> Making a repository</h3>
<p>Create a new directory and move to it.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb65-1"><a href="git-bash.html#cb65-1" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">mkdir</span> code_exercise </span>
<span id="cb65-2"><a href="git-bash.html#cb65-2" aria-hidden="true" tabindex="-1"></a>$ <span class="bu">cd</span> code_exercise </span></code></pre></div>
<div class="sourceCode" id="cb66"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb66-1"><a href="git-bash.html#cb66-1" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">git</span> init </span></code></pre></div>
<p>Alternatively, you can create a Git repository via GitHub and then clone it on your local machine. Perhaps, it is an easier path for new users (I also do this all the time). When you do this, I highly recommend add README (more on why we do this in the following subection).</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb67-1"><a href="git-bash.html#cb67-1" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">git</span> clone /path/to/repository</span></code></pre></div>
<p><strong>Additional tips</strong>
If you’re unfamiliar with basic Git commands, then please refer to <a href="http://rogerdudler.GitHub.io/git-guide/files/git_cheat_sheet.pdf">this Git cheet sheet</a>.</p>
</div>
<div id="commit-changes" class="section level3" number="3.2.5">
<h3><span class="header-section-number">3.2.5</span> Commit changes</h3>
<p>These feature show how Git works as a version control system.</p>
<p>If you edited files or added new ones, then you need to update your repository. In Git terms, this action is called committing changes.</p>
<p>My current pwd is <code>spring_2021</code>. I created a text file named <code>test</code> that contains text <code>jae</code>. You can check the file exists by typing <code>find "test"</code>.</p>
<p>The following is a typical workflow to reflect this change to the remote.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb68-1"><a href="git-bash.html#cb68-1" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">git</span> status <span class="co"># check what&#39;s changed. </span></span>
<span id="cb68-2"><a href="git-bash.html#cb68-2" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">git</span> add . <span class="co"># update every change. In Git terms, you&#39;re staging. </span></span>
<span id="cb68-3"><a href="git-bash.html#cb68-3" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">git</span> add file_name <span class="co"># or stage a specific file.</span></span>
<span id="cb68-4"><a href="git-bash.html#cb68-4" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">git</span> commit -m <span class="st">&quot;your comment&quot;</span> <span class="co"># your comment for the commit. </span></span>
<span id="cb68-5"><a href="git-bash.html#cb68-5" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">git</span> push origin main <span class="co"># commit the change. Origin is a default name given to a server by Git. `origin main` are optional. </span></span></code></pre></div>
<p>Another image from <a href="https://git-scm.com/about/staging-area">Pro Git</a> well illustrates this process.</p>
<div class="figure">
<img src="https://git-scm.com/images/about/index1@2x.png" alt="" />
<p class="caption">Git Workflow</p>
</div>
<p>If you made a mistake, don’t panic. You can’t revert the process.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb69-1"><a href="git-bash.html#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> reset --soft HEAD~1 <span class="co"># if you still want to keep the change, but you go back to t-1 </span></span>
<span id="cb69-2"><a href="git-bash.html#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> reset --hard HEAD~1 <span class="co"># if you&#39;re sure the change is unnecessary </span></span></code></pre></div>
<p>Writing an informative commit is important. To learn how to do this better, see the following video:</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/m0t1mOeAJgs" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p> Your Commits Should Tell a Story • Featuring Eliza Brock Marcum, GitHub Training & Guides </p>

</div>
<div id="push-and-pull-or-fetch" class="section level3" number="3.2.6">
<h3><span class="header-section-number">3.2.6</span> Push and pull (or fetch)</h3>
<p>These features show how Git works as a collaboration tool.</p>
<p>If you have not already done, let’s clone PS239T directory on your local machine.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb70-1"><a href="git-bash.html#cb70-1" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">git</span> clone https://github.com/PS239T/spring_2021 <span class="co"># clone </span></span></code></pre></div>
<p><strong>Additional tips 1</strong></p>
<p>If you try to remove <code>spring_2021</code> using <code>rm -r spring_2021/</code>, you will get an error about write-protected regular file. Then, try <code>rm -rf spring_2021/</code>.</p>
<p>Then, let’s learn more about the repository.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb71-1"><a href="git-bash.html#cb71-1" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">git</span> remote -v </span></code></pre></div>
<p>You should see something like the following:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb72-1"><a href="git-bash.html#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="ex">origin</span>  git@github.com:PS239T/spring_2021 (fetch)</span>
<span id="cb72-2"><a href="git-bash.html#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="ex">origin</span>  git@github.com:PS239T/spring_2021 (push)</span></code></pre></div>
<p>If you want to see more information, then type <code>git remote show origin</code></p>
<p>Previously, we learned how to send your data save in the local machine to the remote (the GitHub server). You can do that by editing or creating files, committing, and then typing <strong>git push</strong>.</p>
<p>Instead, if you want to update your local data with the remote data, then you can type <strong>git pull origin</strong> (something like pwd in bash). Alternatively, you can use fetch (retrieve data from a remote). When you do that, Git retrieves the data and merge it into your local data.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb73-1"><a href="git-bash.html#cb73-1" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">git</span> fetch origin</span></code></pre></div>
<p><strong>Additional tips 2</strong></p>
<p>Developers usually use PR to refer pull requests. When you are making PRs, it’s recommend to scope down (small PRs) because they are easier on reviewers and to test. To learn about how to accomplish this, see <a href="https://www.netlify.com/blog/2020/03/31/how-to-scope-down-prs/">this blog post</a> by Sarah Drasner.</p>
</div>
<div id="branching" class="section level3" number="3.2.7">
<h3><span class="header-section-number">3.2.7</span> Branching</h3>
<p>It’s an advanced feature of Git’s version control system that allows developers to “diverge from the main line of development and continue to do work without messing with that main line” according to <a href="https://git-scm.com/book/en/v1/Git-Branching">Scott Chacon and Ben Straub</a>.</p>
<p>If you start working on a new feature, then create a new branch.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb74-1"><a href="git-bash.html#cb74-1" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">git</span> branch new_features</span>
<span id="cb74-2"><a href="git-bash.html#cb74-2" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">git</span> checkout new_features</span></code></pre></div>
<p>You can see the newly created branch by typing <strong>git branch</strong>.</p>
<p>In short, branching makes Git <a href="https://git-scm.com/book/en/v2/Getting-Started-Git-Basics">works like</a> a mini file system.</p>
</div>
<div id="other-useful-commands" class="section level3" number="3.2.8">
<h3><span class="header-section-number">3.2.8</span> Other useful commands</h3>
<ol style="list-style-type: decimal">
<li>For tracking history</li>
</ol>
<div class="sourceCode" id="cb75"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb75-1"><a href="git-bash.html#cb75-1" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">git</span> diff <span class="co"># to see what changed (e.g., inside a file)</span></span>
<span id="cb75-2"><a href="git-bash.html#cb75-2" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">git</span> log <span class="co"># to track who committed what</span></span>
<span id="cb75-3"><a href="git-bash.html#cb75-3" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">git</span> log -S <span class="op">&lt;</span>pattern<span class="op">&gt;</span> <span class="co"># you can find a log that contains the pattern </span></span>
<span id="cb75-4"><a href="git-bash.html#cb75-4" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">git</span> checkout <span class="co"># to recover old files </span></span>
<span id="cb75-5"><a href="git-bash.html#cb75-5" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">git</span> revert <span class="co"># revert to the previous commit </span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>For removing and renaming files</li>
</ol>
<div class="sourceCode" id="cb76"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb76-1"><a href="git-bash.html#cb76-1" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">git</span> rm file_name <span class="co"># remove </span></span>
<span id="cb76-2"><a href="git-bash.html#cb76-2" aria-hidden="true" tabindex="-1"></a>$ <span class="fu">git</span> mv old_file_name new_file_name <span class="co"># rename a file </span></span></code></pre></div>
<p>How about removing a directory only from the GitHub but not local?</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb77-1"><a href="git-bash.html#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> rm -r --cached <span class="op">&lt;</span>directory<span class="op">&gt;</span></span>
<span id="cb77-2"><a href="git-bash.html#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit -m <span class="st">&quot;&lt;message&gt;&quot;</span></span>
<span id="cb77-3"><a href="git-bash.html#cb77-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> push</span></code></pre></div>
</div>
<div id="collaborations" class="section level3" number="3.2.9">
<h3><span class="header-section-number">3.2.9</span> Collaborations</h3>
<p>Two options.</p>
<ul>
<li>Sharing a repository (suitable for a private project).</li>
<li>Fork and pull (suitable for an open source project).
​ * The one who maintains the repository becomes the maintainer.
​ * The others can <a href="https://help.GitHub.com/articles/about-forks/">fork</a>, make changes, and even <a href="https://help.GitHub.com/articles/about-pull-requests/">pull</a> them back.</li>
</ul>
</div>
<div id="deployment-github-pages" class="section level3" number="3.2.10">
<h3><span class="header-section-number">3.2.10</span> Deployment: GitHub Pages</h3>
<p>GitHub pages are also useful to deploy websites. This book is deployed by GitHub Pages.</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/4TrOCv5Kukk" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p> Webcast • Get Started with GitHub Pages • Featuring Dani Traphagen, GitHub Training & Guides </p>

</div>
<div id="tracking-progress-github-issues" class="section level3" number="3.2.11">
<h3><span class="header-section-number">3.2.11</span> Tracking progress: GitHub Issues</h3>
<p>I use GitHub issues to collect and respond questions on the projects and classes in which I am involved.</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/TJlYiMp8FuY" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p> Webcast • GitHub Issues • A Quick Look, GitHub Training & Guides </p>

</div>
<div id="project-management-github-dashboards" class="section level3" number="3.2.12">
<h3><span class="header-section-number">3.2.12</span> Project management: GitHub Dashboards</h3>
<p>I use GitHub dashboards for almost every project that I have done.</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/YxKhb3fxtsU" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p> GitHub Projects Demo: Automation, Kanban, Scrum, Issues, Pull Request, Milestones, Issues, Tasks by Brandan Jones </p>
</div>
<div id="using-git-clients" class="section level3" number="3.2.13">
<h3><span class="header-section-number">3.2.13</span> Using Git clients</h3>
<p>Okay. Using command line Git helps you understand how Git works. Also, you know that if possible I’d love to do almost everything in the terminal. However, using command line Git is sometimes too complex or too buggy. An alternative is using Git clients (GUI).</p>
<p>I use <a href="https://www.gitkraken.com/">Git Kraken</a> because it’s free, works on almost every OS (Windows, Mac and Linux) and quite versatile. It’s especially useful to trace and understand your development process (e.g., commits, branches, pull requests, comments). I heard also positive things about <a href="https://desktop.github.com/">GitHub Desktop</a> (Windows and Mac) and <a href="https://www.sourcetreeapp.com/">Sourcetree</a> (Windows).</p>
</div>
</div>
<div id="getting-started-in-r" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Getting started in R</h2>
<div id="rstudio" class="section level3" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> RStudio</h3>
<p>There are two main ways of interacting with R: using the console or by using script files (plain text files that contain your code).</p>
<p>If R is ready to accept commands, the R console shows a <code>&gt;</code> prompt. If it receives a command (by typing, copy-pasting or sent from the script editor using <code>Ctrl-Enter</code>; <code>Command-Enter</code> will also work on Macs), R will try to execute it, and when ready, show the results and come back with a new <code>&gt;</code>-prompt to wait for new commands. This is the equivalent of the <code>$</code> in your terminal.</p>
</div>
<div id="basic-syntax" class="section level3" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> Basic Syntax</h3>
<p><strong>Comments</strong></p>
<p>Use <code>#</code> signs to comment. Comment liberally in your R scripts. Anything to the right of a <code>#</code> is ignored by R. For those of you familiar with other languages, there is no doc string, or equivalent to <code>"""</code> in R.</p>
<p><strong>Assignment operator</strong></p>
<p><code>&lt;-</code> is the assignment operator. It assigns values on the right to objects on the left. So, after executing <code>x &lt;- 3</code>, the value of <code>x</code> is <code>3</code>. The arrow can be read as 3 <strong>goes into</strong> <code>x</code>. You can also use <code>=</code> for assignments.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="git-bash.html#cb78-1" aria-hidden="true" tabindex="-1"></a>USweird <span class="ot">&lt;-</span> <span class="st">&quot;Why use lb for pound!&quot;</span> <span class="co"># Use this</span></span>
<span id="cb78-2"><a href="git-bash.html#cb78-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-3"><a href="git-bash.html#cb78-3" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Why use lb for pound!&quot;</span> <span class="ot">=</span> USweird</span></code></pre></div>
<p>Nonetheless, <em>can</em> does not mean you <em>should</em>. It is good practice to use <code>&lt;-</code> for assignments. <code>=</code> should only be used to specify the values of arguments of functions. This is what Google and Hadley Wickham recommend as well. If they don’t convince you enough, here’s <a href="https://csgillespie.wordpress.com/2010/11/16/assignment-operators-in-r-vs/">a real example</a>.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="git-bash.html#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) <span class="co"># Does it save x?</span></span></code></pre></div>
<pre><code>## [1] 5.5</code></pre>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="git-bash.html#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(x)</span></code></pre></div>
<pre><code>## Warning in rm(x): object &#39;x&#39; not found</code></pre>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="git-bash.html#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) <span class="co"># Does it save x?</span></span></code></pre></div>
<pre><code>## [1] 5.5</code></pre>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="git-bash.html#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(x)</span></code></pre></div>
<p><strong>Printing</strong></p>
<p>In R, the contents of an object can be printed by either simply executing the the object name or calling the <code>print()</code> function.</p>
<p><strong>Help</strong></p>
<ul>
<li><code>?</code> + object opens a help page for that specific object</li>
<li><code>??</code> + object searches help pages containing the name of the object</li>
</ul>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="git-bash.html#cb86-1" aria-hidden="true" tabindex="-1"></a>?mean</span>
<span id="cb86-2"><a href="git-bash.html#cb86-2" aria-hidden="true" tabindex="-1"></a>??mean</span>
<span id="cb86-3"><a href="git-bash.html#cb86-3" aria-hidden="true" tabindex="-1"></a><span class="fu">help</span>(mean)</span>
<span id="cb86-4"><a href="git-bash.html#cb86-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-5"><a href="git-bash.html#cb86-5" aria-hidden="true" tabindex="-1"></a><span class="co"># The above three will do same. </span></span>
<span id="cb86-6"><a href="git-bash.html#cb86-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-7"><a href="git-bash.html#cb86-7" aria-hidden="true" tabindex="-1"></a><span class="fu">example</span>(ls) <span class="co"># provides example for how to use ls </span></span>
<span id="cb86-8"><a href="git-bash.html#cb86-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-9"><a href="git-bash.html#cb86-9" aria-hidden="true" tabindex="-1"></a><span class="fu">help.search</span>(<span class="st">&quot;visualization&quot;</span>) <span class="co"># search functions and packages that have &quot;visualization&quot; in their descriptions</span></span></code></pre></div>
</div>
<div id="environment" class="section level3" number="3.3.3">
<h3><span class="header-section-number">3.3.3</span> Environment</h3>
<p>Environment = a collection of pairs</p>
<div id="objects" class="section level4" number="3.3.3.1">
<h4><span class="header-section-number">3.3.3.1</span> Objects</h4>
<ul>
<li>List objects in your current environment</li>
</ul>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="git-bash.html#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a numeric object </span></span>
<span id="cb87-2"><a href="git-bash.html#cb87-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>)</span>
<span id="cb87-3"><a href="git-bash.html#cb87-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-4"><a href="git-bash.html#cb87-4" aria-hidden="true" tabindex="-1"></a><span class="co"># List the object </span></span>
<span id="cb87-5"><a href="git-bash.html#cb87-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>()</span>
<span id="cb87-6"><a href="git-bash.html#cb87-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-7"><a href="git-bash.html#cb87-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the object </span></span>
<span id="cb87-8"><a href="git-bash.html#cb87-8" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(x)</span></code></pre></div>
<ul>
<li>Remove objects from your current environment</li>
</ul>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="git-bash.html#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an object </span></span>
<span id="cb88-2"><a href="git-bash.html#cb88-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb88-3"><a href="git-bash.html#cb88-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-4"><a href="git-bash.html#cb88-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the object </span></span>
<span id="cb88-5"><a href="git-bash.html#cb88-5" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(x)</span></code></pre></div>
<ul>
<li>Remove all objects from your current environment</li>
</ul>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="git-bash.html#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an object </span></span>
<span id="cb89-2"><a href="git-bash.html#cb89-2" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">7</span></span>
<span id="cb89-3"><a href="git-bash.html#cb89-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-4"><a href="git-bash.html#cb89-4" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb89-5"><a href="git-bash.html#cb89-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-6"><a href="git-bash.html#cb89-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the object </span></span>
<span id="cb89-7"><a href="git-bash.html#cb89-7" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span></code></pre></div>
<ul>
<li>Force memory release</li>
</ul>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="git-bash.html#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Garbage collect; for more information, type ?gc() </span></span>
<span id="cb90-2"><a href="git-bash.html#cb90-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-3"><a href="git-bash.html#cb90-3" aria-hidden="true" tabindex="-1"></a><span class="fu">gc</span>()</span></code></pre></div>
</div>
<div id="packages" class="section level4" number="3.3.3.2">
<h4><span class="header-section-number">3.3.3.2</span> Packages</h4>
<p><code>install.packages(package-name)</code> will download a package from one of the CRAN mirrors assuming that a binary is available for your operating system.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="git-bash.html#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># From CRAN</span></span>
<span id="cb91-2"><a href="git-bash.html#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;dplyr&quot;</span>) </span>
<span id="cb91-3"><a href="git-bash.html#cb91-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-4"><a href="git-bash.html#cb91-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Load package </span></span>
<span id="cb91-5"><a href="git-bash.html#cb91-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb91-6"><a href="git-bash.html#cb91-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-7"><a href="git-bash.html#cb91-7" aria-hidden="true" tabindex="-1"></a><span class="co"># From GitHub </span></span>
<span id="cb91-8"><a href="git-bash.html#cb91-8" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_GitHub</span>(<span class="st">&quot;jaeyk/tidytweetjson&quot;</span>) <span class="co"># my own package </span></span>
<span id="cb91-9"><a href="git-bash.html#cb91-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-10"><a href="git-bash.html#cb91-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Unload package </span></span>
<span id="cb91-11"><a href="git-bash.html#cb91-11" aria-hidden="true" tabindex="-1"></a><span class="co"># detach(&quot;package:stats&quot;, unload=TRUE)</span></span></code></pre></div>
<p><strong>Tips</strong></p>
<p>If you have multiple packages to install, then please consider using pacman package. The following is the example. First, you install pacman. Then, you load several libraries by using <code>p_load()</code> method.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="git-bash.html#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;pacman&quot;</span>)</span>
<span id="cb92-2"><a href="git-bash.html#cb92-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-3"><a href="git-bash.html#cb92-3" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(</span>
<span id="cb92-4"><a href="git-bash.html#cb92-4" aria-hidden="true" tabindex="-1"></a>  ggplot2,</span>
<span id="cb92-5"><a href="git-bash.html#cb92-5" aria-hidden="true" tabindex="-1"></a>  dplyr, </span>
<span id="cb92-6"><a href="git-bash.html#cb92-6" aria-hidden="true" tabindex="-1"></a>  broom</span>
<span id="cb92-7"><a href="git-bash.html#cb92-7" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>If you don’t like to use <code>pacman</code>, then the other option is to create a list (we’re going to learn what is list soon).</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="git-bash.html#cb93-1" aria-hidden="true" tabindex="-1"></a>pkgs <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;ggplot2&quot;</span>, <span class="st">&quot;dplyr&quot;</span>, <span class="st">&quot;broom&quot;</span>)</span>
<span id="cb93-2"><a href="git-bash.html#cb93-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-3"><a href="git-bash.html#cb93-3" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(pkgs)</span></code></pre></div>
<p>Still, we have to write two lines. The simpler, the better, right? Here’s another approach that can simplify the code further.</p>
<p>Note that <code>lapply()</code> applies (there’s a family of apply functions) a function to a list. In this case, library to pkgs. apply is an advanced concept, which is related to anonymous functions. We will learn about it later when we study functions.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="git-bash.html#cb94-1" aria-hidden="true" tabindex="-1"></a>inst <span class="ot">&lt;-</span> <span class="fu">lapply</span>(pkgs, library, </span>
<span id="cb94-2"><a href="git-bash.html#cb94-2" aria-hidden="true" tabindex="-1"></a>               <span class="at">character.only =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
</div>
</div>
<div id="project-oriented-research" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Project-oriented research</h2>
<div id="computational-reproducibility" class="section level3" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> Computational reproducibility</h3>
<ul>
<li><p>Replication = code + data</p></li>
<li><p>Computational reproduciblity = code + data + environment + distribution</p></li>
<li><p>Reproducibility checklist by <a href="http://www.biostat.jhsph.edu/~rpeng/">Roger Peng</a></p>
<ol style="list-style-type: decimal">
<li><p>Start with science (avoid vague questions and concepts)</p></li>
<li><p>Don’t do things by hand (not only about automation but also documentation)</p></li>
<li><p>Don’t point and click (same problem)</p></li>
<li><p>Teach a computer (automation also solves documentation to some extent)</p></li>
<li><p>Use some version control</p></li>
<li><p>Don’t save output (instead keep the input and code)</p></li>
<li><p>Set your seed</p></li>
<li><p>Think about the entire pipeline</p></li>
</ol></li>
</ul>
<div id="setup-1" class="section level4" number="3.4.1.1">
<h4><span class="header-section-number">3.4.1.1</span> Setup</h4>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="git-bash.html#cb95-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(</span>
<span id="cb95-2"><a href="git-bash.html#cb95-2" aria-hidden="true" tabindex="-1"></a>  tidyverse, <span class="co"># tidyverse</span></span>
<span id="cb95-3"><a href="git-bash.html#cb95-3" aria-hidden="true" tabindex="-1"></a>  here <span class="co"># computational reproducibility</span></span>
<span id="cb95-4"><a href="git-bash.html#cb95-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="motivation-1" class="section level4" number="3.4.1.2">
<h4><span class="header-section-number">3.4.1.2</span> Motivation</h4>
<p>Why do you need to make your research project computationally reproducible?</p>
<p>For your self-interest and public benefits.</p>
<p><img src="https://GitHub.com/dlab-berkeley/efficient-reproducible-project-management-in-R/blob/master/misc/screenshot.png?raw=true" /></p>
</div>
<div id="how-to-organize-files-in-a-project" class="section level4" number="3.4.1.3">
<h4><span class="header-section-number">3.4.1.3</span> How to organize files in a project</h4>
<p>You won’t be able to reproduce your project unless it is efficiently organized.</p>
<p>Step 1. <a href="https://environments.rstudio.com/"><strong>Environment</strong></a> is part of your project. If someone can’t reproduce your environment, they won’t be able to run your code.</p>
<ul>
<li>Launch R Studio. Tools &gt; Global Options. You <strong>should not</strong> check Restore .RData into workspace at startup. Also, set saving workspace option to <strong>NEVER.</strong></li>
</ul>
<p>Step 2. For each project, create a project directory named after the project.</p>
<p>name_of_the_project</p>
<ul>
<li>data:
<ul>
<li>raw</li>
<li>processed (all processed, cleaned, and tided)</li>
</ul></li>
<li>figures</li>
<li>packrat (optional)</li>
<li>reports (PDF, HTML, TEX, etc.,)</li>
<li>results (model outcomes, etc.,)</li>
<li>scripts (i.e., functions)</li>
<li>.gitignore (for Git)</li>
<li>name_of_project.Rproj (for R)</li>
<li>README.md (for Git)</li>
</ul>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="git-bash.html#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Don&#39;t name it a project. Use a name that&#39;s more informative. For instance, us_election not my_project.</span></span>
<span id="cb96-2"><a href="git-bash.html#cb96-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-3"><a href="git-bash.html#cb96-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="st">&quot;../us_election&quot;</span>)</span></code></pre></div>
<p>Step 3. Launch R Studio. Choose File &gt; New project &gt; Browse existing directories &gt; Create project This allows each project has its own workspace.</p>
<p>Step 4. Organize files by putting them in separate subdirectories and naming them in a sensible way.</p>
<ul>
<li><p>Treat raw data as read only (raw data should be RAW!) and put in the <code>data</code> subdirectory.</p>
<ul>
<li>Again, note that version control does not need replace backup. You still need to backup your raw data.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="git-bash.html#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;us_election&quot;</span>, <span class="st">&quot;data&quot;</span>))</span></code></pre></div>
<ul>
<li>Separate read-only data from processed data and put in the <code>processed_data</code> subdirectory.</li>
</ul>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="git-bash.html#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;us_election&quot;</span>, <span class="st">&quot;processed_data&quot;</span>))</span></code></pre></div>
<ul>
<li>Put your code in the <code>src</code> subdirectory.</li>
</ul>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="git-bash.html#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;us_election&quot;</span>, <span class="st">&quot;src&quot;</span>))</span></code></pre></div>
<ul>
<li>Put generated outputs (e.g., tables, figures) in the <code>outputs</code> subdirectory and treat them as disposable.</li>
</ul>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="git-bash.html#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;us_election&quot;</span>, <span class="st">&quot;outputs&quot;</span>))</span></code></pre></div>
<ul>
<li>Put your custom functions in the <code>functions</code> subdirectory. You can gather some of these functions and distribute them as an open-source library.</li>
</ul>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="git-bash.html#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;us_election&quot;</span>, <span class="st">&quot;functions&quot;</span>))</span></code></pre></div>
<p>Tired of creating these directories one by one? Why not automate? See the following example. You can save this function as an rscript (e.g., <code>setup.r</code>) and run in the terminal using <code>Rscript &lt;script name&gt;</code>.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="git-bash.html#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(pacman)) <span class="fu">install.packages</span>(<span class="st">&quot;pacman&quot;</span>)</span>
<span id="cb102-2"><a href="git-bash.html#cb102-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-3"><a href="git-bash.html#cb102-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Load here</span></span>
<span id="cb102-4"><a href="git-bash.html#cb102-4" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(</span>
<span id="cb102-5"><a href="git-bash.html#cb102-5" aria-hidden="true" tabindex="-1"></a>  purrr, <span class="co"># functional programming</span></span>
<span id="cb102-6"><a href="git-bash.html#cb102-6" aria-hidden="true" tabindex="-1"></a>  here <span class="co"># computational reproducibility</span></span>
<span id="cb102-7"><a href="git-bash.html#cb102-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb102-8"><a href="git-bash.html#cb102-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-9"><a href="git-bash.html#cb102-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Custom function</span></span>
<span id="cb102-10"><a href="git-bash.html#cb102-10" aria-hidden="true" tabindex="-1"></a>create_dirs <span class="ot">&lt;-</span> <span class="cf">function</span>(name) {</span>
<span id="cb102-11"><a href="git-bash.html#cb102-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(<span class="fu">here</span>(name))</span>
<span id="cb102-12"><a href="git-bash.html#cb102-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb102-13"><a href="git-bash.html#cb102-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-14"><a href="git-bash.html#cb102-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply function </span></span>
<span id="cb102-15"><a href="git-bash.html#cb102-15" aria-hidden="true" tabindex="-1"></a>purrr<span class="sc">::</span><span class="fu">map</span>(<span class="fu">c</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;processed_data&quot;</span>, <span class="st">&quot;src&quot;</span>, <span class="st">&quot;outputs&quot;</span>, <span class="st">&quot;functions&quot;</span>), create_dirs)</span></code></pre></div>
<p><strong>Challenge</strong></p>
<p>Set a project structure for a project named “starwars.”</p>
</div>
<div id="how-to-organize-code-in-a-r-markdown-file" class="section level4" number="3.4.1.4">
<h4><span class="header-section-number">3.4.1.4</span> How to organize code in a R markdown file</h4>
<ul>
<li><p>In addition to environment, <strong>workflow</strong> is an important component of project efficiency and reproducibility.</p></li>
<li><p>What is R markdown? An R package, developed by <a href="https://yihui.org/en/">Yihui Xie</a>, that provides an authoring framework for data science. Xie is also a developer of many widely popular R packages such as <code>knitr</code>, <a href="https://GitHub.com/yihui/xaringan"><code>xaringan</code></a> (cool kids use xaringan not <a href="https://en.wikipedia.org/wiki/Beamer_(LaTeX)">Beamer</a> these days), <code>blogdown</code> (used to create <a href="https://jaeyk.GitHub.io/">my personal website</a>), and <code>bookdown</code> (used to create this book) among many others.</p>
<ul>
<li>Many applications: <a href="https://rstudio.GitHub.io/distill/basics.html">reports</a>, <a href="https://bookdown.org/yihui/rmarkdown/xaringan.html">presentations</a>, <a href="https://rmarkdown.rstudio.com/flexdashboard/">dashboards</a>, <a href="https://bookdown.org/yihui/rmarkdown/websites.html">websites</a><br />
</li>
<li>Check out <a href="https://ysc-rmarkdown.netlify.app/">Communicating with R markdown workshop</a> by <a href="https://alison.rbind.io/">Alison Hill</a> (RStudio)
<ul>
<li>Alison Hill is a co-author of <a href="https://bookdown.org/yihui/blogdown/"><code>blogdown: Creating Websites with R Markdown.</code></a></li>
</ul></li>
<li>Key strengths: dynamic reporting + reproducible science + easy deployment</li>
</ul></li>
</ul>
<div class="figure">
<img src="https://GitHub.com/rstudio/concept-maps/raw/master/en/rmarkdown.svg" alt="" />
<p class="caption">Concept map for R Markdown. By Gabriela Sandoval, Florencia D’Andrea, Yanina Bellini Saibene, Monica Alonso.</p>
</div>
<iframe width="560" height="315" src="https://www.youtube.com/embed/s9aWmU0atlQ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>R Markdown The bigger picture - Garrett Grolemund</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Xn5AmUf7gDQ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>R-Ladies Oslo (English) - Reports to impress your boss! Rmarkdown magic - Athanasia Mowinckel</p>
<ul>
<li>R Markdown basic syntax</li>
</ul>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="git-bash.html#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Header 1</span></span>
<span id="cb103-2"><a href="git-bash.html#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Header 2</span></span>
<span id="cb103-3"><a href="git-bash.html#cb103-3" aria-hidden="true" tabindex="-1"></a><span class="do">### Header 3</span></span></code></pre></div>
<ul>
<li>Use these section headers to indicate workflow.</li>
</ul>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="git-bash.html#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import packages and data</span></span>
<span id="cb104-2"><a href="git-bash.html#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Tidy data</span></span>
<span id="cb104-3"><a href="git-bash.html#cb104-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Wrangle data</span></span>
<span id="cb104-4"><a href="git-bash.html#cb104-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Model data</span></span>
<span id="cb104-5"><a href="git-bash.html#cb104-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualize data</span></span></code></pre></div>
<ul>
<li><p>Press <code>ctrl + shift + o</code>. You can see a document outline based on these headers. This is a nice feature for finding code you need to focus.</p></li>
<li><p>If your project’s scale is large, then divide these sections into files, number, and save them in <code>code</code> subdirectory.</p>
<ul>
<li>01_wrangling.Rmd</li>
<li>02_modeling.Rmd
…</li>
</ul></li>
</ul>
</div>
<div id="making-a-project-computationally-reproducible" class="section level4" number="3.4.1.5">
<h4><span class="header-section-number">3.4.1.5</span> Making a project computationally reproducible</h4>
<ul>
<li><p><code>setwd()</code>: set a working directory.</p></li>
<li><p>Note that using <code>setwd()</code> is not a reproducible way to set up your project. For instance, none will be able to run the following code except me.</p></li>
</ul>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="git-bash.html#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set a working directory </span></span>
<span id="cb105-2"><a href="git-bash.html#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;/home/jae/starwars&quot;</span>)</span>
<span id="cb105-3"><a href="git-bash.html#cb105-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-4"><a href="git-bash.html#cb105-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Do something </span></span>
<span id="cb105-5"><a href="git-bash.html#cb105-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x =</span> mpg, <span class="at">y =</span> wt)) <span class="sc">+</span></span>
<span id="cb105-6"><a href="git-bash.html#cb105-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_point</span>()</span>
<span id="cb105-7"><a href="git-bash.html#cb105-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-8"><a href="git-bash.html#cb105-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Export the object. </span></span>
<span id="cb105-9"><a href="git-bash.html#cb105-9" aria-hidden="true" tabindex="-1"></a><span class="co"># dot means the working directory set by setwd()</span></span>
<span id="cb105-10"><a href="git-bash.html#cb105-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;./outputs/example.png&quot;</span>) <span class="co"># This is called relative path </span></span></code></pre></div>
<ul>
<li><p>Instead, learn how to use <code>here()</code>’.</p>
<ul>
<li><p>Key idea: separate workflow (e.g., workspace information) from products (code and data). For more information, read Jenny Bryan’s wonderful piece on <a href="https://www.tidyverse.org/blog/2017/12/workflow-vs-script/">project-oriented workflow</a>.</p></li>
<li><p>Example</p></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="git-bash.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="co"># New: Reproducible </span></span>
<span id="cb106-2"><a href="git-bash.html#cb106-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-3"><a href="git-bash.html#cb106-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x =</span> mpg, <span class="at">y =</span> wt)) <span class="sc">+</span></span>
<span id="cb106-4"><a href="git-bash.html#cb106-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_point</span>()</span>
<span id="cb106-5"><a href="git-bash.html#cb106-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-6"><a href="git-bash.html#cb106-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="fu">here</span>(<span class="st">&quot;project&quot;</span>, <span class="st">&quot;outputs&quot;</span>, <span class="st">&quot;example.png&quot;</span>))</span></code></pre></div>
<ul>
<li>How <code>here</code> works</li>
</ul>
<p><code>here()</code> function shows what’s the top-level project directory.</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="git-bash.html#cb107-1" aria-hidden="true" tabindex="-1"></a>here<span class="sc">::</span><span class="fu">here</span>()</span></code></pre></div>
<ul>
<li>Build a path including subdirectories</li>
</ul>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="git-bash.html#cb108-1" aria-hidden="true" tabindex="-1"></a>here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;project&quot;</span>, <span class="st">&quot;outputs&quot;</span>)</span>
<span id="cb108-2"><a href="git-bash.html#cb108-2" aria-hidden="true" tabindex="-1"></a>           <span class="co">#depth 1   #depth 2</span></span></code></pre></div>
<ul>
<li><p>How <code>here</code> defines the top-level project directory. The following list came from <a href="https://GitHub.com/jennybc/here_here">the here package vignette</a>).</p>
<ul>
<li><p>Is a file named .here present?</p></li>
<li><p>Is this an RStudio Project? (<strong>Note that we already set up an RStudio Project!</strong> So, if you use RStudio’s project feature, then you are ready to use <code>here</code>.)</p></li>
<li><p>Is this an R package? Does it have a DESCRIPTION file?</p></li>
<li><p>Is this a remake project? Does it have a file named <code>remake.yml</code>?</p></li>
<li><p>Is this a projectile project? Does it have a file named <code>.projectile</code>?</p></li>
<li><p>Is this a checkout from a version control system? Does it have a directory named <code>.git</code> or <code>.svn</code>? Currently, only Git and Subversion are supported.</p></li>
<li><p>If there’s no match then use <code>set_here()</code> to create an empty <code>.here</code> file.</p></li>
</ul></li>
</ul>
<p><strong>Challenge</strong></p>
<ol style="list-style-type: decimal">
<li>Can you define computational reproducibility?</li>
<li>Can you explain why sharing code and data is not enough for computational reproducibility</li>
</ol>
</div>
</div>
<div id="references-2" class="section level3" number="3.4.2">
<h3><span class="header-section-number">3.4.2</span> References</h3>
<ul>
<li><p>Code and data management</p>
<ul>
<li><a href="https://web.stanford.edu/~gentzkow/research/CodeAndData.pdf">“Code and Data for the Social Sciences: A Practitioner’s Guide”</a> by Matthew Gentkow and Jesse M. Shapiro</li>
</ul></li>
<li><p>Project-oriented research</p>
<ul>
<li><p>Computational reproducibility</p>
<ul>
<li><p><a href="https://GitHub.com/swcarpentry/good-enough-practices-in-scientific-computing/blob/gh-pages/good-enough-practices-for-scientific-computing.pdf">“Good Enough Practices in Scientific Computing”</a> by PLOS</p></li>
<li><p><a href="https://swcarpentry.GitHub.io/r-novice-gapminder/02-project-intro/">Project Management with RStudio</a> by Software Carpentry</p></li>
<li><p><a href="https://kbroman.org/steps2rr/">Initial steps toward reproducible research</a> by Karl Broman</p></li>
</ul></li>
<li><p>Version control</p>
<ul>
<li><p><a href="https://swcarpentry.GitHub.io/git-novice/">Version Control with Git</a> by Software Carpentry</p></li>
<li><p><a href="http://plain-text.co/">The Plain Person’s Guide to Plain Text Social Science</a> by Kieran Healy</p></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<div id="writing-code-how-to-code-like-a-professional" class="section level2" number="3.5">
<h2><span class="header-section-number">3.5</span> Writing code: How to code like a professional</h2>
<div id="write-readable-code" class="section level3" number="3.5.1">
<h3><span class="header-section-number">3.5.1</span> Write readable code</h3>
<ul>
<li>What is code style?</li>
</ul>
<blockquote>
<p>Every major open-source project has its own style guide: a set of conventions (sometimes arbitrary) about how to write code for that project. It is much easier to understand a large codebase when all the code in it is in a consistent style. - <a href="https://google.GitHub.io/styleguide/">Google Style Guides</a></p>
</blockquote>

<iframe width="560" height="315" src="https://www.youtube.com/embed/UjhX2sVf0eg" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
allowfullscreen></iframe>

<p>10 Tips For Clean Code - Michael Toppa</p>

<ul>
<li><p>How to avoid smelly code?</p>
<ul>
<li>Check out <a href="https://GitHub.com/jennybc/code-smells-and-feels#readme">the code-smells Git repository</a> by Jenny Bryan.</li>
</ul></li>
</ul>
<iframe width="560" height="315" src="https://www.youtube.com/embed/7oyiPBjLAWY" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p> Code smells and feels - Jenny Bryan</p>

<p> "Code smell" is an evocative term for that vague feeling of unease we get when reading certain bits of code. It's not necessarily wrong, but neither is it obviously correct. We may be reluctant to work on such code, because past experience suggests it's going to be fiddly and bug-prone. In contrast, there's another type of code that just feels good to read and work on. What's the difference? If we can be more precise about code smells and feels, we can be intentional about writing code that is easier and more pleasant to work on. I've been fortunate to spend the last couple years embedded in a group of developers working on the tidyverse and r-lib packages. Based on this experience, I'll talk about specific code smells and deodorizing strategies for R. - Jenny Bryan</p>
<ul>
<li><p>Naming matters</p>
<ul>
<li>When naming files, remember the following three rules:
<ul>
<li>Machine readable (avoid spaces, punctuation, periods, and any other special characters except _ and -)</li>
<li>Human readable (should be meaningful. No text1, image1, etc.,)</li>
<li>Ordering (e.g., 01, 02, 03, … )</li>
</ul></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="git-bash.html#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Good</span></span>
<span id="cb109-2"><a href="git-bash.html#cb109-2" aria-hidden="true" tabindex="-1"></a>fit_models.R</span>
<span id="cb109-3"><a href="git-bash.html#cb109-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-4"><a href="git-bash.html#cb109-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Bad</span></span>
<span id="cb109-5"><a href="git-bash.html#cb109-5" aria-hidden="true" tabindex="-1"></a>fit models.R</span></code></pre></div>
<ul>
<li>When naming objects:
<ul>
<li>Don’t use special characters.</li>
<li>Don’t capitalize.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="git-bash.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Good </span></span>
<span id="cb110-2"><a href="git-bash.html#cb110-2" aria-hidden="true" tabindex="-1"></a>day_one</span>
<span id="cb110-3"><a href="git-bash.html#cb110-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb110-4"><a href="git-bash.html#cb110-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Bad </span></span>
<span id="cb110-5"><a href="git-bash.html#cb110-5" aria-hidden="true" tabindex="-1"></a>DayOne</span></code></pre></div>
<ul>
<li>When naming functions:
<ul>
<li>Don’t use special characters.</li>
<li>Don’t capitalize.</li>
<li>Use <code>verbs</code> instead of <code>nouns</code>. (Functions do something!)</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="git-bash.html#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Good </span></span>
<span id="cb111-2"><a href="git-bash.html#cb111-2" aria-hidden="true" tabindex="-1"></a>run_rdd </span>
<span id="cb111-3"><a href="git-bash.html#cb111-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-4"><a href="git-bash.html#cb111-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Bad </span></span>
<span id="cb111-5"><a href="git-bash.html#cb111-5" aria-hidden="true" tabindex="-1"></a>rdd</span></code></pre></div>
<ul>
<li>Spacing</li>
</ul>
<p>Some people do spacing by pressing the Tab key and others do it by pressing the Space key multiple times (and this is a serious subject).</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/SsoOG6ZeyUI" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p> Tabs versus Spaces </p>

<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="git-bash.html#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Good</span></span>
<span id="cb112-2"><a href="git-bash.html#cb112-2" aria-hidden="true" tabindex="-1"></a>x[, <span class="dv">1</span>] </span>
<span id="cb112-3"><a href="git-bash.html#cb112-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-4"><a href="git-bash.html#cb112-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) </span>
<span id="cb112-5"><a href="git-bash.html#cb112-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-6"><a href="git-bash.html#cb112-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Bad</span></span>
<span id="cb112-7"><a href="git-bash.html#cb112-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-8"><a href="git-bash.html#cb112-8" aria-hidden="true" tabindex="-1"></a>x[,<span class="dv">1</span>]</span>
<span id="cb112-9"><a href="git-bash.html#cb112-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-10"><a href="git-bash.html#cb112-10" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span> (x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<ul>
<li>Indenting</li>
</ul>
<p>Indent at least 4 spaces. Note that some people, including none other than <a href="https://simplystatistics.org/2018/07/27/why-i-indent-my-code-8-spaces/">Roger Peng</a>, indent 8 spaces. The below example shows how you can change the default indentation setting using RStudio configuration.</p>
<div class="figure">
<img src="https://pbs.twimg.com/media/CuHHs7yXgAAFWeh?format=jpg&amp;name=360x360" alt="" />
<p class="caption">Roger Peng’s tweet</p>
</div>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="git-bash.html#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Good</span></span>
<span id="cb113-2"><a href="git-bash.html#cb113-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (y <span class="sc">&lt;</span> <span class="dv">0</span>) {</span>
<span id="cb113-3"><a href="git-bash.html#cb113-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">&quot;y is negative&quot;</span>)</span>
<span id="cb113-4"><a href="git-bash.html#cb113-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb113-5"><a href="git-bash.html#cb113-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-6"><a href="git-bash.html#cb113-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Bad</span></span>
<span id="cb113-7"><a href="git-bash.html#cb113-7" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (y <span class="sc">&lt;</span> <span class="dv">0</span>) {</span>
<span id="cb113-8"><a href="git-bash.html#cb113-8" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="st">&quot;Y is negative&quot;</span>)}</span></code></pre></div>
<ul>
<li>Long lines</li>
</ul>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="git-bash.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Good</span></span>
<span id="cb114-2"><a href="git-bash.html#cb114-2" aria-hidden="true" tabindex="-1"></a><span class="fu">do_something_very_complicated</span>(</span>
<span id="cb114-3"><a href="git-bash.html#cb114-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">something =</span> <span class="st">&quot;that&quot;</span>,</span>
<span id="cb114-4"><a href="git-bash.html#cb114-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">requires =</span> many,</span>
<span id="cb114-5"><a href="git-bash.html#cb114-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">arguments =</span> <span class="st">&quot;some of which may be long&quot;</span></span>
<span id="cb114-6"><a href="git-bash.html#cb114-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb114-7"><a href="git-bash.html#cb114-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-8"><a href="git-bash.html#cb114-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Bad</span></span>
<span id="cb114-9"><a href="git-bash.html#cb114-9" aria-hidden="true" tabindex="-1"></a><span class="fu">do_something_very_complicated</span>(<span class="st">&quot;that&quot;</span>, <span class="at">requires =</span> many, <span class="at">arguments =</span></span>
<span id="cb114-10"><a href="git-bash.html#cb114-10" aria-hidden="true" tabindex="-1"></a>                              <span class="st">&quot;some of which may be long&quot;</span></span>
<span id="cb114-11"><a href="git-bash.html#cb114-11" aria-hidden="true" tabindex="-1"></a>                              )</span></code></pre></div>
<ul>
<li>Comments
<ul>
<li>Use comments to explain your decisions.</li>
<li>But, show your code; Do not try to explain your code by comments.</li>
<li>Also, try to comment out rather than delete the code that you experiment with.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="git-bash.html#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Average sleep hours of Jae</span></span>
<span id="cb115-2"><a href="git-bash.html#cb115-2" aria-hidden="true" tabindex="-1"></a>jae <span class="sc">%&gt;%</span></span>
<span id="cb115-3"><a href="git-bash.html#cb115-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># By week</span></span>
<span id="cb115-4"><a href="git-bash.html#cb115-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(week) <span class="sc">%&gt;%</span></span>
<span id="cb115-5"><a href="git-bash.html#cb115-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Mean sleep hours </span></span>
<span id="cb115-6"><a href="git-bash.html#cb115-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">week_sleep =</span> <span class="fu">mean</span>(sleep, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<ul>
<li>Pipes (chaining commands)</li>
</ul>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="git-bash.html#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Good</span></span>
<span id="cb116-2"><a href="git-bash.html#cb116-2" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span></span>
<span id="cb116-3"><a href="git-bash.html#cb116-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Species) <span class="sc">%&gt;%</span></span>
<span id="cb116-4"><a href="git-bash.html#cb116-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize_if</span>(is.numeric, mean) <span class="sc">%&gt;%</span></span>
<span id="cb116-5"><a href="git-bash.html#cb116-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb116-6"><a href="git-bash.html#cb116-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(measure, value, <span class="sc">-</span>Species) <span class="sc">%&gt;%</span></span>
<span id="cb116-7"><a href="git-bash.html#cb116-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(value)</span>
<span id="cb116-8"><a href="git-bash.html#cb116-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-9"><a href="git-bash.html#cb116-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Bad</span></span>
<span id="cb116-10"><a href="git-bash.html#cb116-10" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Species) <span class="sc">%&gt;%</span> <span class="fu">summarize_all</span>(mean) <span class="sc">%&gt;%</span></span>
<span id="cb116-11"><a href="git-bash.html#cb116-11" aria-hidden="true" tabindex="-1"></a>ungroup <span class="sc">%&gt;%</span> <span class="fu">gather</span>(measure, value, <span class="sc">-</span>Species) <span class="sc">%&gt;%</span></span>
<span id="cb116-12"><a href="git-bash.html#cb116-12" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(value)</span></code></pre></div>
<ul>
<li><p>Additional tips</p></li>
<li><p>Use <code>lintr</code> to check whether your code complies with a recommended style guideline (e.g., <code>tidyverse</code>) and <code>styler</code> package to format your code according to the style guideline.</p></li>
</ul>
<div class="figure">
<img src="https://camo.GitHubusercontent.com/6cb80270269165a8d3046d2da03cbf2b8f19ee2f/687474703a2f2f692e696d6775722e636f6d2f61635632374e562e676966" alt="" />
<p class="caption">how lintr works</p>
</div>
</div>
<div id="write-reusable-code" class="section level3" number="3.5.2">
<h3><span class="header-section-number">3.5.2</span> Write reusable code</h3>
<ul>
<li>Pasting</li>
</ul>
<blockquote>
<p>Copy-and-paste programming, sometimes referred to as just pasting, is the production of highly repetitive computer programming code, as produced by copy and paste operations. It is primarily a pejorative term; those who use the term are often implying a lack of programming competence. It may also be the result of technology limitations (e.g., an insufficiently expressive development environment) as subroutines or libraries would normally be used instead. However, there are occasions when copy-and-paste programming is considered acceptable or necessary, such as for boilerplate, loop unrolling (when not supported automatically by the compiler), or certain programming idioms, and it is supported by some source code editors in the form of snippets. - <a href="https://en.wikipedia.org/wiki/Copy-and-paste_programming">Wikipedia</a></p>
</blockquote>
<ul>
<li><p>It’s okay for pasting for the first attempt to solve a problem. But if you copy and paste three times (a.k.a. <a href="https://en.wikipedia.org/wiki/Rule_of_three_(computer_programming)">Rule of Three</a> in programming), something’s wrong. You’re working too hard. You need to be lazy. What do I mean and how can you do that?</p></li>
<li><p>The following exercise was inspired by <a href="http://adv-r.had.co.nz/Functional-programming.html">Wickham’s example</a>.</p></li>
<li><p>Let’s imagine <code>df</code> is a survey dataset.</p>
<ul>
<li><p><code>a, b, c, d</code> = Survey questions</p></li>
<li><p><code>-99</code>: non-responses</p></li>
<li><p>Your goal: replace <code>-99</code> with <code>NA</code></p></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="git-bash.html#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Data</span></span>
<span id="cb117-2"><a href="git-bash.html#cb117-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-3"><a href="git-bash.html#cb117-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>) <span class="co"># for reproducibility </span></span>
<span id="cb117-4"><a href="git-bash.html#cb117-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-5"><a href="git-bash.html#cb117-5" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="st">&quot;a&quot;</span> <span class="ot">=</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="dv">99</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>), <span class="at">size =</span> <span class="dv">5</span> , <span class="at">replace=</span> <span class="cn">TRUE</span>),</span>
<span id="cb117-6"><a href="git-bash.html#cb117-6" aria-hidden="true" tabindex="-1"></a>             <span class="st">&quot;b&quot;</span> <span class="ot">=</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="dv">99</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>), <span class="at">size =</span> <span class="dv">5</span> , <span class="at">replace=</span> <span class="cn">TRUE</span>),</span>
<span id="cb117-7"><a href="git-bash.html#cb117-7" aria-hidden="true" tabindex="-1"></a>             <span class="st">&quot;c&quot;</span> <span class="ot">=</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="dv">99</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>), <span class="at">size =</span> <span class="dv">5</span> , <span class="at">replace=</span> <span class="cn">TRUE</span>),</span>
<span id="cb117-8"><a href="git-bash.html#cb117-8" aria-hidden="true" tabindex="-1"></a>             <span class="st">&quot;d&quot;</span> <span class="ot">=</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="dv">99</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>), <span class="at">size =</span> <span class="dv">5</span> , <span class="at">replace=</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="git-bash.html#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Copy and paste </span></span>
<span id="cb118-2"><a href="git-bash.html#cb118-2" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>a[df<span class="sc">$</span>a <span class="sc">==</span> <span class="sc">-</span><span class="dv">99</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb118-3"><a href="git-bash.html#cb118-3" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>b[df<span class="sc">$</span>b <span class="sc">==</span> <span class="sc">-</span><span class="dv">99</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb118-4"><a href="git-bash.html#cb118-4" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>c[df<span class="sc">$</span>c <span class="sc">==</span> <span class="sc">-</span><span class="dv">99</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb118-5"><a href="git-bash.html#cb118-5" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>d[df<span class="sc">$</span>d <span class="sc">==</span> <span class="sc">-</span><span class="dv">99</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb118-6"><a href="git-bash.html#cb118-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-7"><a href="git-bash.html#cb118-7" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>## # A tibble: 5 x 4
##       a     b     c     d
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1     3     3     3     1
## 2     3     2     3     1
## 3     1    NA     1     2
## 4     1    NA     2     1
## 5    NA     1     1     3</code></pre>
<ul>
<li>Using a function
<ul>
<li>function: input + computation + output</li>
<li>If you write a function, you gain efficiency because you don’t need to copy and paste the computation part.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="git-bash.html#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a custom function</span></span>
<span id="cb120-2"><a href="git-bash.html#cb120-2" aria-hidden="true" tabindex="-1"></a>fix_missing <span class="ot">&lt;-</span> <span class="cf">function</span>(x) { <span class="co"># INPUT</span></span>
<span id="cb120-3"><a href="git-bash.html#cb120-3" aria-hidden="true" tabindex="-1"></a>  x[x <span class="sc">==</span> <span class="sc">-</span><span class="dv">99</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span> <span class="co"># COMPUTATION</span></span>
<span id="cb120-4"><a href="git-bash.html#cb120-4" aria-hidden="true" tabindex="-1"></a>  x <span class="co"># OUTPUT </span></span>
<span id="cb120-5"><a href="git-bash.html#cb120-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb120-6"><a href="git-bash.html#cb120-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-7"><a href="git-bash.html#cb120-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply the function to each column (vector)</span></span>
<span id="cb120-8"><a href="git-bash.html#cb120-8" aria-hidden="true" tabindex="-1"></a><span class="co"># This iterated part can and should be automated.</span></span>
<span id="cb120-9"><a href="git-bash.html#cb120-9" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>a <span class="ot">&lt;-</span> <span class="fu">fix_missing</span>(df<span class="sc">$</span>a)</span>
<span id="cb120-10"><a href="git-bash.html#cb120-10" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>b <span class="ot">&lt;-</span> <span class="fu">fix_missing</span>(df<span class="sc">$</span>b)</span>
<span id="cb120-11"><a href="git-bash.html#cb120-11" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>c <span class="ot">&lt;-</span> <span class="fu">fix_missing</span>(df<span class="sc">$</span>c)</span>
<span id="cb120-12"><a href="git-bash.html#cb120-12" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>d <span class="ot">&lt;-</span> <span class="fu">fix_missing</span>(df<span class="sc">$</span>d)</span>
<span id="cb120-13"><a href="git-bash.html#cb120-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-14"><a href="git-bash.html#cb120-14" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<ul>
<li>Automation
<ul>
<li>Many options for automation in R: <code>for loop</code>, <code>apply</code> family, etc.</li>
<li>Here’s a tidy solution comes from <code>purrr</code> package.</li>
<li>The power and joy of one-liner.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="git-bash.html#cb121-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> purrr<span class="sc">::</span><span class="fu">map_df</span>(df, fix_missing) <span class="co"># What is this magic? We will unpack the blackbox (`map_df()`) later.</span></span>
<span id="cb121-2"><a href="git-bash.html#cb121-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-3"><a href="git-bash.html#cb121-3" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<ul>
<li>Takeaways</li>
</ul>
<ol style="list-style-type: decimal">
<li>Your code becomes more reusable, when it’s easier to <strong>change, debug, and scale up</strong>. Don’t repeat yourself and embrace the power of lazy programming.</li>
</ol>
<blockquote>
<p>Lazy, because only lazy programmers will want to write the kind of tools that might replace them in the end. Lazy, because only a lazy programmer will avoid writing monotonous, repetitive code—thus avoiding redundancy, the enemy of software maintenance and flexible refactoring. Mostly, the tools and processes that come out of this endeavor fired by laziness will speed up the production. - <a href="http://blogoscoped.com/archive/2005-08-24-n14.html">Philipp Lenssen</a></p>
</blockquote>
<ol start="2" style="list-style-type: decimal">
<li>Only when your code becomes <strong>reusable</strong>, you would become <strong>efficient</strong> in your data work. Otherwise, you need to start from scratch or copy and paste, when you work on a new project.</li>
</ol>
<blockquote>
<p>Code reuse aims to save time and resources and reduce redundancy by taking advantage of assets that have already been created in some form within the software product development process.[2] The key idea in reuse is that parts of a computer program written at one time can be or should be used in the construction of other programs written at a later time. - Wikipedia</p>
</blockquote>
</div>
<div id="test-your-code-systematically" class="section level3" number="3.5.3">
<h3><span class="header-section-number">3.5.3</span> Test your code systematically</h3>
<p>I strongly recommend switching from adhoc testing to formal automated testing (i.e., unit testing).</p>
<blockquote>
<p>Whenever you are tempted to type something into a print statement or a debugger expression, write it as a test instead. — Martin Fowler the author of <em>Refactoring</em></p>
</blockquote>

<iframe width="560" height="315" src="https://www.youtube.com/embed/bx92oCMxUhg" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p> R language tip: Test your code with testthat by InfoWorld /p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="git-bash.html#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(testthat)) <span class="fu">install.packages</span>(<span class="st">&quot;testthat&quot;</span>)</span></code></pre></div>
<pre><code>## Loading required package: testthat</code></pre>
<pre><code>## 
## Attaching package: &#39;testthat&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:dplyr&#39;:
## 
##     matches</code></pre>
<pre><code>## The following object is masked from &#39;package:purrr&#39;:
## 
##     is_null</code></pre>
<pre><code>## The following object is masked from &#39;package:tidyr&#39;:
## 
##     matches</code></pre>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="git-bash.html#cb128-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(testthat)</span>
<span id="cb128-2"><a href="git-bash.html#cb128-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-3"><a href="git-bash.html#cb128-3" aria-hidden="true" tabindex="-1"></a><span class="fu">context</span>(<span class="st">&quot;Variable check&quot;</span>)</span>
<span id="cb128-4"><a href="git-bash.html#cb128-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-5"><a href="git-bash.html#cb128-5" aria-hidden="true" tabindex="-1"></a><span class="fu">test_that</span>(<span class="st">&quot;Check whether instructor variable is setup correctly&quot;</span>, {</span>
<span id="cb128-6"><a href="git-bash.html#cb128-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb128-7"><a href="git-bash.html#cb128-7" aria-hidden="true" tabindex="-1"></a>  instructors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Jae&quot;</span>, <span class="st">&quot;Nick&quot;</span>)</span>
<span id="cb128-8"><a href="git-bash.html#cb128-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-9"><a href="git-bash.html#cb128-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expect_equal</span>(<span class="fu">class</span>(instructors), <span class="st">&quot;character&quot;</span>)</span>
<span id="cb128-10"><a href="git-bash.html#cb128-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-11"><a href="git-bash.html#cb128-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb128-12"><a href="git-bash.html#cb128-12" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## Test passed 🎉</code></pre>
<p>Inspired by an example in Hadley Wickham’s <a href="https://journal.r-project.org/archive/2011-1/RJournal_2011-1_Wickham.pdf">R Journal paper</a> (2011).</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="git-bash.html#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="fu">context</span>(<span class="st">&quot;Model check&quot;</span>)</span>
<span id="cb130-2"><a href="git-bash.html#cb130-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-3"><a href="git-bash.html#cb130-3" aria-hidden="true" tabindex="-1"></a><span class="fu">test_that</span>(<span class="st">&quot;Check whether the model is lm&quot;</span>, {</span>
<span id="cb130-4"><a href="git-bash.html#cb130-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb130-5"><a href="git-bash.html#cb130-5" aria-hidden="true" tabindex="-1"></a>  model <span class="ot">&lt;-</span> <span class="fu">lm</span>(mpg <span class="sc">~</span> wt, <span class="at">data =</span> mtcars)</span>
<span id="cb130-6"><a href="git-bash.html#cb130-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb130-7"><a href="git-bash.html#cb130-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Passes</span></span>
<span id="cb130-8"><a href="git-bash.html#cb130-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expect_that</span>(model, <span class="fu">is_a</span>(<span class="st">&quot;lm&quot;</span>))</span>
<span id="cb130-9"><a href="git-bash.html#cb130-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-10"><a href="git-bash.html#cb130-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fails</span></span>
<span id="cb130-11"><a href="git-bash.html#cb130-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expect_that</span>(model, <span class="fu">is_a</span>(<span class="st">&quot;glm&quot;</span>))</span>
<span id="cb130-12"><a href="git-bash.html#cb130-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-13"><a href="git-bash.html#cb130-13" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div>
</div>
</div>
<div id="run-tests" class="section level2" number="3.6">
<h2><span class="header-section-number">3.6</span> Run tests</h2>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="git-bash.html#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="fu">test_file</span>(<span class="fu">file.choose</span>()) <span class="co"># file </span></span>
<span id="cb131-2"><a href="git-bash.html#cb131-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-3"><a href="git-bash.html#cb131-3" aria-hidden="true" tabindex="-1"></a><span class="fu">test_dir</span>() <span class="co"># directory</span></span>
<span id="cb131-4"><a href="git-bash.html#cb131-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-5"><a href="git-bash.html#cb131-5" aria-hidden="true" tabindex="-1"></a><span class="fu">auto_test</span>() <span class="co"># the test code tested when you save file </span></span></code></pre></div>
<div id="asking-questions-minimal-reproducible-example" class="section level3" number="3.6.1">
<h3><span class="header-section-number">3.6.1</span> Asking questions: Minimal reproducible example</h3>
<ul>
<li><p>Chances are you’re going to use StackOverFlow a lot to solve a pressing problem you face. However, other can’t understand/be interested in your problem unless you can provide an example which they can understand with minimal efforts. Such example is called a minimal reproducible example.</p></li>
<li><p>Read <a href="https://stackoverflow.com/questions/5963269/how-to-make-a-great-r-reproducible-example">this StackOverFlow post</a> to understand the concept and best practices.</p></li>
<li><p>Simply put, a MRE consists of the following items:</p>
<ul>
<li>A minimal dataset</li>
<li>The minimal burnable code</li>
<li>The necessary information on package, R version, system (use <code>sessionInfo()</code>)</li>
<li>A seed for reproducibility (<code>set.seed()</code>), if you used a random process.</li>
</ul></li>
</ul>
<p>In practice, use <code>reprex</code> package to create the code component of the MRE.</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="git-bash.html#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(reprex)) <span class="fu">install.packages</span>(<span class="st">&quot;reprex&quot;</span>)</span></code></pre></div>
<p>Copy the following code and type <code>reprex()</code> in the console.</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="git-bash.html#cb133-1" aria-hidden="true" tabindex="-1"></a>gpa <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">3</span>)</span>
<span id="cb133-2"><a href="git-bash.html#cb133-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(gpa)</span></code></pre></div>
</div>
<div id="references-3" class="section level3" number="3.6.2">
<h3><span class="header-section-number">3.6.2</span> References</h3>
<ul>
<li><p>Writing code</p>
<ul>
<li>Style guides
<ul>
<li>R
<ul>
<li><a href="https://google.GitHub.io/styleguide/Rguide.xml">Google’s R style guide</a></li>
<li><a href="http://r-pkgs.had.co.nz/r.html">R code style guide</a> by Hadley Wickham</li>
<li><a href="http://style.tidyverse.org/">The tidyverse style guide</a> by Hadley Wickham</li>
</ul></li>
<li>Python
<ul>
<li><a href="https://GitHub.com/google/styleguide/blob/gh-pages/pyguide.md">Google Python Style Guide</a></li>
<li><a href="https://docs.python-guide.org/writing/style/#zen-of-python">Code Style</a> by the Hitchhiker’s Guide to Python</li>
</ul></li>
</ul></li>
</ul></li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="motivation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="tidy-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["PS239T.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
